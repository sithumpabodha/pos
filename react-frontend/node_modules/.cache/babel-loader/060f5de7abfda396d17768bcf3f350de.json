{"ast":null,"code":"import React from'react';import{connect}from'react-redux';import{useNavigate}from'react-router-dom';import MasterLayout from'../MasterLayout';import ReactDataTable from'../../shared/table/ReactDataTable';import TabTitle from'../../shared/tab-title/TabTitle';import{getFormattedMessage,placeholderText}from'../../shared/sharedMethod';import ActionButton from'../../shared/action-buttons/ActionButton';import TopProgressBar from\"../../shared/components/loaders/TopProgressBar\";import{fetchEmailTemplates,activeInactiveEmail}from\"../../store/action/emailTemplatesAction\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const EmailTemplates=props=>{const{totalRecord,isLoading,emailTemplates,fetchEmailTemplates,activeInactiveEmail}=props;const navigate=useNavigate();const onChange=filter=>{fetchEmailTemplates(filter,true);};const goToEditProduct=item=>{const id=item.id;navigate(`/app/email-templates/${id}`);};const itemsValue=emailTemplates.length>=0&&emailTemplates.map(emailTemplate=>{var _emailTemplate$attrib,_emailTemplate$attrib2;return{name:emailTemplate.attributes.template_name,content:emailTemplate.attributes.content,is_active:(emailTemplate===null||emailTemplate===void 0?void 0:(_emailTemplate$attrib=emailTemplate.attributes)===null||_emailTemplate$attrib===void 0?void 0:_emailTemplate$attrib.status)===0||(emailTemplate===null||emailTemplate===void 0?void 0:(_emailTemplate$attrib2=emailTemplate.attributes)===null||_emailTemplate$attrib2===void 0?void 0:_emailTemplate$attrib2.status)===false?false:true,id:emailTemplate.id};});const columns=[{name:getFormattedMessage('supplier.table.name.column.title'),selector:row=>row.name,sortField:'template_name',sortable:true},{name:getFormattedMessage(\"purchase.select.status.label\"),sortField:'status',cell:row=>{const content=row.content;const item=content.replace(/<\\/?.+?>/ig,'');return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center mt-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"form-check form-switch form-switch-sm\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"status\",\"data-id\":\"704\",className:\"form-check-input admin-status\",type:\"checkbox\",value:\"1\",checked:row.is_active,onChange:()=>onChecked(row)}),/*#__PURE__*/_jsx(\"span\",{className:\"switch-slider\",\"data-checked\":\"\\u2713\",\"data-unchecked\":\"\\u2715\"})]})});},sortable:false},{name:getFormattedMessage(\"globally.input.content.label\"),// selector: row => row.content,\nsortField:'content',cell:row=>{const content=row.content;const item=content.replace(/<\\/?.+?>/ig,'');return/*#__PURE__*/_jsx(\"div\",{children:item});},sortable:true},{name:getFormattedMessage('react-data-table.action.column.label'),right:true,ignoreRowClick:true,allowOverflow:true,button:true,cell:row=>/*#__PURE__*/_jsx(ActionButton,{item:row,isDeleteMode:false,goToEditProduct:goToEditProduct,isEditMode:true})}];const onChecked=row=>{activeInactiveEmail(row.id,row);};return/*#__PURE__*/_jsxs(MasterLayout,{children:[/*#__PURE__*/_jsx(TopProgressBar,{}),/*#__PURE__*/_jsx(TabTitle,{title:placeholderText('email-template.title')}),/*#__PURE__*/_jsx(ReactDataTable,{columns:columns,items:itemsValue,onChange:onChange,isLoading:isLoading,totalRows:totalRecord,to:\"#/app/email-templates/create\"})]});};const mapStateToProps=state=>{const{totalRecord,isLoading,emailTemplates}=state;return{totalRecord,isLoading,emailTemplates};};export default connect(mapStateToProps,{fetchEmailTemplates,activeInactiveEmail})(EmailTemplates);","map":{"version":3,"names":["React","connect","useNavigate","MasterLayout","ReactDataTable","TabTitle","getFormattedMessage","placeholderText","ActionButton","TopProgressBar","fetchEmailTemplates","activeInactiveEmail","jsx","_jsx","jsxs","_jsxs","EmailTemplates","props","totalRecord","isLoading","emailTemplates","navigate","onChange","filter","goToEditProduct","item","id","itemsValue","length","map","emailTemplate","_emailTemplate$attrib","_emailTemplate$attrib2","name","attributes","template_name","content","is_active","status","columns","selector","row","sortField","sortable","cell","replace","className","children","type","value","checked","onChecked","right","ignoreRowClick","allowOverflow","button","isDeleteMode","isEditMode","title","items","totalRows","to","mapStateToProps","state"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/Email-templates/EmailTemplates.js"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport MasterLayout from '../MasterLayout';\nimport ReactDataTable from '../../shared/table/ReactDataTable';\nimport TabTitle from '../../shared/tab-title/TabTitle';\nimport { getFormattedMessage, placeholderText } from '../../shared/sharedMethod';\nimport ActionButton from '../../shared/action-buttons/ActionButton';\nimport TopProgressBar from \"../../shared/components/loaders/TopProgressBar\";\nimport { fetchEmailTemplates, activeInactiveEmail } from \"../../store/action/emailTemplatesAction\";\n\nconst EmailTemplates = ( props ) => {\n    const { totalRecord, isLoading, emailTemplates, fetchEmailTemplates, activeInactiveEmail } = props;\n\n    const navigate = useNavigate();\n\n    const onChange = ( filter ) => {\n        fetchEmailTemplates( filter, true );\n    };\n\n    const goToEditProduct = ( item ) => {\n        const id = item.id\n        navigate( `/app/email-templates/${id}` )\n    };\n\n    const itemsValue = emailTemplates.length >= 0 && emailTemplates.map( emailTemplate => ( {\n        name: emailTemplate.attributes.template_name,\n        content: emailTemplate.attributes.content,\n        is_active: emailTemplate?.attributes?.status === 0 || emailTemplate?.attributes?.status === false ? false : true,\n        id: emailTemplate.id\n    } ) );\n\n    const columns = [\n        {\n            name: getFormattedMessage( 'supplier.table.name.column.title' ),\n            selector: row => row.name,\n            sortField: 'template_name',\n            sortable: true,\n        },\n        {\n            name: getFormattedMessage( \"purchase.select.status.label\" ),\n            sortField: 'status',\n            cell: row => {\n                const content = row.content\n                const item = content.replace( /<\\/?.+?>/ig, '' );\n                return (\n                    <div className=\"d-flex align-items-center mt-4\">\n                        <label className=\"form-check form-switch form-switch-sm\">\n                            <input name=\"status\" data-id=\"704\" className=\"form-check-input admin-status\" type=\"checkbox\"\n                                value=\"1\" checked={row.is_active} onChange={() => onChecked( row )} />\n                            <span className=\"switch-slider\" data-checked=\"✓\" data-unchecked=\"✕\"></span>\n                        </label>\n                    </div>\n                )\n            },\n            sortable: false,\n        },\n        {\n            name: getFormattedMessage( \"globally.input.content.label\" ),\n            // selector: row => row.content,\n            sortField: 'content',\n            cell: row => {\n                const content = row.content\n                const item = content.replace( /<\\/?.+?>/ig, '' );\n                return (\n                    <div>{item}</div>\n                )\n            },\n            sortable: true,\n        },\n        {\n            name: getFormattedMessage( 'react-data-table.action.column.label' ),\n            right: true,\n            ignoreRowClick: true,\n            allowOverflow: true,\n            button: true,\n            cell: row => <ActionButton item={row} isDeleteMode={false} goToEditProduct={goToEditProduct} isEditMode={true} />\n        }\n    ];\n\n    const onChecked = ( row ) => {\n        activeInactiveEmail( row.id, row );\n    };\n\n    return (\n        <MasterLayout>\n            <TopProgressBar />\n            <TabTitle title={placeholderText( 'email-template.title' )} />\n            <ReactDataTable columns={columns} items={itemsValue} onChange={onChange} isLoading={isLoading} totalRows={totalRecord}\n                to='#/app/email-templates/create' />\n        </MasterLayout>\n    )\n};\n\nconst mapStateToProps = ( state ) => {\n    const { totalRecord, isLoading, emailTemplates } = state;\n    return { totalRecord, isLoading, emailTemplates }\n};\n\nexport default connect( mapStateToProps, { fetchEmailTemplates, activeInactiveEmail } )( EmailTemplates );\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}