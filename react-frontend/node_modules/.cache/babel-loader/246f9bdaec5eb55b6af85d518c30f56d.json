{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Card,Row,Table,OverlayTrigger,Tooltip}from\"react-bootstrap\";import{connect,useSelector}from\"react-redux\";import moment from\"moment/moment\";import{currencySymbolHandling,getFormattedMessage}from\"../../shared/sharedMethod\";import{topSellingProduct}from\"../../store/action/topSellingProductAction\";import{fetchTopCustomers}from\"../../store/action/topCustomersAction\";import TopCustomersChart from\"./TopCustomersChart\";import{Tokens}from\"../../constants\";import\"moment/min/locales.min\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const TopSellingProduct=props=>{const{topSelling,topSellingProduct,frontSetting,fetchTopCustomers,topCustomers,allConfigData}=props;const[languageCode,setLanguageCode]=useState(\"enGB\");const updatedLanguage=localStorage.getItem(Tokens.UPDATED_LANGUAGE);const{selectedLanguage}=useSelector(state=>state);const messages=updatedLanguage?updatedLanguage:selectedLanguage;useEffect(()=>{topSellingProduct();fetchTopCustomers();},[]);useEffect(()=>{if(messages===\"en\"){setLanguageCode(\"enGB\");}else if(messages===\"sp\"){setLanguageCode(\"es\");}else if(messages===\"gr\"){setLanguageCode(\"de\");}else if(messages===\"fr\"){setLanguageCode(\"fr\");}else if(messages===\"ar\"){setLanguageCode(\"ar\");}else if(messages===\"tr\"){setLanguageCode(\"tr\");}else if(messages===\"vi\"){setLanguageCode(\"vi\");}else if(messages===\"cn\"){setLanguageCode(\"zh-cn\");}},[messages]);return/*#__PURE__*/_jsx(\"div\",{className:\"pt-6\",children:/*#__PURE__*/_jsxs(Row,{className:\"g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xxl-8 col-12\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{className:\"pb-0 px-10\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[getFormattedMessage(\"dashboard.TopSellingProducts.title\"),\" \",\"(\",moment().locale(languageCode).format(\"MMMM\"),\")\"]})}),/*#__PURE__*/_jsx(Card.Body,{className:\"pt-7 pb-2\",children:/*#__PURE__*/_jsxs(Table,{responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage(\"dashboard.stockAlert.product.label\")}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage(\"dashboard.stockAlert.quantity.label\")}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage(\"dashboard.grantTotal.label\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:topSelling&&topSelling.map((top,index)=>{const renderTooltip=props=>/*#__PURE__*/_jsx(Tooltip,{id:\"button-tooltip\",...props,children:currencySymbolHandling(allConfigData,frontSetting.value&&frontSetting.value.currency_symbol,top.grand_total)});return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-4\",children:top.name}),/*#__PURE__*/_jsx(\"td\",{className:\"py-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-light-primary me-2\",children:[top.total_quantity,\" \",top.sale_unit]})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-4\",children:/*#__PURE__*/_jsx(OverlayTrigger,{placement:\"bottom\",delay:{show:250,hide:400},overlay:renderTooltip,children:/*#__PURE__*/_jsx(\"span\",{children:currencySymbolHandling(allConfigData,frontSetting.value&&frontSetting.value.currency_symbol,top.grand_total)})})})]},index);})})]})})]})}),/*#__PURE__*/_jsx(TopCustomersChart,{frontSetting:frontSetting,languageCode:languageCode,topCustomers:topCustomers,allConfigData:allConfigData})]})});};const mapStateToProps=state=>{const{topSelling,topCustomers,allConfigData}=state;return{topSelling,topCustomers,allConfigData};};export default connect(mapStateToProps,{topSellingProduct,fetchTopCustomers})(TopSellingProduct);","map":{"version":3,"names":["React","useEffect","useState","Card","Row","Table","OverlayTrigger","Tooltip","connect","useSelector","moment","currencySymbolHandling","getFormattedMessage","topSellingProduct","fetchTopCustomers","TopCustomersChart","Tokens","jsxs","_jsxs","jsx","_jsx","TopSellingProduct","props","topSelling","frontSetting","topCustomers","allConfigData","languageCode","setLanguageCode","updatedLanguage","localStorage","getItem","UPDATED_LANGUAGE","selectedLanguage","state","messages","className","children","Header","locale","format","Body","responsive","map","top","index","renderTooltip","id","value","currency_symbol","grand_total","name","total_quantity","sale_unit","placement","delay","show","hide","overlay","mapStateToProps"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/dashboard/TopSellingProduct.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Card, Row, Table, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { connect, useSelector } from \"react-redux\";\nimport moment from \"moment/moment\";\nimport {\n    currencySymbolHandling,\n    getFormattedMessage,\n} from \"../../shared/sharedMethod\";\nimport { topSellingProduct } from \"../../store/action/topSellingProductAction\";\nimport { fetchTopCustomers } from \"../../store/action/topCustomersAction\";\nimport TopCustomersChart from \"./TopCustomersChart\";\nimport { Tokens } from \"../../constants\";\nimport \"moment/min/locales.min\";\n\nconst TopSellingProduct = (props) => {\n    const {\n        topSelling,\n        topSellingProduct,\n        frontSetting,\n        fetchTopCustomers,\n        topCustomers,\n        allConfigData,\n    } = props;\n    const [languageCode, setLanguageCode] = useState(\"enGB\");\n\n    const updatedLanguage = localStorage.getItem(Tokens.UPDATED_LANGUAGE);\n    const { selectedLanguage } = useSelector((state) => state);\n    const messages = updatedLanguage ? updatedLanguage : selectedLanguage;\n    useEffect(() => {\n        topSellingProduct();\n        fetchTopCustomers();\n    }, []);\n\n    useEffect(() => {\n        if (messages === \"en\") {\n            setLanguageCode(\"enGB\");\n        } else if (messages === \"sp\") {\n            setLanguageCode(\"es\");\n        } else if (messages === \"gr\") {\n            setLanguageCode(\"de\");\n        } else if (messages === \"fr\") {\n            setLanguageCode(\"fr\");\n        } else if (messages === \"ar\") {\n            setLanguageCode(\"ar\");\n        } else if (messages === \"tr\") {\n            setLanguageCode(\"tr\");\n        } else if (messages === \"vi\") {\n            setLanguageCode(\"vi\");\n        } else if (messages === \"cn\") {\n            setLanguageCode(\"zh-cn\");\n        }\n    }, [messages]);\n\n    return (\n        <div className=\"pt-6\">\n            <Row className=\"g-4\">\n                <div className=\"col-xxl-8 col-12\">\n                    <Card>\n                        <Card.Header className=\"pb-0 px-10\">\n                            <h5 className=\"mb-0\">\n                                {getFormattedMessage(\n                                    \"dashboard.TopSellingProducts.title\"\n                                )}{\" \"}\n                                ({moment().locale(languageCode).format(\"MMMM\")})\n                            </h5>\n                        </Card.Header>\n                        <Card.Body className=\"pt-7 pb-2\">\n                            <Table responsive>\n                                <thead>\n                                    <tr>\n                                        <th>\n                                            {getFormattedMessage(\n                                                \"dashboard.stockAlert.product.label\"\n                                            )}\n                                        </th>\n                                        <th>\n                                            {getFormattedMessage(\n                                                \"dashboard.stockAlert.quantity.label\"\n                                            )}\n                                        </th>\n                                        <th>\n                                            {getFormattedMessage(\n                                                \"dashboard.grantTotal.label\"\n                                            )}\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {topSelling &&\n                                        topSelling.map((top, index) => {\n                                            const renderTooltip = (props) => (\n                                                <Tooltip\n                                                    id=\"button-tooltip\"\n                                                    {...props}\n                                                >\n                                                    {currencySymbolHandling(\n                                                        allConfigData,\n                                                        frontSetting.value &&\n                                                            frontSetting.value\n                                                                .currency_symbol,\n                                                        top.grand_total\n                                                    )}\n                                                </Tooltip>\n                                            );\n                                            return (\n                                                <tr key={index}>\n                                                    <td className=\"py-4\">\n                                                        {top.name}\n                                                    </td>\n                                                    <td className=\"py-4\">\n                                                        <span className=\"badge bg-light-primary me-2\">\n                                                            {top.total_quantity}{\" \"}\n                                                            {top.sale_unit}\n                                                        </span>\n                                                    </td>\n\n                                                    <td className=\"py-4\">\n                                                        <OverlayTrigger\n                                                            placement=\"bottom\"\n                                                            delay={{\n                                                                show: 250,\n                                                                hide: 400,\n                                                            }}\n                                                            overlay={\n                                                                renderTooltip\n                                                            }\n                                                        >\n                                                            <span>\n                                                                {currencySymbolHandling(\n                                                                    allConfigData,\n                                                                    frontSetting.value &&\n                                                                        frontSetting\n                                                                            .value\n                                                                            .currency_symbol,\n                                                                    top.grand_total\n                                                                )}\n                                                            </span>\n                                                        </OverlayTrigger>\n                                                    </td>\n                                                </tr>\n                                            );\n                                        })}\n                                </tbody>\n                            </Table>\n                        </Card.Body>\n                    </Card>\n                </div>\n                <TopCustomersChart\n                    frontSetting={frontSetting}\n                    languageCode={languageCode}\n                    topCustomers={topCustomers}\n                    allConfigData={allConfigData}\n                />\n            </Row>\n        </div>\n    );\n};\n\nconst mapStateToProps = (state) => {\n    const { topSelling, topCustomers, allConfigData } = state;\n    return { topSelling, topCustomers, allConfigData };\n};\n\nexport default connect(mapStateToProps, {\n    topSellingProduct,\n    fetchTopCustomers,\n})(TopSellingProduct);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}