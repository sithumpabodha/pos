{"ast":null,"code":"import apiConfig from\"../../config/apiConfig\";import{apiBaseURL,smsTemplatesActionType,toastType}from\"../../constants\";import requestParam from\"../../shared/requestParam\";import{addToast}from\"./toastAction\";import{setTotalRecord}from\"./totalRecordAction\";import{setLoading}from\"./loadingAction\";import{getFormattedMessage}from\"../../shared/sharedMethod\";export const fetchSmsTemplates=function(){let filter=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let isLoading=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return async dispatch=>{if(isLoading){dispatch(setLoading(true));}let url=apiBaseURL.SMS_TEMPLATES;if(!_.isEmpty(filter)&&(filter.page||filter.pageSize||filter.search||filter.order_By)){url+=requestParam(filter,false,false,true,url);}apiConfig.get(url).then(response=>{dispatch({type:smsTemplatesActionType.FETCH_SMS_TEMPLATES,payload:response.data.data});dispatch(setTotalRecord(response.data.meta.total!==undefined&&response.data.meta.total>=0?response.data.meta.total:response.data.data.total));if(isLoading){dispatch(setLoading(false));}}).catch(_ref=>{let{response}=_ref;dispatch(addToast({text:response.data.message,type:toastType.ERROR}));});};};export const fetchSmsTemplate=Id=>async dispatch=>{apiConfig.get(apiBaseURL.SMS_TEMPLATES+\"/\"+Id+\"/edit\").then(response=>{dispatch({type:smsTemplatesActionType.FETCH_SMS_TEMPLATE,payload:response.data.data});}).catch(_ref2=>{let{response}=_ref2;dispatch(addToast({text:response.data.message,type:toastType.ERROR}));});};export const UpdateSmsTemplate=(Id,smsTemplate,navigate)=>async dispatch=>{apiConfig.put(apiBaseURL.SMS_TEMPLATES+\"/\"+Id,smsTemplate).then(response=>{dispatch({type:smsTemplatesActionType.EDIT_SMS_TEMPLATE,payload:response.data.data});dispatch(addToast({text:getFormattedMessage(\"sms-template.success.edit.message\")}));navigate(\"/app/sms-templates\");}).catch(_ref3=>{let{response}=_ref3;dispatch(addToast({text:response.data.message,type:toastType.ERROR}));});};export const activeInactiveSms=Id=>async dispatch=>{apiConfig.post(apiBaseURL.SMS_TEMPLATES_STATUS+\"/\"+Id).then(response=>{dispatch({type:smsTemplatesActionType.SET_ACTIVE_DE_ACTIVE,payload:response.data.data});dispatch(addToast({text:getFormattedMessage(\"sms.status.edit.success.message\")}));}).catch(_ref4=>{let{response}=_ref4;dispatch(addToast({text:response.data.message,type:toastType.ERROR}));});};","map":{"version":3,"names":["apiConfig","apiBaseURL","smsTemplatesActionType","toastType","requestParam","addToast","setTotalRecord","setLoading","getFormattedMessage","fetchSmsTemplates","filter","arguments","length","undefined","isLoading","dispatch","url","SMS_TEMPLATES","_","isEmpty","page","pageSize","search","order_By","get","then","response","type","FETCH_SMS_TEMPLATES","payload","data","meta","total","catch","_ref","text","message","ERROR","fetchSmsTemplate","Id","FETCH_SMS_TEMPLATE","_ref2","UpdateSmsTemplate","smsTemplate","navigate","put","EDIT_SMS_TEMPLATE","_ref3","activeInactiveSms","post","SMS_TEMPLATES_STATUS","SET_ACTIVE_DE_ACTIVE","_ref4"],"sources":["C:/Users/Sithu/Music/react-frontend/src/store/action/smsTemplatesAction.js"],"sourcesContent":["import apiConfig from \"../../config/apiConfig\";\nimport { apiBaseURL, smsTemplatesActionType, toastType } from \"../../constants\";\nimport requestParam from \"../../shared/requestParam\";\nimport { addToast } from \"./toastAction\";\nimport { setTotalRecord } from \"./totalRecordAction\";\nimport { setLoading } from \"./loadingAction\";\nimport { getFormattedMessage } from \"../../shared/sharedMethod\";\n\nexport const fetchSmsTemplates =\n    (filter = {}, isLoading = true) =>\n    async (dispatch) => {\n        if (isLoading) {\n            dispatch(setLoading(true));\n        }\n        let url = apiBaseURL.SMS_TEMPLATES;\n        if (\n            !_.isEmpty(filter) &&\n            (filter.page || filter.pageSize || filter.search || filter.order_By)\n        ) {\n            url += requestParam(filter, false, false, true, url);\n        }\n        apiConfig\n            .get(url)\n            .then((response) => {\n                dispatch({\n                    type: smsTemplatesActionType.FETCH_SMS_TEMPLATES,\n                    payload: response.data.data,\n                });\n                dispatch(\n                    setTotalRecord(\n                        response.data.meta.total !== undefined &&\n                            response.data.meta.total >= 0\n                            ? response.data.meta.total\n                            : response.data.data.total\n                    )\n                );\n                if (isLoading) {\n                    dispatch(setLoading(false));\n                }\n            })\n            .catch(({ response }) => {\n                dispatch(\n                    addToast({\n                        text: response.data.message,\n                        type: toastType.ERROR,\n                    })\n                );\n            });\n    };\n\nexport const fetchSmsTemplate = (Id) => async (dispatch) => {\n    apiConfig\n        .get(apiBaseURL.SMS_TEMPLATES + \"/\" + Id + \"/edit\")\n        .then((response) => {\n            dispatch({\n                type: smsTemplatesActionType.FETCH_SMS_TEMPLATE,\n                payload: response.data.data,\n            });\n        })\n        .catch(({ response }) => {\n            dispatch(\n                addToast({ text: response.data.message, type: toastType.ERROR })\n            );\n        });\n};\n\nexport const UpdateSmsTemplate =\n    (Id, smsTemplate, navigate) => async (dispatch) => {\n        apiConfig\n            .put(apiBaseURL.SMS_TEMPLATES + \"/\" + Id, smsTemplate)\n            .then((response) => {\n                dispatch({\n                    type: smsTemplatesActionType.EDIT_SMS_TEMPLATE,\n                    payload: response.data.data,\n                });\n                dispatch(\n                    addToast({\n                        text: getFormattedMessage(\n                            \"sms-template.success.edit.message\"\n                        ),\n                    })\n                );\n                navigate(\"/app/sms-templates\");\n            })\n            .catch(({ response }) => {\n                dispatch(\n                    addToast({\n                        text: response.data.message,\n                        type: toastType.ERROR,\n                    })\n                );\n            });\n    };\n\nexport const activeInactiveSms = (Id) => async (dispatch) => {\n    apiConfig\n        .post(apiBaseURL.SMS_TEMPLATES_STATUS + \"/\" + Id)\n        .then((response) => {\n            dispatch({\n                type: smsTemplatesActionType.SET_ACTIVE_DE_ACTIVE,\n                payload: response.data.data,\n            });\n            dispatch(\n                addToast({\n                    text: getFormattedMessage(\n                        \"sms.status.edit.success.message\"\n                    ),\n                })\n            );\n        })\n        .catch(({ response }) => {\n            dispatch(\n                addToast({ text: response.data.message, type: toastType.ERROR })\n            );\n        });\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}