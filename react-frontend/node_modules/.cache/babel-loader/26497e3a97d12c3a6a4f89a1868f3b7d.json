{"ast":null,"code":"import React,{useEffect}from\"react\";import MasterLayout from\"../../MasterLayout\";import TabTitle from\"../../../shared/tab-title/TabTitle\";import{currencySymbolHandling,getFormattedMessage,placeholderText}from\"../../../shared/sharedMethod\";import ReactDataTable from\"../../../shared/table/ReactDataTable\";import{connect}from\"react-redux\";import{fetchFrontSetting}from\"../../../store/action/frontSettingAction\";import TopProgressBar from\"../../../shared/components/loaders/TopProgressBar\";import{fetchCustomersReport,customerPdfAction}from\"../../../store/action/customerReportAction\";import{faFilePdf}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SuppliersReport=props=>{const{isLoading,totalRecord,fetchFrontSetting,frontSetting,allCustomerReport,fetchCustomersReport,customerPdfAction,allConfigData}=props;const currencySymbol=frontSetting&&frontSetting.value&&frontSetting.value.currency_symbol;useEffect(()=>{fetchFrontSetting();},[]);const itemsValue=currencySymbol&&allCustomerReport.length>=0&&allCustomerReport.map(report=>({name:report.name,phone:report.phone,total_sale:report.sales_count,total_amount:report.total_grand_amount,total_paid_amount:report.total_paid_amount,total_due_amount:report.total_due_amount,id:report.id,currency:currencySymbol}));// featch all\nconst onChange=filter=>{fetchCustomersReport(filter,true);};// get customer report deatils page\nconst onReportsClick=item=>{const id=item.id;window.location.href=\"#/app/report/customers/details/\"+id;};//onClick pdf function\nconst onPdfClick=item=>{const id=item.id;customerPdfAction(id);};const columns=[{name:getFormattedMessage(\"customer.title\"),sortField:\"name\",sortable:true,cell:row=>{return/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-light-danger\",children:/*#__PURE__*/_jsx(\"span\",{children:row.name})});}},{name:getFormattedMessage(\"users.table.phone-number.column.title\"),selector:row=>row.phone,sortField:\"phone\",sortable:false},{name:getFormattedMessage(\"total.sales.title\"),selector:row=>row.total_sale,sortField:\"total_sale\",sortable:false},{name:getFormattedMessage(\"expense.input.amount.label\"),selector:row=>currencySymbolHandling(allConfigData,row.currency,row.total_amount),sortField:\"total_amount\",sortable:false},{name:getFormattedMessage(\"dashboard.recentSales.paid.label\"),selector:row=>currencySymbolHandling(allConfigData,row.currency,row.total_paid_amount),sortField:\"total_paid_amount\",sortable:false},{name:getFormattedMessage(\"dashboard.recentSales.due.label\"),selector:row=>currencySymbolHandling(allConfigData,row.currency,row.total_due_amount),sortField:\"total_due_amount\",sortable:false},{name:getFormattedMessage(\"react-data-table.action.column.label\"),right:true,ignoreRowClick:true,allowOverflow:true,button:true,width:\"150px\",style:{justifyContent:\"start\"},cell:row=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-primary me-3\",variant:\"primary\",onClick:()=>onPdfClick(row),children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFilePdf})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-primary\",variant:\"primary\",onClick:()=>onReportsClick(row),children:getFormattedMessage(\"reports.title\")})]})}];return/*#__PURE__*/_jsxs(MasterLayout,{children:[/*#__PURE__*/_jsx(TopProgressBar,{}),/*#__PURE__*/_jsx(TabTitle,{title:placeholderText(\"customer.report.title\")}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-md-7\",children:/*#__PURE__*/_jsx(ReactDataTable,{columns:columns,items:itemsValue,onChange:onChange,isLoading:isLoading,totalRows:totalRecord})})]});};const mapStateToProps=state=>{const{isLoading,totalRecord,frontSetting,allCustomerReport,allConfigData}=state;return{isLoading,totalRecord,frontSetting,allCustomerReport,allConfigData};};export default connect(mapStateToProps,{fetchFrontSetting,fetchCustomersReport,customerPdfAction})(SuppliersReport);","map":{"version":3,"names":["React","useEffect","MasterLayout","TabTitle","currencySymbolHandling","getFormattedMessage","placeholderText","ReactDataTable","connect","fetchFrontSetting","TopProgressBar","fetchCustomersReport","customerPdfAction","faFilePdf","FontAwesomeIcon","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","SuppliersReport","props","isLoading","totalRecord","frontSetting","allCustomerReport","allConfigData","currencySymbol","value","currency_symbol","itemsValue","length","map","report","name","phone","total_sale","sales_count","total_amount","total_grand_amount","total_paid_amount","total_due_amount","id","currency","onChange","filter","onReportsClick","item","window","location","href","onPdfClick","columns","sortField","sortable","cell","row","className","children","selector","right","ignoreRowClick","allowOverflow","button","width","style","justifyContent","variant","onClick","icon","title","items","totalRows","mapStateToProps","state"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/report/customer-report/CustomersReport.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport MasterLayout from \"../../MasterLayout\";\nimport TabTitle from \"../../../shared/tab-title/TabTitle\";\nimport {\n    currencySymbolHandling,\n    getFormattedMessage,\n    placeholderText,\n} from \"../../../shared/sharedMethod\";\nimport ReactDataTable from \"../../../shared/table/ReactDataTable\";\nimport { connect } from \"react-redux\";\nimport { fetchFrontSetting } from \"../../../store/action/frontSettingAction\";\nimport TopProgressBar from \"../../../shared/components/loaders/TopProgressBar\";\nimport {\n    fetchCustomersReport,\n    customerPdfAction,\n} from \"../../../store/action/customerReportAction\";\nimport { faFilePdf } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst SuppliersReport = (props) => {\n    const {\n        isLoading,\n        totalRecord,\n        fetchFrontSetting,\n        frontSetting,\n        allCustomerReport,\n        fetchCustomersReport,\n        customerPdfAction,\n        allConfigData,\n    } = props;\n\n    const currencySymbol =\n        frontSetting &&\n        frontSetting.value &&\n        frontSetting.value.currency_symbol;\n\n    useEffect(() => {\n        fetchFrontSetting();\n    }, []);\n\n    const itemsValue =\n        currencySymbol &&\n        allCustomerReport.length >= 0 &&\n        allCustomerReport.map((report) => ({\n            name: report.name,\n            phone: report.phone,\n            total_sale: report.sales_count,\n            total_amount: report.total_grand_amount,\n            total_paid_amount: report.total_paid_amount,\n            total_due_amount: report.total_due_amount,\n            id: report.id,\n            currency: currencySymbol,\n        }));\n\n    // featch all\n    const onChange = (filter) => {\n        fetchCustomersReport(filter, true);\n    };\n\n    // get customer report deatils page\n    const onReportsClick = (item) => {\n        const id = item.id;\n        window.location.href = \"#/app/report/customers/details/\" + id;\n    };\n\n    //onClick pdf function\n    const onPdfClick = (item) => {\n        const id = item.id;\n        customerPdfAction(id);\n    };\n\n    const columns = [\n        {\n            name: getFormattedMessage(\"customer.title\"),\n            sortField: \"name\",\n            sortable: true,\n            cell: (row) => {\n                return (\n                    <span className=\"badge bg-light-danger\">\n                        <span>{row.name}</span>\n                    </span>\n                );\n            },\n        },\n        {\n            name: getFormattedMessage(\"users.table.phone-number.column.title\"),\n            selector: (row) => row.phone,\n            sortField: \"phone\",\n            sortable: false,\n        },\n        {\n            name: getFormattedMessage(\"total.sales.title\"),\n            selector: (row) => row.total_sale,\n            sortField: \"total_sale\",\n            sortable: false,\n        },\n        {\n            name: getFormattedMessage(\"expense.input.amount.label\"),\n            selector: (row) =>\n                currencySymbolHandling(\n                    allConfigData,\n                    row.currency,\n                    row.total_amount\n                ),\n            sortField: \"total_amount\",\n            sortable: false,\n        },\n        {\n            name: getFormattedMessage(\"dashboard.recentSales.paid.label\"),\n            selector: (row) =>\n                currencySymbolHandling(\n                    allConfigData,\n                    row.currency,\n                    row.total_paid_amount\n                ),\n            sortField: \"total_paid_amount\",\n            sortable: false,\n        },\n        {\n            name: getFormattedMessage(\"dashboard.recentSales.due.label\"),\n            selector: (row) =>\n                currencySymbolHandling(\n                    allConfigData,\n                    row.currency,\n                    row.total_due_amount\n                ),\n            sortField: \"total_due_amount\",\n            sortable: false,\n        },\n        {\n            name: getFormattedMessage(\"react-data-table.action.column.label\"),\n            right: true,\n            ignoreRowClick: true,\n            allowOverflow: true,\n            button: true,\n            width: \"150px\",\n            style: {\n                justifyContent: \"start\",\n            },\n            cell: (row) => (\n                <>\n                    <button\n                        className=\"btn btn-sm btn-primary me-3\"\n                        variant=\"primary\"\n                        onClick={() => onPdfClick(row)}\n                    >\n                        <FontAwesomeIcon icon={faFilePdf} />\n                    </button>\n                    <button\n                        className=\"btn btn-sm btn-primary\"\n                        variant=\"primary\"\n                        onClick={() => onReportsClick(row)}\n                    >\n                        {getFormattedMessage(\"reports.title\")}\n                    </button>\n                </>\n            ),\n        },\n    ];\n\n    return (\n        <MasterLayout>\n            <TopProgressBar />\n            <TabTitle title={placeholderText(\"customer.report.title\")} />\n            <div className=\"pt-md-7\">\n                <ReactDataTable\n                    columns={columns}\n                    items={itemsValue}\n                    onChange={onChange}\n                    isLoading={isLoading}\n                    totalRows={totalRecord}\n                />\n            </div>\n        </MasterLayout>\n    );\n};\nconst mapStateToProps = (state) => {\n    const {\n        isLoading,\n        totalRecord,\n        frontSetting,\n        allCustomerReport,\n        allConfigData,\n    } = state;\n    return {\n        isLoading,\n        totalRecord,\n        frontSetting,\n        allCustomerReport,\n        allConfigData,\n    };\n};\n\nexport default connect(mapStateToProps, {\n    fetchFrontSetting,\n    fetchCustomersReport,\n    customerPdfAction,\n})(SuppliersReport);\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,YAAY,KAAM,oBAAoB,CAC7C,MAAO,CAAAC,QAAQ,KAAM,oCAAoC,CACzD,OACIC,sBAAsB,CACtBC,mBAAmB,CACnBC,eAAe,KACZ,8BAA8B,CACrC,MAAO,CAAAC,cAAc,KAAM,sCAAsC,CACjE,OAASC,OAAO,KAAQ,aAAa,CACrC,OAASC,iBAAiB,KAAQ,0CAA0C,CAC5E,MAAO,CAAAC,cAAc,KAAM,mDAAmD,CAC9E,OACIC,oBAAoB,CACpBC,iBAAiB,KACd,4CAA4C,CACnD,OAASC,SAAS,KAAQ,mCAAmC,CAC7D,OAASC,eAAe,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjE,KAAM,CAAAC,eAAe,CAAIC,KAAK,EAAK,CAC/B,KAAM,CACFC,SAAS,CACTC,WAAW,CACXf,iBAAiB,CACjBgB,YAAY,CACZC,iBAAiB,CACjBf,oBAAoB,CACpBC,iBAAiB,CACjBe,aACJ,CAAC,CAAGL,KAAK,CAET,KAAM,CAAAM,cAAc,CAChBH,YAAY,EACZA,YAAY,CAACI,KAAK,EAClBJ,YAAY,CAACI,KAAK,CAACC,eAAe,CAEtC7B,SAAS,CAAC,IAAM,CACZQ,iBAAiB,CAAC,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAsB,UAAU,CACZH,cAAc,EACdF,iBAAiB,CAACM,MAAM,EAAI,CAAC,EAC7BN,iBAAiB,CAACO,GAAG,CAAEC,MAAM,GAAM,CAC/BC,IAAI,CAAED,MAAM,CAACC,IAAI,CACjBC,KAAK,CAAEF,MAAM,CAACE,KAAK,CACnBC,UAAU,CAAEH,MAAM,CAACI,WAAW,CAC9BC,YAAY,CAAEL,MAAM,CAACM,kBAAkB,CACvCC,iBAAiB,CAAEP,MAAM,CAACO,iBAAiB,CAC3CC,gBAAgB,CAAER,MAAM,CAACQ,gBAAgB,CACzCC,EAAE,CAAET,MAAM,CAACS,EAAE,CACbC,QAAQ,CAAEhB,cACd,CAAC,CAAC,CAAC,CAEP;AACA,KAAM,CAAAiB,QAAQ,CAAIC,MAAM,EAAK,CACzBnC,oBAAoB,CAACmC,MAAM,CAAE,IAAI,CAAC,CACtC,CAAC,CAED;AACA,KAAM,CAAAC,cAAc,CAAIC,IAAI,EAAK,CAC7B,KAAM,CAAAL,EAAE,CAAGK,IAAI,CAACL,EAAE,CAClBM,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,iCAAiC,CAAGR,EAAE,CACjE,CAAC,CAED;AACA,KAAM,CAAAS,UAAU,CAAIJ,IAAI,EAAK,CACzB,KAAM,CAAAL,EAAE,CAAGK,IAAI,CAACL,EAAE,CAClB/B,iBAAiB,CAAC+B,EAAE,CAAC,CACzB,CAAC,CAED,KAAM,CAAAU,OAAO,CAAG,CACZ,CACIlB,IAAI,CAAE9B,mBAAmB,CAAC,gBAAgB,CAAC,CAC3CiD,SAAS,CAAE,MAAM,CACjBC,QAAQ,CAAE,IAAI,CACdC,IAAI,CAAGC,GAAG,EAAK,CACX,mBACIzC,IAAA,SAAM0C,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACnC3C,IAAA,SAAA2C,QAAA,CAAOF,GAAG,CAACtB,IAAI,CAAO,CAAC,CACrB,CAAC,CAEf,CACJ,CAAC,CACD,CACIA,IAAI,CAAE9B,mBAAmB,CAAC,uCAAuC,CAAC,CAClEuD,QAAQ,CAAGH,GAAG,EAAKA,GAAG,CAACrB,KAAK,CAC5BkB,SAAS,CAAE,OAAO,CAClBC,QAAQ,CAAE,KACd,CAAC,CACD,CACIpB,IAAI,CAAE9B,mBAAmB,CAAC,mBAAmB,CAAC,CAC9CuD,QAAQ,CAAGH,GAAG,EAAKA,GAAG,CAACpB,UAAU,CACjCiB,SAAS,CAAE,YAAY,CACvBC,QAAQ,CAAE,KACd,CAAC,CACD,CACIpB,IAAI,CAAE9B,mBAAmB,CAAC,4BAA4B,CAAC,CACvDuD,QAAQ,CAAGH,GAAG,EACVrD,sBAAsB,CAClBuB,aAAa,CACb8B,GAAG,CAACb,QAAQ,CACZa,GAAG,CAAClB,YACR,CAAC,CACLe,SAAS,CAAE,cAAc,CACzBC,QAAQ,CAAE,KACd,CAAC,CACD,CACIpB,IAAI,CAAE9B,mBAAmB,CAAC,kCAAkC,CAAC,CAC7DuD,QAAQ,CAAGH,GAAG,EACVrD,sBAAsB,CAClBuB,aAAa,CACb8B,GAAG,CAACb,QAAQ,CACZa,GAAG,CAAChB,iBACR,CAAC,CACLa,SAAS,CAAE,mBAAmB,CAC9BC,QAAQ,CAAE,KACd,CAAC,CACD,CACIpB,IAAI,CAAE9B,mBAAmB,CAAC,iCAAiC,CAAC,CAC5DuD,QAAQ,CAAGH,GAAG,EACVrD,sBAAsB,CAClBuB,aAAa,CACb8B,GAAG,CAACb,QAAQ,CACZa,GAAG,CAACf,gBACR,CAAC,CACLY,SAAS,CAAE,kBAAkB,CAC7BC,QAAQ,CAAE,KACd,CAAC,CACD,CACIpB,IAAI,CAAE9B,mBAAmB,CAAC,sCAAsC,CAAC,CACjEwD,KAAK,CAAE,IAAI,CACXC,cAAc,CAAE,IAAI,CACpBC,aAAa,CAAE,IAAI,CACnBC,MAAM,CAAE,IAAI,CACZC,KAAK,CAAE,OAAO,CACdC,KAAK,CAAE,CACHC,cAAc,CAAE,OACpB,CAAC,CACDX,IAAI,CAAGC,GAAG,eACNrC,KAAA,CAAAF,SAAA,EAAAyC,QAAA,eACI3C,IAAA,WACI0C,SAAS,CAAC,6BAA6B,CACvCU,OAAO,CAAC,SAAS,CACjBC,OAAO,CAAEA,CAAA,GAAMjB,UAAU,CAACK,GAAG,CAAE,CAAAE,QAAA,cAE/B3C,IAAA,CAACF,eAAe,EAACwD,IAAI,CAAEzD,SAAU,CAAE,CAAC,CAChC,CAAC,cACTG,IAAA,WACI0C,SAAS,CAAC,wBAAwB,CAClCU,OAAO,CAAC,SAAS,CACjBC,OAAO,CAAEA,CAAA,GAAMtB,cAAc,CAACU,GAAG,CAAE,CAAAE,QAAA,CAElCtD,mBAAmB,CAAC,eAAe,CAAC,CACjC,CAAC,EACX,CAEV,CAAC,CACJ,CAED,mBACIe,KAAA,CAAClB,YAAY,EAAAyD,QAAA,eACT3C,IAAA,CAACN,cAAc,GAAE,CAAC,cAClBM,IAAA,CAACb,QAAQ,EAACoE,KAAK,CAAEjE,eAAe,CAAC,uBAAuB,CAAE,CAAE,CAAC,cAC7DU,IAAA,QAAK0C,SAAS,CAAC,SAAS,CAAAC,QAAA,cACpB3C,IAAA,CAACT,cAAc,EACX8C,OAAO,CAAEA,OAAQ,CACjBmB,KAAK,CAAEzC,UAAW,CAClBc,QAAQ,CAAEA,QAAS,CACnBtB,SAAS,CAAEA,SAAU,CACrBkD,SAAS,CAAEjD,WAAY,CAC1B,CAAC,CACD,CAAC,EACI,CAAC,CAEvB,CAAC,CACD,KAAM,CAAAkD,eAAe,CAAIC,KAAK,EAAK,CAC/B,KAAM,CACFpD,SAAS,CACTC,WAAW,CACXC,YAAY,CACZC,iBAAiB,CACjBC,aACJ,CAAC,CAAGgD,KAAK,CACT,MAAO,CACHpD,SAAS,CACTC,WAAW,CACXC,YAAY,CACZC,iBAAiB,CACjBC,aACJ,CAAC,CACL,CAAC,CAED,cAAe,CAAAnB,OAAO,CAACkE,eAAe,CAAE,CACpCjE,iBAAiB,CACjBE,oBAAoB,CACpBC,iBACJ,CAAC,CAAC,CAACS,eAAe,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}