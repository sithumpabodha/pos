{"ast":null,"code":"import React,{useState,useEffect}from'react';import{connect,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import moment from'moment';import{InputGroup,Table}from'react-bootstrap-v5';import{editTransfer}from'../../store/action/transfersAction';import TransfersTable from'../../shared/components/transfers/TransfersTable';import{prepareTransferArray}from'../../shared/prepareArray/prepareTransferArray';import{decimalValidate,getFormattedMessage,placeholderText,onFocusInput,getFormattedOptions}from'../../shared/sharedMethod';import{calculateCartTotalAmount,calculateCartTotalTaxAmount}from'../../shared/calculation/calculation';import ModelFooter from'../../shared/components/modelFooter';import ProductSearch from'../../shared/components/product-cart/search/ProductSearch';import{addToast}from'../../store/action/toastAction';import{toastType,transferCreatStatusOptions}from'../../constants';import ReactDatePicker from'../../shared/datepicker/ReactDatePicker';import ProductMainCalculation from'../sales/ProductMainCalculation';import ReactSelect from'../../shared/select/reactSelect';import{fetchProductsByWarehouse}from\"../../store/action/productAction\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const TransferForm=props=>{const{addTtansferData,id,editTransfer,customProducts,singleTransfer,warehouses,fetchProductsByWarehouse,products,frontSetting,allConfigData}=props;const navigate=useNavigate();const dispatch=useDispatch();const[newCost,setNewCost]=useState('');const[newDiscount,setNewDiscount]=useState('');const[newTax,setNewTax]=useState('');const[newPurchaseUnit,setNewPurchaseUnit]=useState('');const[subTotal,setSubTotal]=useState('');const[updateProducts,setUpdateProducts]=useState([]);const[quantity,setQuantity]=useState(0);const[transferValue,setTransferValue]=useState({date:singleTransfer?moment(singleTransfer.date).toDate():new Date(),from_warehouse_id:singleTransfer?singleTransfer.from_warehouse_id:'',to_warehouse_id:singleTransfer?singleTransfer.to_warehouse_id:'',warehouse_id:undefined,supplier_id:singleTransfer?singleTransfer.supplier_id:'',tax_rate:singleTransfer?singleTransfer.tax_rate.toFixed(2):'0.00',tax_amount:singleTransfer?singleTransfer.tax_amount.toFixed(2):'0.00',discount:singleTransfer?singleTransfer.discount.toFixed(2):'0.00',shipping:singleTransfer?singleTransfer.shipping.toFixed(2):'0.00',grand_total:singleTransfer?singleTransfer.grand_total:'0.00',notes:singleTransfer?singleTransfer.notes:'',status_id:singleTransfer?singleTransfer.status_id:{label:getFormattedMessage(\"status.filter.complated.label\"),value:1}});const[errors,setErrors]=useState({date:'',from_warehouse_id:'',to_warehouse_id:'',supplier_id:'',details:'',tax_rate:'',discount:'',shipping:'',status_id:''});useEffect(()=>{setUpdateProducts(updateProducts);},[updateProducts,quantity,newCost,newDiscount,newTax,subTotal,newPurchaseUnit]);useEffect(()=>{if(singleTransfer){setUpdateProducts(singleTransfer.transfer_items);}},[]);useEffect(()=>{updateProducts.length>=1?dispatch({type:'DISABLE_OPTION',payload:true}):dispatch({type:'DISABLE_OPTION',payload:false});},[singleTransfer]);useEffect(()=>{transferValue.from_warehouse_id.value?fetchProductsByWarehouse(transferValue.from_warehouse_id.value):null;transferValue.from_warehouse_id.value?setTransferValue(inputs=>({...inputs,warehouse_id:transferValue.from_warehouse_id})):null;},[transferValue.from_warehouse_id]);const handleValidation=()=>{let errorss={};let isValid=false;const qtyCart=updateProducts.filter(a=>a.quantity===0);if(!transferValue.date){error['date']=getFormattedMessage('globally.date.validate.label');}else if(!transferValue.from_warehouse_id){errorss['from_warehouse_id']=getFormattedMessage('purchase.select.warehouse.validate.label');}else if(!transferValue.to_warehouse_id){errorss['to_warehouse_id']=getFormattedMessage('purchase.select.warehouse.validate.label');}else if(transferValue.from_warehouse_id.value===transferValue.to_warehouse_id.value){errorss['to_warehouse_id']=getFormattedMessage(\"transfer.select.warehouse.validate.message\");}else if(qtyCart.length>0){dispatch(addToast({text:getFormattedMessage('globally.product-quantity.validate.message'),type:toastType.ERROR}));}else if(updateProducts.length<1){dispatch(addToast({text:getFormattedMessage('purchase.product-list.validate.message'),type:toastType.ERROR}));}else if(!transferValue.status_id){errorss['status_id']=getFormattedMessage('globally.status.validate.label');}else{isValid=true;}setErrors(errorss);return isValid;};const onWarehouseChangeOne=obj=>{setTransferValue(inputs=>({...inputs,from_warehouse_id:obj}));setErrors('');};const onWarehouseChangeTow=obj=>{setTransferValue(inputs=>({...inputs,to_warehouse_id:obj}));setErrors('');};const onStatusChange=obj=>{setTransferValue(inputs=>({...inputs,status_id:obj}));};const updateCost=item=>{setNewCost(item);};const updateDiscount=item=>{setNewDiscount(item);};const updateTax=item=>{setNewTax(item);};const onChangeInput=e=>{e.preventDefault();const{value}=e.target;// check if value includes a decimal point\nif(value.match(/\\./g)){const[,decimal]=value.split('.');// restrict value to only 2 decimal places\nif((decimal===null||decimal===void 0?void 0:decimal.length)>2){// do nothing\nreturn;}}setTransferValue(inputs=>({...inputs,[e.target.name]:value&&value}));};const onNotesChangeInput=e=>{e.preventDefault();setTransferValue(inputs=>({...inputs,notes:e.target.value}));};const handleCallback=date=>{setTransferValue(previousState=>{return{...previousState,date:date};});setErrors('');};const updatedQty=qty=>{setQuantity(qty);};const updateSubTotal=item=>{setSubTotal(item);};const updatePurchaseUnit=item=>{setNewPurchaseUnit(item);};const transferStatusFilterOptions=getFormattedOptions(transferCreatStatusOptions);const prepareData=prepareData=>{const formValue={from_warehouse_id:prepareData.from_warehouse_id.value?prepareData.from_warehouse_id.value:prepareData.from_warehouse_id,to_warehouse_id:prepareData.to_warehouse_id.value?prepareData.to_warehouse_id.value:prepareData.to_warehouse_id,date:moment(prepareData.date).toDate(),transfer_items:updateProducts,note:prepareData.notes,discount:prepareData.discount,tax_rate:prepareData.tax_rate,tax_amount:calculateCartTotalTaxAmount(updateProducts,transferValue),shipping:prepareData.shipping,grand_total:calculateCartTotalAmount(updateProducts,transferValue),received_amount:0,paid_amount:0,status:prepareData.status_id.value?prepareData.status_id.value:prepareData.status_id};return formValue;};const onSubmit=event=>{event.preventDefault();const valid=handleValidation();if(valid){if(singleTransfer){editTransfer(id,prepareData(transferValue),navigate);}else{addTtansferData(prepareData(transferValue));setTransferValue(transferValue);}}};const onBlurInput=el=>{if(el.target.value===''){if(el.target.name==='shipping'){setTransferValue({...transferValue,shipping:'0.00'});}if(el.target.name==='discount'){setTransferValue({...transferValue,discount:'0.00'});}if(el.target.name==='tax_rate'){setTransferValue({...transferValue,tax_rate:'0.00'});}}};return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage('react-data-table.date.column.label'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"required\"}),/*#__PURE__*/_jsx(\"div\",{className:\"position-relative\",children:/*#__PURE__*/_jsx(ReactDatePicker,{onChangeDate:handleCallback,newStartDate:transferValue.date})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors['date']?errors['date']:null})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-3\",children:/*#__PURE__*/_jsx(ReactSelect,{data:warehouses,onChange:onWarehouseChangeOne,defaultValue:transferValue.from_warehouse_id,addSearchItems:singleTransfer,isWarehouseDisable:true,title:getFormattedMessage('transfer.from-warehouse.title'),errors:errors['from_warehouse_id'],placeholder:placeholderText('purchase.select.warehouse.placeholder.label')})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-3\",children:/*#__PURE__*/_jsx(ReactSelect,{data:warehouses,onChange:onWarehouseChangeTow,defaultValue:transferValue.to_warehouse_id,addSearchItems:singleTransfer,isWarehouseDisable:true,title:getFormattedMessage('transfer.to-warehouse.title'),errors:errors['to_warehouse_id'],placeholder:placeholderText('purchase.select.warehouse.placeholder.label')})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage('dashboard.stockAlert.product.label'),\":\"]}),/*#__PURE__*/_jsx(ProductSearch,{values:transferValue,products:products,isAllProducts:false,handleValidation:handleValidation,updateProducts:updateProducts,setUpdateProducts:setUpdateProducts,customProducts:customProducts})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 md-12\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage('purchase.order-item.table.label'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"required \"}),/*#__PURE__*/_jsxs(Table,{responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage('dashboard.stockAlert.product.label')}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage('purchase.order-item.table.net-unit-cost.column.label')}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage('purchase.order-item.table.stock.column.label')}),/*#__PURE__*/_jsx(\"th\",{className:\"text-lg-start text-center\",children:getFormattedMessage('purchase.order-item.table.qty.column.label')}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage('purchase.order-item.table.discount.column.label')}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage('purchase.order-item.table.tax.column.label')}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage('purchase.order-item.table.sub-total.column.label')}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage('react-data-table.action.column.label')})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[updateProducts&&updateProducts.map((singleProduct,index)=>{return/*#__PURE__*/_jsx(TransfersTable,{singleProduct:singleProduct,index:index,updateQty:updatedQty,updateCost:updateCost,updateDiscount:updateDiscount,updateProducts:updateProducts,updateSubTotal:updateSubTotal,frontSetting:frontSetting,setUpdateProducts:setUpdateProducts,updateTax:updateTax,updatePurchaseUnit:updatePurchaseUnit,transferItem:singleTransfer&&singleTransfer.purchase_items});}),!updateProducts.length&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:8,className:\"fs-5 px-3 py-6 custom-text-center\",children:getFormattedMessage('sale.product.table.no-data.label')})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(ProductMainCalculation,{inputValues:transferValue,updateProducts:updateProducts,frontSetting:frontSetting,allConfigData:allConfigData})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-5\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage('purchase.input.order-tax.label'),\":\"]}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"Dollar amount (with dot and two decimal places)\",className:\"form-control\",onBlur:event=>onBlurInput(event),onFocus:event=>onFocusInput(event),value:transferValue.tax_rate,type:\"text\",name:\"tax_rate\",onKeyPress:event=>decimalValidate(event),onChange:e=>{onChangeInput(e);}}),/*#__PURE__*/_jsx(InputGroup.Text,{children:\"%\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors['orderTax']?errors['orderTax']:null})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-5\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage('purchase.order-item.table.discount.column.label'),\":\"]}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"Dollar amount (with dot and two decimal places)\",className:\"form-control\",onBlur:event=>onBlurInput(event),onFocus:event=>onFocusInput(event),value:transferValue.discount,type:\"text\",name:\"discount\",onKeyPress:event=>decimalValidate(event),onChange:e=>onChangeInput(e)}),/*#__PURE__*/_jsx(InputGroup.Text,{children:frontSetting.value&&frontSetting.value.currency_symbol})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors['discount']?errors['discount']:null})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-5\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage('purchase.input.shipping.label'),\":\"]}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"Dollar amount (with dot and two decimal places)\",className:\"form-control\",value:transferValue.shipping,type:\"text\",name:\"shipping\",onBlur:event=>onBlurInput(event),onFocus:event=>onFocusInput(event),onKeyPress:event=>decimalValidate(event),onChange:e=>onChangeInput(e)}),/*#__PURE__*/_jsx(InputGroup.Text,{children:frontSetting.value&&frontSetting.value.currency_symbol})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors['shipping']?errors['shipping']:null})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-3\",children:/*#__PURE__*/_jsx(ReactSelect,{multiLanguageOption:transferStatusFilterOptions,name:\"status\",onChange:onStatusChange,title:getFormattedMessage('purchase.select.status.label'),defaultValue:transferValue.status_id,errors:errors['status_id'],placeholder:placeholderText('purchase.select.status.placeholder.label')})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 mb-5\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage('globally.input.notes.label'),\":\"]}),/*#__PURE__*/_jsx(\"textarea\",{name:\"notes\",className:\"form-control\",placeholder:placeholderText('purchase.placeholder.notes.input'),onChange:e=>onNotesChangeInput(e)//   value={purchaseValue.notes}\n}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors['notes']?errors['notes']:null})]}),/*#__PURE__*/_jsx(ModelFooter,{onEditRecord:singleTransfer,onSubmit:onSubmit,link:\"/app/transfers\"})]})})});};const mapStateToProps=state=>{const{products,frontSetting,allConfigData}=state;return{customProducts:prepareTransferArray(products),products,frontSetting,allConfigData};};export default connect(mapStateToProps,{editTransfer,fetchProductsByWarehouse})(TransferForm);","map":{"version":3,"names":["React","useState","useEffect","connect","useDispatch","useNavigate","moment","InputGroup","Table","editTransfer","TransfersTable","prepareTransferArray","decimalValidate","getFormattedMessage","placeholderText","onFocusInput","getFormattedOptions","calculateCartTotalAmount","calculateCartTotalTaxAmount","ModelFooter","ProductSearch","addToast","toastType","transferCreatStatusOptions","ReactDatePicker","ProductMainCalculation","ReactSelect","fetchProductsByWarehouse","jsxs","_jsxs","jsx","_jsx","TransferForm","props","addTtansferData","id","customProducts","singleTransfer","warehouses","products","frontSetting","allConfigData","navigate","dispatch","newCost","setNewCost","newDiscount","setNewDiscount","newTax","setNewTax","newPurchaseUnit","setNewPurchaseUnit","subTotal","setSubTotal","updateProducts","setUpdateProducts","quantity","setQuantity","transferValue","setTransferValue","date","toDate","Date","from_warehouse_id","to_warehouse_id","warehouse_id","undefined","supplier_id","tax_rate","toFixed","tax_amount","discount","shipping","grand_total","notes","status_id","label","value","errors","setErrors","details","transfer_items","length","type","payload","inputs","handleValidation","errorss","isValid","qtyCart","filter","a","error","text","ERROR","onWarehouseChangeOne","obj","onWarehouseChangeTow","onStatusChange","updateCost","item","updateDiscount","updateTax","onChangeInput","e","preventDefault","target","match","decimal","split","name","onNotesChangeInput","handleCallback","previousState","updatedQty","qty","updateSubTotal","updatePurchaseUnit","transferStatusFilterOptions","prepareData","formValue","note","received_amount","paid_amount","status","onSubmit","event","valid","onBlurInput","el","className","children","onChangeDate","newStartDate","data","onChange","defaultValue","addSearchItems","isWarehouseDisable","title","placeholder","values","isAllProducts","responsive","map","singleProduct","index","updateQty","transferItem","purchase_items","colSpan","inputValues","onBlur","onFocus","onKeyPress","Text","currency_symbol","multiLanguageOption","onEditRecord","link","mapStateToProps","state"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/transfers/TransferForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport moment from 'moment';\nimport { InputGroup, Table } from 'react-bootstrap-v5';\nimport { editTransfer } from '../../store/action/transfersAction';\nimport TransfersTable from '../../shared/components/transfers/TransfersTable';\nimport { prepareTransferArray } from '../../shared/prepareArray/prepareTransferArray';\nimport { decimalValidate, getFormattedMessage, placeholderText, onFocusInput, getFormattedOptions } from '../../shared/sharedMethod';\nimport { calculateCartTotalAmount, calculateCartTotalTaxAmount } from '../../shared/calculation/calculation';\nimport ModelFooter from '../../shared/components/modelFooter';\nimport ProductSearch from '../../shared/components/product-cart/search/ProductSearch';\nimport { addToast } from '../../store/action/toastAction';\nimport { toastType, transferCreatStatusOptions } from '../../constants';\nimport ReactDatePicker from '../../shared/datepicker/ReactDatePicker';\nimport ProductMainCalculation from '../sales/ProductMainCalculation';\nimport ReactSelect from '../../shared/select/reactSelect';\nimport { fetchProductsByWarehouse } from \"../../store/action/productAction\";\n\nconst TransferForm = ( props ) => {\n    const {\n        addTtansferData,\n        id,\n        editTransfer,\n        customProducts,\n        singleTransfer,\n        warehouses,\n        fetchProductsByWarehouse,\n        products, frontSetting, allConfigData\n    } = props;\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const [ newCost, setNewCost ] = useState( '' );\n    const [ newDiscount, setNewDiscount ] = useState( '' );\n    const [ newTax, setNewTax ] = useState( '' );\n    const [ newPurchaseUnit, setNewPurchaseUnit ] = useState( '' );\n    const [ subTotal, setSubTotal ] = useState( '' );\n    const [ updateProducts, setUpdateProducts ] = useState( [] );\n    const [ quantity, setQuantity ] = useState( 0 );\n\n    const [ transferValue, setTransferValue ] = useState( {\n        date: singleTransfer ? moment( singleTransfer.date ).toDate() : new Date(),\n        from_warehouse_id: singleTransfer ? singleTransfer.from_warehouse_id : '',\n        to_warehouse_id: singleTransfer ? singleTransfer.to_warehouse_id : '',\n        warehouse_id: undefined,\n        supplier_id: singleTransfer ? singleTransfer.supplier_id : '',\n        tax_rate: singleTransfer ? singleTransfer.tax_rate.toFixed( 2 ) : '0.00',\n        tax_amount: singleTransfer ? singleTransfer.tax_amount.toFixed( 2 ) : '0.00',\n        discount: singleTransfer ? singleTransfer.discount.toFixed( 2 ) : '0.00',\n        shipping: singleTransfer ? singleTransfer.shipping.toFixed( 2 ) : '0.00',\n        grand_total: singleTransfer ? singleTransfer.grand_total : '0.00',\n        notes: singleTransfer ? singleTransfer.notes : '',\n        status_id: singleTransfer ? singleTransfer.status_id : {\n            label: getFormattedMessage( \"status.filter.complated.label\" ),\n            value: 1\n        },\n    } );\n\n    const [ errors, setErrors ] = useState( {\n        date: '',\n        from_warehouse_id: '',\n        to_warehouse_id: '',\n        supplier_id: '',\n        details: '',\n        tax_rate: '',\n        discount: '',\n        shipping: '',\n        status_id: ''\n    } );\n\n    useEffect( () => {\n        setUpdateProducts( updateProducts );\n    }, [ updateProducts, quantity, newCost, newDiscount, newTax, subTotal, newPurchaseUnit ] );\n\n    useEffect( () => {\n        if ( singleTransfer ) {\n            setUpdateProducts( singleTransfer.transfer_items );\n        }\n    }, [] );\n\n    useEffect( () => {\n        updateProducts.length >= 1 ? dispatch( { type: 'DISABLE_OPTION', payload: true } ) : dispatch( { type: 'DISABLE_OPTION', payload: false } )\n    }, [ singleTransfer ] )\n\n    useEffect( () => {\n        transferValue.from_warehouse_id.value ? fetchProductsByWarehouse( transferValue.from_warehouse_id.value ) : null\n        transferValue.from_warehouse_id.value ? setTransferValue( inputs => ( { ...inputs, warehouse_id: transferValue.from_warehouse_id } ) ) : null\n    }, [ transferValue.from_warehouse_id ] )\n\n    const handleValidation = () => {\n        let errorss = {};\n        let isValid = false;\n        const qtyCart = updateProducts.filter( ( a ) => a.quantity === 0 );\n        if ( !transferValue.date ) {\n            error[ 'date' ] = getFormattedMessage( 'globally.date.validate.label' );\n        } else if ( !transferValue.from_warehouse_id ) {\n            errorss[ 'from_warehouse_id' ] = getFormattedMessage( 'purchase.select.warehouse.validate.label' )\n        } else if ( !transferValue.to_warehouse_id ) {\n            errorss[ 'to_warehouse_id' ] = getFormattedMessage( 'purchase.select.warehouse.validate.label' )\n        } else if ( transferValue.from_warehouse_id.value === transferValue.to_warehouse_id.value ) {\n            errorss[ 'to_warehouse_id' ] = getFormattedMessage( \"transfer.select.warehouse.validate.message\" )\n        } else if ( qtyCart.length > 0 ) {\n            dispatch( addToast( {\n                text: getFormattedMessage( 'globally.product-quantity.validate.message' ),\n                type: toastType.ERROR\n            } ) )\n        } else if ( updateProducts.length < 1 ) {\n            dispatch( addToast( {\n                text: getFormattedMessage( 'purchase.product-list.validate.message' ),\n                type: toastType.ERROR\n            } ) )\n        } else if ( !transferValue.status_id ) {\n            errorss[ 'status_id' ] = getFormattedMessage( 'globally.status.validate.label' )\n        } else {\n            isValid = true;\n        }\n        setErrors( errorss );\n        return isValid;\n    };\n\n    const onWarehouseChangeOne = ( obj ) => {\n        setTransferValue( inputs => ( { ...inputs, from_warehouse_id: obj } ) )\n        setErrors( '' )\n    };\n\n    const onWarehouseChangeTow = ( obj ) => {\n        setTransferValue( inputs => ( { ...inputs, to_warehouse_id: obj } ) )\n        setErrors( '' )\n    };\n\n    const onStatusChange = ( obj ) => {\n        setTransferValue( inputs => ( { ...inputs, status_id: obj } ) )\n    };\n\n    const updateCost = ( item ) => {\n        setNewCost( item );\n    };\n\n    const updateDiscount = ( item ) => {\n        setNewDiscount( item );\n    };\n\n    const updateTax = ( item ) => {\n        setNewTax( item );\n    };\n\n    const onChangeInput = ( e ) => {\n        e.preventDefault();\n        const { value } = e.target;\n        // check if value includes a decimal point\n        if ( value.match( /\\./g ) ) {\n            const [ , decimal ] = value.split( '.' );\n            // restrict value to only 2 decimal places\n            if ( decimal?.length > 2 ) {\n                // do nothing\n                return;\n            }\n        }\n        setTransferValue( inputs => ( { ...inputs, [ e.target.name ]: value && value } ) )\n    };\n\n    const onNotesChangeInput = ( e ) => {\n        e.preventDefault();\n        setTransferValue( inputs => ( { ...inputs, notes: e.target.value } ) )\n    }\n\n    const handleCallback = ( date ) => {\n        setTransferValue( previousState => {\n            return { ...previousState, date: date }\n        } );\n        setErrors( '' )\n    };\n\n    const updatedQty = ( qty ) => {\n        setQuantity( qty );\n    };\n\n    const updateSubTotal = ( item ) => {\n        setSubTotal( item );\n    };\n\n    const updatePurchaseUnit = ( item ) => {\n        setNewPurchaseUnit( item );\n    };\n\n    const transferStatusFilterOptions = getFormattedOptions( transferCreatStatusOptions )\n\n    const prepareData = ( prepareData ) => {\n        const formValue = {\n            from_warehouse_id: prepareData.from_warehouse_id.value ? prepareData.from_warehouse_id.value : prepareData.from_warehouse_id,\n            to_warehouse_id: prepareData.to_warehouse_id.value ? prepareData.to_warehouse_id.value : prepareData.to_warehouse_id,\n            date: moment( prepareData.date ).toDate(),\n            transfer_items: updateProducts,\n            note: prepareData.notes,\n            discount: prepareData.discount,\n            tax_rate: prepareData.tax_rate,\n            tax_amount: calculateCartTotalTaxAmount( updateProducts, transferValue ),\n            shipping: prepareData.shipping,\n            grand_total: calculateCartTotalAmount( updateProducts, transferValue ),\n            received_amount: 0,\n            paid_amount: 0,\n            status: prepareData.status_id.value ? prepareData.status_id.value : prepareData.status_id,\n        }\n        return formValue\n    };\n\n    const onSubmit = ( event ) => {\n        event.preventDefault();\n        const valid = handleValidation();\n        if ( valid ) {\n            if ( singleTransfer ) {\n                editTransfer( id, prepareData( transferValue ), navigate );\n            } else {\n                addTtansferData( prepareData( transferValue ) );\n                setTransferValue( transferValue );\n            }\n        }\n    };\n\n    const onBlurInput = ( el ) => {\n        if ( el.target.value === '' ) {\n            if ( el.target.name === 'shipping' ) {\n                setTransferValue( { ...transferValue, shipping: '0.00' } )\n            }\n            if ( el.target.name === 'discount' ) {\n                setTransferValue( { ...transferValue, discount: '0.00' } )\n            }\n            if ( el.target.name === 'tax_rate' ) {\n                setTransferValue( { ...transferValue, tax_rate: '0.00' } )\n            }\n        }\n    }\n\n    return (\n        <div className='card'>\n            <div className='card-body'>\n                {/*<Form>*/}\n                <div className='row'>\n                    <div className='col-md-4'>\n                        <label className='form-label'>\n                            {getFormattedMessage( 'react-data-table.date.column.label' )}:\n                        </label>\n                        <span className='required' />\n                        <div className='position-relative'>\n                            <ReactDatePicker onChangeDate={handleCallback} newStartDate={transferValue.date} />\n                        </div>\n                        <span className='text-danger d-block fw-400 fs-small mt-2'>{errors[ 'date' ] ? errors[ 'date' ] : null}</span>\n                    </div>\n                    <div className='col-md-4 mb-3'>\n                        <ReactSelect data={warehouses} onChange={onWarehouseChangeOne}\n                            defaultValue={transferValue.from_warehouse_id} addSearchItems={singleTransfer}\n                            isWarehouseDisable={true}\n                            title={getFormattedMessage( 'transfer.from-warehouse.title' )} errors={errors[ 'from_warehouse_id' ]}\n                            placeholder={placeholderText( 'purchase.select.warehouse.placeholder.label' )} />\n                    </div>\n                    <div className='col-md-4 mb-3'>\n                        <ReactSelect data={warehouses} onChange={onWarehouseChangeTow}\n                            defaultValue={transferValue.to_warehouse_id} addSearchItems={singleTransfer}\n                            isWarehouseDisable={true}\n                            title={getFormattedMessage( 'transfer.to-warehouse.title' )} errors={errors[ 'to_warehouse_id' ]}\n                            placeholder={placeholderText( 'purchase.select.warehouse.placeholder.label' )} />\n                    </div>\n                    <div className='col-md-12 mb-3'>\n                        <label className='form-label'>\n                            {getFormattedMessage( 'dashboard.stockAlert.product.label' )}:\n                        </label>\n                        <ProductSearch values={transferValue} products={products} isAllProducts={false}\n                            handleValidation={handleValidation} updateProducts={updateProducts}\n                            setUpdateProducts={setUpdateProducts} customProducts={customProducts} />\n                    </div>\n                    <div className='col-12 md-12'>\n                        <label\n                            className='form-label'>\n                            {getFormattedMessage( 'purchase.order-item.table.label' )}:\n                        </label>\n                        <span className='required ' />\n                        <Table responsive>\n                            <thead>\n                                <tr>\n                                    <th>{getFormattedMessage( 'dashboard.stockAlert.product.label' )}</th>\n                                    <th>{getFormattedMessage( 'purchase.order-item.table.net-unit-cost.column.label' )}</th>\n                                    <th>{getFormattedMessage( 'purchase.order-item.table.stock.column.label' )}</th>\n                                    <th className='text-lg-start text-center'>{getFormattedMessage( 'purchase.order-item.table.qty.column.label' )}</th>\n                                    <th>{getFormattedMessage( 'purchase.order-item.table.discount.column.label' )}</th>\n                                    <th>{getFormattedMessage( 'purchase.order-item.table.tax.column.label' )}</th>\n                                    <th>{getFormattedMessage( 'purchase.order-item.table.sub-total.column.label' )}</th>\n                                    <th>{getFormattedMessage( 'react-data-table.action.column.label' )}</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {updateProducts && updateProducts.map( ( singleProduct, index ) => {\n                                    return <TransfersTable singleProduct={singleProduct} index={index}\n                                        updateQty={updatedQty}\n                                        updateCost={updateCost} updateDiscount={updateDiscount}\n                                        updateProducts={updateProducts}\n                                        updateSubTotal={updateSubTotal} frontSetting={frontSetting}\n                                        setUpdateProducts={setUpdateProducts} updateTax={updateTax}\n                                        updatePurchaseUnit={updatePurchaseUnit}\n                                        transferItem={singleTransfer && singleTransfer.purchase_items}\n                                    />\n                                } )}\n                                {!updateProducts.length && <tr>\n                                    <td colSpan={8} className='fs-5 px-3 py-6 custom-text-center'>\n                                        {getFormattedMessage( 'sale.product.table.no-data.label' )}\n                                    </td>\n                                </tr>\n                                }\n                            </tbody>\n                        </Table>\n                    </div>\n                    <div className='col-12'>\n                        <ProductMainCalculation inputValues={transferValue} updateProducts={updateProducts}\n                            frontSetting={frontSetting} allConfigData={allConfigData} />\n                    </div>\n                    <div className='col-md-4 mb-5'>\n                        <label className='form-label'>\n                            {getFormattedMessage( 'purchase.input.order-tax.label' )}:\n                        </label>\n                        <InputGroup>\n                            <input aria-label='Dollar amount (with dot and two decimal places)'\n                                className='form-control'\n                                onBlur={( event ) => onBlurInput( event )}\n                                onFocus={( event ) => onFocusInput( event )}\n                                value={transferValue.tax_rate} type='text' name='tax_rate'\n                                onKeyPress={( event ) => decimalValidate( event )}\n                                onChange={( e ) => {\n                                    onChangeInput( e )\n                                }} />\n                            <InputGroup.Text>%</InputGroup.Text>\n                        </InputGroup>\n                        <span className='text-danger d-block fw-400 fs-small mt-2'>{errors[ 'orderTax' ] ? errors[ 'orderTax' ] : null}</span>\n                    </div>\n                    <div className='col-md-4 mb-5'>\n                        <label className='form-label'>\n                            {getFormattedMessage( 'purchase.order-item.table.discount.column.label' )}:\n                        </label>\n                        <InputGroup>\n                            <input aria-label='Dollar amount (with dot and two decimal places)'\n                                className='form-control'\n                                onBlur={( event ) => onBlurInput( event )}\n                                onFocus={( event ) => onFocusInput( event )}\n                                value={transferValue.discount} type='text' name='discount'\n                                onKeyPress={( event ) => decimalValidate( event )}\n                                onChange={( e ) => onChangeInput( e )}\n                            />\n                            <InputGroup.Text>{frontSetting.value && frontSetting.value.currency_symbol}</InputGroup.Text>\n                        </InputGroup>\n                        <span className='text-danger d-block fw-400 fs-small mt-2'>{errors[ 'discount' ] ? errors[ 'discount' ] : null}</span>\n                    </div>\n                    <div className='col-md-4 mb-5'>\n                        <label\n                            className='form-label'>\n                            {getFormattedMessage( 'purchase.input.shipping.label' )}:\n                        </label>\n                        <InputGroup>\n                            <input aria-label='Dollar amount (with dot and two decimal places)'\n                                className='form-control' value={transferValue.shipping}\n                                type='text' name='shipping'\n                                onBlur={( event ) => onBlurInput( event )}\n                                onFocus={( event ) => onFocusInput( event )}\n                                onKeyPress={( event ) => decimalValidate( event )}\n                                onChange={( e ) => onChangeInput( e )}\n                            />\n                            <InputGroup.Text>{frontSetting.value && frontSetting.value.currency_symbol}</InputGroup.Text>\n                        </InputGroup>\n                        <span className='text-danger d-block fw-400 fs-small mt-2'>{errors[ 'shipping' ] ? errors[ 'shipping' ] : null}</span>\n                    </div>\n                    <div className='col-md-4 mb-3'>\n                        <ReactSelect multiLanguageOption={transferStatusFilterOptions}\n                            name='status' onChange={onStatusChange}\n                            title={getFormattedMessage( 'purchase.select.status.label' )}\n                            defaultValue={transferValue.status_id} errors={errors[ 'status_id' ]}\n                            placeholder={placeholderText( 'purchase.select.status.placeholder.label' )} />\n                    </div>\n                    <div className='col-md-12 mb-5'>\n                        <label className='form-label'>\n                            {getFormattedMessage( 'globally.input.notes.label' )}:\n                        </label>\n                        <textarea name='notes' className='form-control'\n                            placeholder={placeholderText( 'purchase.placeholder.notes.input' )}\n                            onChange={( e ) => onNotesChangeInput( e )}\n                        //   value={purchaseValue.notes}\n                        />\n                        <span className='text-danger d-block fw-400 fs-small mt-2'>{errors[ 'notes' ] ? errors[ 'notes' ] : null}</span>\n                    </div>\n                    <ModelFooter onEditRecord={singleTransfer} onSubmit={onSubmit} link='/app/transfers' />\n                </div>\n                {/*</Form>*/}\n            </div>\n        </div>\n    )\n};\n\nconst mapStateToProps = ( state ) => {\n    const { products, frontSetting, allConfigData } = state;\n    return { customProducts: prepareTransferArray( products ), products, frontSetting, allConfigData }\n};\n\nexport default connect( mapStateToProps, { editTransfer, fetchProductsByWarehouse } )( TransferForm );\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,CAAEC,WAAW,KAAQ,aAAa,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAC3B,OAASC,UAAU,CAAEC,KAAK,KAAQ,oBAAoB,CACtD,OAASC,YAAY,KAAQ,oCAAoC,CACjE,MAAO,CAAAC,cAAc,KAAM,kDAAkD,CAC7E,OAASC,oBAAoB,KAAQ,gDAAgD,CACrF,OAASC,eAAe,CAAEC,mBAAmB,CAAEC,eAAe,CAAEC,YAAY,CAAEC,mBAAmB,KAAQ,2BAA2B,CACpI,OAASC,wBAAwB,CAAEC,2BAA2B,KAAQ,sCAAsC,CAC5G,MAAO,CAAAC,WAAW,KAAM,qCAAqC,CAC7D,MAAO,CAAAC,aAAa,KAAM,2DAA2D,CACrF,OAASC,QAAQ,KAAQ,gCAAgC,CACzD,OAASC,SAAS,CAAEC,0BAA0B,KAAQ,iBAAiB,CACvE,MAAO,CAAAC,eAAe,KAAM,yCAAyC,CACrE,MAAO,CAAAC,sBAAsB,KAAM,iCAAiC,CACpE,MAAO,CAAAC,WAAW,KAAM,iCAAiC,CACzD,OAASC,wBAAwB,KAAQ,kCAAkC,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAE5E,KAAM,CAAAC,YAAY,CAAKC,KAAK,EAAM,CAC9B,KAAM,CACFC,eAAe,CACfC,EAAE,CACF1B,YAAY,CACZ2B,cAAc,CACdC,cAAc,CACdC,UAAU,CACVX,wBAAwB,CACxBY,QAAQ,CAAEC,YAAY,CAAEC,aAC5B,CAAC,CAAGR,KAAK,CACT,KAAM,CAAAS,QAAQ,CAAGrC,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAsC,QAAQ,CAAGvC,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEwC,OAAO,CAAEC,UAAU,CAAE,CAAG5C,QAAQ,CAAE,EAAG,CAAC,CAC9C,KAAM,CAAE6C,WAAW,CAAEC,cAAc,CAAE,CAAG9C,QAAQ,CAAE,EAAG,CAAC,CACtD,KAAM,CAAE+C,MAAM,CAAEC,SAAS,CAAE,CAAGhD,QAAQ,CAAE,EAAG,CAAC,CAC5C,KAAM,CAAEiD,eAAe,CAAEC,kBAAkB,CAAE,CAAGlD,QAAQ,CAAE,EAAG,CAAC,CAC9D,KAAM,CAAEmD,QAAQ,CAAEC,WAAW,CAAE,CAAGpD,QAAQ,CAAE,EAAG,CAAC,CAChD,KAAM,CAAEqD,cAAc,CAAEC,iBAAiB,CAAE,CAAGtD,QAAQ,CAAE,EAAG,CAAC,CAC5D,KAAM,CAAEuD,QAAQ,CAAEC,WAAW,CAAE,CAAGxD,QAAQ,CAAE,CAAE,CAAC,CAE/C,KAAM,CAAEyD,aAAa,CAAEC,gBAAgB,CAAE,CAAG1D,QAAQ,CAAE,CAClD2D,IAAI,CAAEvB,cAAc,CAAG/B,MAAM,CAAE+B,cAAc,CAACuB,IAAK,CAAC,CAACC,MAAM,CAAC,CAAC,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAC1EC,iBAAiB,CAAE1B,cAAc,CAAGA,cAAc,CAAC0B,iBAAiB,CAAG,EAAE,CACzEC,eAAe,CAAE3B,cAAc,CAAGA,cAAc,CAAC2B,eAAe,CAAG,EAAE,CACrEC,YAAY,CAAEC,SAAS,CACvBC,WAAW,CAAE9B,cAAc,CAAGA,cAAc,CAAC8B,WAAW,CAAG,EAAE,CAC7DC,QAAQ,CAAE/B,cAAc,CAAGA,cAAc,CAAC+B,QAAQ,CAACC,OAAO,CAAE,CAAE,CAAC,CAAG,MAAM,CACxEC,UAAU,CAAEjC,cAAc,CAAGA,cAAc,CAACiC,UAAU,CAACD,OAAO,CAAE,CAAE,CAAC,CAAG,MAAM,CAC5EE,QAAQ,CAAElC,cAAc,CAAGA,cAAc,CAACkC,QAAQ,CAACF,OAAO,CAAE,CAAE,CAAC,CAAG,MAAM,CACxEG,QAAQ,CAAEnC,cAAc,CAAGA,cAAc,CAACmC,QAAQ,CAACH,OAAO,CAAE,CAAE,CAAC,CAAG,MAAM,CACxEI,WAAW,CAAEpC,cAAc,CAAGA,cAAc,CAACoC,WAAW,CAAG,MAAM,CACjEC,KAAK,CAAErC,cAAc,CAAGA,cAAc,CAACqC,KAAK,CAAG,EAAE,CACjDC,SAAS,CAAEtC,cAAc,CAAGA,cAAc,CAACsC,SAAS,CAAG,CACnDC,KAAK,CAAE/D,mBAAmB,CAAE,+BAAgC,CAAC,CAC7DgE,KAAK,CAAE,CACX,CACJ,CAAE,CAAC,CAEH,KAAM,CAAEC,MAAM,CAAEC,SAAS,CAAE,CAAG9E,QAAQ,CAAE,CACpC2D,IAAI,CAAE,EAAE,CACRG,iBAAiB,CAAE,EAAE,CACrBC,eAAe,CAAE,EAAE,CACnBG,WAAW,CAAE,EAAE,CACfa,OAAO,CAAE,EAAE,CACXZ,QAAQ,CAAE,EAAE,CACZG,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EAAE,CACZG,SAAS,CAAE,EACf,CAAE,CAAC,CAEHzE,SAAS,CAAE,IAAM,CACbqD,iBAAiB,CAAED,cAAe,CAAC,CACvC,CAAC,CAAE,CAAEA,cAAc,CAAEE,QAAQ,CAAEZ,OAAO,CAAEE,WAAW,CAAEE,MAAM,CAAEI,QAAQ,CAAEF,eAAe,CAAG,CAAC,CAE1FhD,SAAS,CAAE,IAAM,CACb,GAAKmC,cAAc,CAAG,CAClBkB,iBAAiB,CAAElB,cAAc,CAAC4C,cAAe,CAAC,CACtD,CACJ,CAAC,CAAE,EAAG,CAAC,CAEP/E,SAAS,CAAE,IAAM,CACboD,cAAc,CAAC4B,MAAM,EAAI,CAAC,CAAGvC,QAAQ,CAAE,CAAEwC,IAAI,CAAE,gBAAgB,CAAEC,OAAO,CAAE,IAAK,CAAE,CAAC,CAAGzC,QAAQ,CAAE,CAAEwC,IAAI,CAAE,gBAAgB,CAAEC,OAAO,CAAE,KAAM,CAAE,CAAC,CAC/I,CAAC,CAAE,CAAE/C,cAAc,CAAG,CAAC,CAEvBnC,SAAS,CAAE,IAAM,CACbwD,aAAa,CAACK,iBAAiB,CAACc,KAAK,CAAGlD,wBAAwB,CAAE+B,aAAa,CAACK,iBAAiB,CAACc,KAAM,CAAC,CAAG,IAAI,CAChHnB,aAAa,CAACK,iBAAiB,CAACc,KAAK,CAAGlB,gBAAgB,CAAE0B,MAAM,GAAM,CAAE,GAAGA,MAAM,CAAEpB,YAAY,CAAEP,aAAa,CAACK,iBAAkB,CAAC,CAAG,CAAC,CAAG,IAAI,CACjJ,CAAC,CAAE,CAAEL,aAAa,CAACK,iBAAiB,CAAG,CAAC,CAExC,KAAM,CAAAuB,gBAAgB,CAAGA,CAAA,GAAM,CAC3B,GAAI,CAAAC,OAAO,CAAG,CAAC,CAAC,CAChB,GAAI,CAAAC,OAAO,CAAG,KAAK,CACnB,KAAM,CAAAC,OAAO,CAAGnC,cAAc,CAACoC,MAAM,CAAIC,CAAC,EAAMA,CAAC,CAACnC,QAAQ,GAAK,CAAE,CAAC,CAClE,GAAK,CAACE,aAAa,CAACE,IAAI,CAAG,CACvBgC,KAAK,CAAE,MAAM,CAAE,CAAG/E,mBAAmB,CAAE,8BAA+B,CAAC,CAC3E,CAAC,IAAM,IAAK,CAAC6C,aAAa,CAACK,iBAAiB,CAAG,CAC3CwB,OAAO,CAAE,mBAAmB,CAAE,CAAG1E,mBAAmB,CAAE,0CAA2C,CAAC,CACtG,CAAC,IAAM,IAAK,CAAC6C,aAAa,CAACM,eAAe,CAAG,CACzCuB,OAAO,CAAE,iBAAiB,CAAE,CAAG1E,mBAAmB,CAAE,0CAA2C,CAAC,CACpG,CAAC,IAAM,IAAK6C,aAAa,CAACK,iBAAiB,CAACc,KAAK,GAAKnB,aAAa,CAACM,eAAe,CAACa,KAAK,CAAG,CACxFU,OAAO,CAAE,iBAAiB,CAAE,CAAG1E,mBAAmB,CAAE,4CAA6C,CAAC,CACtG,CAAC,IAAM,IAAK4E,OAAO,CAACP,MAAM,CAAG,CAAC,CAAG,CAC7BvC,QAAQ,CAAEtB,QAAQ,CAAE,CAChBwE,IAAI,CAAEhF,mBAAmB,CAAE,4CAA6C,CAAC,CACzEsE,IAAI,CAAE7D,SAAS,CAACwE,KACpB,CAAE,CAAE,CAAC,CACT,CAAC,IAAM,IAAKxC,cAAc,CAAC4B,MAAM,CAAG,CAAC,CAAG,CACpCvC,QAAQ,CAAEtB,QAAQ,CAAE,CAChBwE,IAAI,CAAEhF,mBAAmB,CAAE,wCAAyC,CAAC,CACrEsE,IAAI,CAAE7D,SAAS,CAACwE,KACpB,CAAE,CAAE,CAAC,CACT,CAAC,IAAM,IAAK,CAACpC,aAAa,CAACiB,SAAS,CAAG,CACnCY,OAAO,CAAE,WAAW,CAAE,CAAG1E,mBAAmB,CAAE,gCAAiC,CAAC,CACpF,CAAC,IAAM,CACH2E,OAAO,CAAG,IAAI,CAClB,CACAT,SAAS,CAAEQ,OAAQ,CAAC,CACpB,MAAO,CAAAC,OAAO,CAClB,CAAC,CAED,KAAM,CAAAO,oBAAoB,CAAKC,GAAG,EAAM,CACpCrC,gBAAgB,CAAE0B,MAAM,GAAM,CAAE,GAAGA,MAAM,CAAEtB,iBAAiB,CAAEiC,GAAI,CAAC,CAAG,CAAC,CACvEjB,SAAS,CAAE,EAAG,CAAC,CACnB,CAAC,CAED,KAAM,CAAAkB,oBAAoB,CAAKD,GAAG,EAAM,CACpCrC,gBAAgB,CAAE0B,MAAM,GAAM,CAAE,GAAGA,MAAM,CAAErB,eAAe,CAAEgC,GAAI,CAAC,CAAG,CAAC,CACrEjB,SAAS,CAAE,EAAG,CAAC,CACnB,CAAC,CAED,KAAM,CAAAmB,cAAc,CAAKF,GAAG,EAAM,CAC9BrC,gBAAgB,CAAE0B,MAAM,GAAM,CAAE,GAAGA,MAAM,CAAEV,SAAS,CAAEqB,GAAI,CAAC,CAAG,CAAC,CACnE,CAAC,CAED,KAAM,CAAAG,UAAU,CAAKC,IAAI,EAAM,CAC3BvD,UAAU,CAAEuD,IAAK,CAAC,CACtB,CAAC,CAED,KAAM,CAAAC,cAAc,CAAKD,IAAI,EAAM,CAC/BrD,cAAc,CAAEqD,IAAK,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAE,SAAS,CAAKF,IAAI,EAAM,CAC1BnD,SAAS,CAAEmD,IAAK,CAAC,CACrB,CAAC,CAED,KAAM,CAAAG,aAAa,CAAKC,CAAC,EAAM,CAC3BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAE5B,KAAM,CAAC,CAAG2B,CAAC,CAACE,MAAM,CAC1B;AACA,GAAK7B,KAAK,CAAC8B,KAAK,CAAE,KAAM,CAAC,CAAG,CACxB,KAAM,EAAIC,OAAO,CAAE,CAAG/B,KAAK,CAACgC,KAAK,CAAE,GAAI,CAAC,CACxC;AACA,GAAK,CAAAD,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE1B,MAAM,EAAG,CAAC,CAAG,CACvB;AACA,OACJ,CACJ,CACAvB,gBAAgB,CAAE0B,MAAM,GAAM,CAAE,GAAGA,MAAM,CAAE,CAAEmB,CAAC,CAACE,MAAM,CAACI,IAAI,EAAIjC,KAAK,EAAIA,KAAM,CAAC,CAAG,CAAC,CACtF,CAAC,CAED,KAAM,CAAAkC,kBAAkB,CAAKP,CAAC,EAAM,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB9C,gBAAgB,CAAE0B,MAAM,GAAM,CAAE,GAAGA,MAAM,CAAEX,KAAK,CAAE8B,CAAC,CAACE,MAAM,CAAC7B,KAAM,CAAC,CAAG,CAAC,CAC1E,CAAC,CAED,KAAM,CAAAmC,cAAc,CAAKpD,IAAI,EAAM,CAC/BD,gBAAgB,CAAEsD,aAAa,EAAI,CAC/B,MAAO,CAAE,GAAGA,aAAa,CAAErD,IAAI,CAAEA,IAAK,CAAC,CAC3C,CAAE,CAAC,CACHmB,SAAS,CAAE,EAAG,CAAC,CACnB,CAAC,CAED,KAAM,CAAAmC,UAAU,CAAKC,GAAG,EAAM,CAC1B1D,WAAW,CAAE0D,GAAI,CAAC,CACtB,CAAC,CAED,KAAM,CAAAC,cAAc,CAAKhB,IAAI,EAAM,CAC/B/C,WAAW,CAAE+C,IAAK,CAAC,CACvB,CAAC,CAED,KAAM,CAAAiB,kBAAkB,CAAKjB,IAAI,EAAM,CACnCjD,kBAAkB,CAAEiD,IAAK,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAkB,2BAA2B,CAAGtG,mBAAmB,CAAEO,0BAA2B,CAAC,CAErF,KAAM,CAAAgG,WAAW,CAAKA,WAAW,EAAM,CACnC,KAAM,CAAAC,SAAS,CAAG,CACdzD,iBAAiB,CAAEwD,WAAW,CAACxD,iBAAiB,CAACc,KAAK,CAAG0C,WAAW,CAACxD,iBAAiB,CAACc,KAAK,CAAG0C,WAAW,CAACxD,iBAAiB,CAC5HC,eAAe,CAAEuD,WAAW,CAACvD,eAAe,CAACa,KAAK,CAAG0C,WAAW,CAACvD,eAAe,CAACa,KAAK,CAAG0C,WAAW,CAACvD,eAAe,CACpHJ,IAAI,CAAEtD,MAAM,CAAEiH,WAAW,CAAC3D,IAAK,CAAC,CAACC,MAAM,CAAC,CAAC,CACzCoB,cAAc,CAAE3B,cAAc,CAC9BmE,IAAI,CAAEF,WAAW,CAAC7C,KAAK,CACvBH,QAAQ,CAAEgD,WAAW,CAAChD,QAAQ,CAC9BH,QAAQ,CAAEmD,WAAW,CAACnD,QAAQ,CAC9BE,UAAU,CAAEpD,2BAA2B,CAAEoC,cAAc,CAAEI,aAAc,CAAC,CACxEc,QAAQ,CAAE+C,WAAW,CAAC/C,QAAQ,CAC9BC,WAAW,CAAExD,wBAAwB,CAAEqC,cAAc,CAAEI,aAAc,CAAC,CACtEgE,eAAe,CAAE,CAAC,CAClBC,WAAW,CAAE,CAAC,CACdC,MAAM,CAAEL,WAAW,CAAC5C,SAAS,CAACE,KAAK,CAAG0C,WAAW,CAAC5C,SAAS,CAACE,KAAK,CAAG0C,WAAW,CAAC5C,SACpF,CAAC,CACD,MAAO,CAAA6C,SAAS,CACpB,CAAC,CAED,KAAM,CAAAK,QAAQ,CAAKC,KAAK,EAAM,CAC1BA,KAAK,CAACrB,cAAc,CAAC,CAAC,CACtB,KAAM,CAAAsB,KAAK,CAAGzC,gBAAgB,CAAC,CAAC,CAChC,GAAKyC,KAAK,CAAG,CACT,GAAK1F,cAAc,CAAG,CAClB5B,YAAY,CAAE0B,EAAE,CAAEoF,WAAW,CAAE7D,aAAc,CAAC,CAAEhB,QAAS,CAAC,CAC9D,CAAC,IAAM,CACHR,eAAe,CAAEqF,WAAW,CAAE7D,aAAc,CAAE,CAAC,CAC/CC,gBAAgB,CAAED,aAAc,CAAC,CACrC,CACJ,CACJ,CAAC,CAED,KAAM,CAAAsE,WAAW,CAAKC,EAAE,EAAM,CAC1B,GAAKA,EAAE,CAACvB,MAAM,CAAC7B,KAAK,GAAK,EAAE,CAAG,CAC1B,GAAKoD,EAAE,CAACvB,MAAM,CAACI,IAAI,GAAK,UAAU,CAAG,CACjCnD,gBAAgB,CAAE,CAAE,GAAGD,aAAa,CAAEc,QAAQ,CAAE,MAAO,CAAE,CAAC,CAC9D,CACA,GAAKyD,EAAE,CAACvB,MAAM,CAACI,IAAI,GAAK,UAAU,CAAG,CACjCnD,gBAAgB,CAAE,CAAE,GAAGD,aAAa,CAAEa,QAAQ,CAAE,MAAO,CAAE,CAAC,CAC9D,CACA,GAAK0D,EAAE,CAACvB,MAAM,CAACI,IAAI,GAAK,UAAU,CAAG,CACjCnD,gBAAgB,CAAE,CAAE,GAAGD,aAAa,CAAEU,QAAQ,CAAE,MAAO,CAAE,CAAC,CAC9D,CACJ,CACJ,CAAC,CAED,mBACIrC,IAAA,QAAKmG,SAAS,CAAC,MAAM,CAAAC,QAAA,cACjBpG,IAAA,QAAKmG,SAAS,CAAC,WAAW,CAAAC,QAAA,cAEtBtG,KAAA,QAAKqG,SAAS,CAAC,KAAK,CAAAC,QAAA,eAChBtG,KAAA,QAAKqG,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrBtG,KAAA,UAAOqG,SAAS,CAAC,YAAY,CAAAC,QAAA,EACxBtH,mBAAmB,CAAE,oCAAqC,CAAC,CAAC,GACjE,EAAO,CAAC,cACRkB,IAAA,SAAMmG,SAAS,CAAC,UAAU,CAAE,CAAC,cAC7BnG,IAAA,QAAKmG,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAC9BpG,IAAA,CAACP,eAAe,EAAC4G,YAAY,CAAEpB,cAAe,CAACqB,YAAY,CAAE3E,aAAa,CAACE,IAAK,CAAE,CAAC,CAClF,CAAC,cACN7B,IAAA,SAAMmG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAErD,MAAM,CAAE,MAAM,CAAE,CAAGA,MAAM,CAAE,MAAM,CAAE,CAAG,IAAI,CAAO,CAAC,EAC7G,CAAC,cACN/C,IAAA,QAAKmG,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC1BpG,IAAA,CAACL,WAAW,EAAC4G,IAAI,CAAEhG,UAAW,CAACiG,QAAQ,CAAExC,oBAAqB,CAC1DyC,YAAY,CAAE9E,aAAa,CAACK,iBAAkB,CAAC0E,cAAc,CAAEpG,cAAe,CAC9EqG,kBAAkB,CAAE,IAAK,CACzBC,KAAK,CAAE9H,mBAAmB,CAAE,+BAAgC,CAAE,CAACiE,MAAM,CAAEA,MAAM,CAAE,mBAAmB,CAAG,CACrG8D,WAAW,CAAE9H,eAAe,CAAE,6CAA8C,CAAE,CAAE,CAAC,CACpF,CAAC,cACNiB,IAAA,QAAKmG,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC1BpG,IAAA,CAACL,WAAW,EAAC4G,IAAI,CAAEhG,UAAW,CAACiG,QAAQ,CAAEtC,oBAAqB,CAC1DuC,YAAY,CAAE9E,aAAa,CAACM,eAAgB,CAACyE,cAAc,CAAEpG,cAAe,CAC5EqG,kBAAkB,CAAE,IAAK,CACzBC,KAAK,CAAE9H,mBAAmB,CAAE,6BAA8B,CAAE,CAACiE,MAAM,CAAEA,MAAM,CAAE,iBAAiB,CAAG,CACjG8D,WAAW,CAAE9H,eAAe,CAAE,6CAA8C,CAAE,CAAE,CAAC,CACpF,CAAC,cACNe,KAAA,QAAKqG,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BtG,KAAA,UAAOqG,SAAS,CAAC,YAAY,CAAAC,QAAA,EACxBtH,mBAAmB,CAAE,oCAAqC,CAAC,CAAC,GACjE,EAAO,CAAC,cACRkB,IAAA,CAACX,aAAa,EAACyH,MAAM,CAAEnF,aAAc,CAACnB,QAAQ,CAAEA,QAAS,CAACuG,aAAa,CAAE,KAAM,CAC3ExD,gBAAgB,CAAEA,gBAAiB,CAAChC,cAAc,CAAEA,cAAe,CACnEC,iBAAiB,CAAEA,iBAAkB,CAACnB,cAAc,CAAEA,cAAe,CAAE,CAAC,EAC3E,CAAC,cACNP,KAAA,QAAKqG,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzBtG,KAAA,UACIqG,SAAS,CAAC,YAAY,CAAAC,QAAA,EACrBtH,mBAAmB,CAAE,iCAAkC,CAAC,CAAC,GAC9D,EAAO,CAAC,cACRkB,IAAA,SAAMmG,SAAS,CAAC,WAAW,CAAE,CAAC,cAC9BrG,KAAA,CAACrB,KAAK,EAACuI,UAAU,MAAAZ,QAAA,eACbpG,IAAA,UAAAoG,QAAA,cACItG,KAAA,OAAAsG,QAAA,eACIpG,IAAA,OAAAoG,QAAA,CAAKtH,mBAAmB,CAAE,oCAAqC,CAAC,CAAK,CAAC,cACtEkB,IAAA,OAAAoG,QAAA,CAAKtH,mBAAmB,CAAE,sDAAuD,CAAC,CAAK,CAAC,cACxFkB,IAAA,OAAAoG,QAAA,CAAKtH,mBAAmB,CAAE,8CAA+C,CAAC,CAAK,CAAC,cAChFkB,IAAA,OAAImG,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAEtH,mBAAmB,CAAE,4CAA6C,CAAC,CAAK,CAAC,cACpHkB,IAAA,OAAAoG,QAAA,CAAKtH,mBAAmB,CAAE,iDAAkD,CAAC,CAAK,CAAC,cACnFkB,IAAA,OAAAoG,QAAA,CAAKtH,mBAAmB,CAAE,4CAA6C,CAAC,CAAK,CAAC,cAC9EkB,IAAA,OAAAoG,QAAA,CAAKtH,mBAAmB,CAAE,kDAAmD,CAAC,CAAK,CAAC,cACpFkB,IAAA,OAAAoG,QAAA,CAAKtH,mBAAmB,CAAE,sCAAuC,CAAC,CAAK,CAAC,EACxE,CAAC,CACF,CAAC,cACRgB,KAAA,UAAAsG,QAAA,EACK7E,cAAc,EAAIA,cAAc,CAAC0F,GAAG,CAAE,CAAEC,aAAa,CAAEC,KAAK,GAAM,CAC/D,mBAAOnH,IAAA,CAACrB,cAAc,EAACuI,aAAa,CAAEA,aAAc,CAACC,KAAK,CAAEA,KAAM,CAC9DC,SAAS,CAAEjC,UAAW,CACtBf,UAAU,CAAEA,UAAW,CAACE,cAAc,CAAEA,cAAe,CACvD/C,cAAc,CAAEA,cAAe,CAC/B8D,cAAc,CAAEA,cAAe,CAAC5E,YAAY,CAAEA,YAAa,CAC3De,iBAAiB,CAAEA,iBAAkB,CAAC+C,SAAS,CAAEA,SAAU,CAC3De,kBAAkB,CAAEA,kBAAmB,CACvC+B,YAAY,CAAE/G,cAAc,EAAIA,cAAc,CAACgH,cAAe,CACjE,CAAC,CACN,CAAE,CAAC,CACF,CAAC/F,cAAc,CAAC4B,MAAM,eAAInD,IAAA,OAAAoG,QAAA,cACvBpG,IAAA,OAAIuH,OAAO,CAAE,CAAE,CAACpB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CACxDtH,mBAAmB,CAAE,kCAAmC,CAAC,CAC1D,CAAC,CACL,CAAC,EAEF,CAAC,EACL,CAAC,EACP,CAAC,cACNkB,IAAA,QAAKmG,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACnBpG,IAAA,CAACN,sBAAsB,EAAC8H,WAAW,CAAE7F,aAAc,CAACJ,cAAc,CAAEA,cAAe,CAC/Ed,YAAY,CAAEA,YAAa,CAACC,aAAa,CAAEA,aAAc,CAAE,CAAC,CAC/D,CAAC,cACNZ,KAAA,QAAKqG,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1BtG,KAAA,UAAOqG,SAAS,CAAC,YAAY,CAAAC,QAAA,EACxBtH,mBAAmB,CAAE,gCAAiC,CAAC,CAAC,GAC7D,EAAO,CAAC,cACRgB,KAAA,CAACtB,UAAU,EAAA4H,QAAA,eACPpG,IAAA,UAAO,aAAW,iDAAiD,CAC/DmG,SAAS,CAAC,cAAc,CACxBsB,MAAM,CAAI1B,KAAK,EAAME,WAAW,CAAEF,KAAM,CAAE,CAC1C2B,OAAO,CAAI3B,KAAK,EAAM/G,YAAY,CAAE+G,KAAM,CAAE,CAC5CjD,KAAK,CAAEnB,aAAa,CAACU,QAAS,CAACe,IAAI,CAAC,MAAM,CAAC2B,IAAI,CAAC,UAAU,CAC1D4C,UAAU,CAAI5B,KAAK,EAAMlH,eAAe,CAAEkH,KAAM,CAAE,CAClDS,QAAQ,CAAI/B,CAAC,EAAM,CACfD,aAAa,CAAEC,CAAE,CAAC,CACtB,CAAE,CAAE,CAAC,cACTzE,IAAA,CAACxB,UAAU,CAACoJ,IAAI,EAAAxB,QAAA,CAAC,GAAC,CAAiB,CAAC,EAC5B,CAAC,cACbpG,IAAA,SAAMmG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAErD,MAAM,CAAE,UAAU,CAAE,CAAGA,MAAM,CAAE,UAAU,CAAE,CAAG,IAAI,CAAO,CAAC,EACrH,CAAC,cACNjD,KAAA,QAAKqG,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1BtG,KAAA,UAAOqG,SAAS,CAAC,YAAY,CAAAC,QAAA,EACxBtH,mBAAmB,CAAE,iDAAkD,CAAC,CAAC,GAC9E,EAAO,CAAC,cACRgB,KAAA,CAACtB,UAAU,EAAA4H,QAAA,eACPpG,IAAA,UAAO,aAAW,iDAAiD,CAC/DmG,SAAS,CAAC,cAAc,CACxBsB,MAAM,CAAI1B,KAAK,EAAME,WAAW,CAAEF,KAAM,CAAE,CAC1C2B,OAAO,CAAI3B,KAAK,EAAM/G,YAAY,CAAE+G,KAAM,CAAE,CAC5CjD,KAAK,CAAEnB,aAAa,CAACa,QAAS,CAACY,IAAI,CAAC,MAAM,CAAC2B,IAAI,CAAC,UAAU,CAC1D4C,UAAU,CAAI5B,KAAK,EAAMlH,eAAe,CAAEkH,KAAM,CAAE,CAClDS,QAAQ,CAAI/B,CAAC,EAAMD,aAAa,CAAEC,CAAE,CAAE,CACzC,CAAC,cACFzE,IAAA,CAACxB,UAAU,CAACoJ,IAAI,EAAAxB,QAAA,CAAE3F,YAAY,CAACqC,KAAK,EAAIrC,YAAY,CAACqC,KAAK,CAAC+E,eAAe,CAAkB,CAAC,EACrF,CAAC,cACb7H,IAAA,SAAMmG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAErD,MAAM,CAAE,UAAU,CAAE,CAAGA,MAAM,CAAE,UAAU,CAAE,CAAG,IAAI,CAAO,CAAC,EACrH,CAAC,cACNjD,KAAA,QAAKqG,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1BtG,KAAA,UACIqG,SAAS,CAAC,YAAY,CAAAC,QAAA,EACrBtH,mBAAmB,CAAE,+BAAgC,CAAC,CAAC,GAC5D,EAAO,CAAC,cACRgB,KAAA,CAACtB,UAAU,EAAA4H,QAAA,eACPpG,IAAA,UAAO,aAAW,iDAAiD,CAC/DmG,SAAS,CAAC,cAAc,CAACrD,KAAK,CAAEnB,aAAa,CAACc,QAAS,CACvDW,IAAI,CAAC,MAAM,CAAC2B,IAAI,CAAC,UAAU,CAC3B0C,MAAM,CAAI1B,KAAK,EAAME,WAAW,CAAEF,KAAM,CAAE,CAC1C2B,OAAO,CAAI3B,KAAK,EAAM/G,YAAY,CAAE+G,KAAM,CAAE,CAC5C4B,UAAU,CAAI5B,KAAK,EAAMlH,eAAe,CAAEkH,KAAM,CAAE,CAClDS,QAAQ,CAAI/B,CAAC,EAAMD,aAAa,CAAEC,CAAE,CAAE,CACzC,CAAC,cACFzE,IAAA,CAACxB,UAAU,CAACoJ,IAAI,EAAAxB,QAAA,CAAE3F,YAAY,CAACqC,KAAK,EAAIrC,YAAY,CAACqC,KAAK,CAAC+E,eAAe,CAAkB,CAAC,EACrF,CAAC,cACb7H,IAAA,SAAMmG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAErD,MAAM,CAAE,UAAU,CAAE,CAAGA,MAAM,CAAE,UAAU,CAAE,CAAG,IAAI,CAAO,CAAC,EACrH,CAAC,cACN/C,IAAA,QAAKmG,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC1BpG,IAAA,CAACL,WAAW,EAACmI,mBAAmB,CAAEvC,2BAA4B,CAC1DR,IAAI,CAAC,QAAQ,CAACyB,QAAQ,CAAErC,cAAe,CACvCyC,KAAK,CAAE9H,mBAAmB,CAAE,8BAA+B,CAAE,CAC7D2H,YAAY,CAAE9E,aAAa,CAACiB,SAAU,CAACG,MAAM,CAAEA,MAAM,CAAE,WAAW,CAAG,CACrE8D,WAAW,CAAE9H,eAAe,CAAE,0CAA2C,CAAE,CAAE,CAAC,CACjF,CAAC,cACNe,KAAA,QAAKqG,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BtG,KAAA,UAAOqG,SAAS,CAAC,YAAY,CAAAC,QAAA,EACxBtH,mBAAmB,CAAE,4BAA6B,CAAC,CAAC,GACzD,EAAO,CAAC,cACRkB,IAAA,aAAU+E,IAAI,CAAC,OAAO,CAACoB,SAAS,CAAC,cAAc,CAC3CU,WAAW,CAAE9H,eAAe,CAAE,kCAAmC,CAAE,CACnEyH,QAAQ,CAAI/B,CAAC,EAAMO,kBAAkB,CAAEP,CAAE,CAC7C;AAAA,CACC,CAAC,cACFzE,IAAA,SAAMmG,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAErD,MAAM,CAAE,OAAO,CAAE,CAAGA,MAAM,CAAE,OAAO,CAAE,CAAG,IAAI,CAAO,CAAC,EAC/G,CAAC,cACN/C,IAAA,CAACZ,WAAW,EAAC2I,YAAY,CAAEzH,cAAe,CAACwF,QAAQ,CAAEA,QAAS,CAACkC,IAAI,CAAC,gBAAgB,CAAE,CAAC,EACtF,CAAC,CAEL,CAAC,CACL,CAAC,CAEd,CAAC,CAED,KAAM,CAAAC,eAAe,CAAKC,KAAK,EAAM,CACjC,KAAM,CAAE1H,QAAQ,CAAEC,YAAY,CAAEC,aAAc,CAAC,CAAGwH,KAAK,CACvD,MAAO,CAAE7H,cAAc,CAAEzB,oBAAoB,CAAE4B,QAAS,CAAC,CAAEA,QAAQ,CAAEC,YAAY,CAAEC,aAAc,CAAC,CACtG,CAAC,CAED,cAAe,CAAAtC,OAAO,CAAE6J,eAAe,CAAE,CAAEvJ,YAAY,CAAEkB,wBAAyB,CAAE,CAAC,CAAEK,YAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}