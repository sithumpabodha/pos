{"ast":null,"code":"import React,{useState}from'react';import{connect}from'react-redux';import{useNavigate}from'react-router-dom';import moment from'moment';import MasterLayout from'../MasterLayout';import{fetchSuppliers}from'../../store/action/supplierAction';import ReactDataTable from'../../shared/table/ReactDataTable';import DeleteSupplier from'./DeleteSupplier';import TabTitle from'../../shared/tab-title/TabTitle';import{getFormattedDate,getFormattedMessage,placeholderText}from'../../shared/sharedMethod';import ActionButton from'../../shared/action-buttons/ActionButton';import TopProgressBar from\"../../shared/components/loaders/TopProgressBar\";import ImportSuppliersModel from'./ImportSuppliersModel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Suppliers=props=>{const{fetchSuppliers,suppliers,totalRecord,isLoading,allConfigData}=props;const[deleteModel,setDeleteModel]=useState(false);const[isDelete,setIsDelete]=useState(null);const[importSuppliers,setImportSuppliers]=useState(false);const handleClose=()=>{setImportSuppliers(!importSuppliers);};const navigate=useNavigate();const onClickDeleteModel=function(){let isDelete=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;setDeleteModel(!deleteModel);setIsDelete(isDelete);};const onChange=filter=>{fetchSuppliers(filter,true);};const goToEditProduct=item=>{const id=item.id;navigate(`/app/suppliers/edit/${id}`);};const itemsValue=suppliers.length>=0&&suppliers.map(supplier=>({date:getFormattedDate(supplier.attributes.created_at,allConfigData&&allConfigData),time:moment(supplier.attributes.created_at).format('LT'),name:supplier.attributes.name,phone:supplier.attributes.phone,country:supplier.attributes.country,city:supplier.attributes.city,email:supplier.attributes.email,id:supplier.id}));const columns=[{name:getFormattedMessage('supplier.title'),selector:row=>row.name,sortable:true,sortField:'name',cell:row=>{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-primary\",children:row.name}),/*#__PURE__*/_jsx(\"div\",{children:row.email})]});}},{name:getFormattedMessage('globally.input.phone-number.label'),selector:row=>row.phone,sortField:'phone',sortable:true},{name:getFormattedMessage('globally.react-table.column.created-date.label'),selector:row=>row.date,sortField:'created_at',sortable:true,cell:row=>{return/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-light-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:row.time}),row.date]});}},{name:getFormattedMessage('react-data-table.action.column.label'),right:true,ignoreRowClick:true,allowOverflow:true,button:true,cell:row=>/*#__PURE__*/_jsx(ActionButton,{item:row,goToEditProduct:goToEditProduct,isEditMode:true,onClickDeleteModel:onClickDeleteModel})}];return/*#__PURE__*/_jsxs(MasterLayout,{children:[/*#__PURE__*/_jsx(TopProgressBar,{}),/*#__PURE__*/_jsx(TabTitle,{title:placeholderText('suppliers.title')}),/*#__PURE__*/_jsx(ReactDataTable,{columns:columns,items:itemsValue,onChange:onChange,isLoading:isLoading,ButtonValue:getFormattedMessage('supplier.create.title'),buttonImport:true,goToImport:handleClose,totalRows:totalRecord,importBtnTitle:'suppliers.import.title',to:\"#/app/suppliers/create\"}),/*#__PURE__*/_jsx(DeleteSupplier,{onClickDeleteModel:onClickDeleteModel,deleteModel:deleteModel,onDelete:isDelete}),importSuppliers&&/*#__PURE__*/_jsx(ImportSuppliersModel,{handleClose:handleClose,show:importSuppliers})]});};const mapStateToProps=state=>{const{suppliers,totalRecord,isLoading,allConfigData}=state;return{suppliers,totalRecord,isLoading,allConfigData};};export default connect(mapStateToProps,{fetchSuppliers})(Suppliers);","map":{"version":3,"names":["React","useState","connect","useNavigate","moment","MasterLayout","fetchSuppliers","ReactDataTable","DeleteSupplier","TabTitle","getFormattedDate","getFormattedMessage","placeholderText","ActionButton","TopProgressBar","ImportSuppliersModel","jsx","_jsx","jsxs","_jsxs","Suppliers","props","suppliers","totalRecord","isLoading","allConfigData","deleteModel","setDeleteModel","isDelete","setIsDelete","importSuppliers","setImportSuppliers","handleClose","navigate","onClickDeleteModel","arguments","length","undefined","onChange","filter","goToEditProduct","item","id","itemsValue","map","supplier","date","attributes","created_at","time","format","name","phone","country","city","email","columns","selector","row","sortable","sortField","cell","children","className","right","ignoreRowClick","allowOverflow","button","isEditMode","title","items","ButtonValue","buttonImport","goToImport","totalRows","importBtnTitle","to","onDelete","show","mapStateToProps","state"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/supplier/Suppliers.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport moment from 'moment';\nimport MasterLayout from '../MasterLayout';\nimport { fetchSuppliers } from '../../store/action/supplierAction';\nimport ReactDataTable from '../../shared/table/ReactDataTable';\nimport DeleteSupplier from './DeleteSupplier';\nimport TabTitle from '../../shared/tab-title/TabTitle';\nimport { getFormattedDate, getFormattedMessage, placeholderText } from '../../shared/sharedMethod';\nimport ActionButton from '../../shared/action-buttons/ActionButton';\nimport TopProgressBar from \"../../shared/components/loaders/TopProgressBar\";\nimport ImportSuppliersModel from './ImportSuppliersModel'\n\nconst Suppliers = ( props ) => {\n    const { fetchSuppliers, suppliers, totalRecord, isLoading, allConfigData } = props;\n    const [ deleteModel, setDeleteModel ] = useState( false );\n    const [ isDelete, setIsDelete ] = useState( null );\n    const [ importSuppliers, setImportSuppliers ] = useState( false );\n\n    const handleClose = () => {\n        setImportSuppliers( !importSuppliers );\n    };\n    const navigate = useNavigate()\n\n    const onClickDeleteModel = ( isDelete = null ) => {\n        setDeleteModel( !deleteModel );\n        setIsDelete( isDelete );\n    };\n\n    const onChange = ( filter ) => {\n        fetchSuppliers( filter, true );\n    };\n\n    const goToEditProduct = ( item ) => {\n        const id = item.id\n        navigate( `/app/suppliers/edit/${id}` )\n    };\n\n    const itemsValue = suppliers.length >= 0 && suppliers.map( supplier => ( {\n        date: getFormattedDate( supplier.attributes.created_at, allConfigData && allConfigData ),\n        time: moment( supplier.attributes.created_at ).format( 'LT' ),\n        name: supplier.attributes.name,\n        phone: supplier.attributes.phone,\n        country: supplier.attributes.country,\n        city: supplier.attributes.city,\n        email: supplier.attributes.email,\n        id: supplier.id\n    } ) );\n\n    const columns = [\n        {\n            name: getFormattedMessage( 'supplier.title' ),\n            selector: row => row.name,\n            sortable: true,\n            sortField: 'name',\n            cell: row => {\n                return <div>\n                    <div className='text-primary'>{row.name}</div>\n                    <div>{row.email}</div>\n                </div>\n            }\n        },\n        {\n            name: getFormattedMessage( 'globally.input.phone-number.label' ),\n            selector: row => row.phone,\n            sortField: 'phone',\n            sortable: true,\n        },\n        {\n            name: getFormattedMessage( 'globally.react-table.column.created-date.label' ),\n            selector: row => row.date,\n            sortField: 'created_at',\n            sortable: true,\n            cell: row => {\n                return (\n                    <span className='badge bg-light-info'>\n                        <div className='mb-1'>{row.time}</div>\n                        {row.date}\n                    </span>\n                )\n            }\n        },\n        {\n            name: getFormattedMessage( 'react-data-table.action.column.label' ),\n            right: true,\n            ignoreRowClick: true,\n            allowOverflow: true,\n            button: true,\n            cell: row => <ActionButton item={row} goToEditProduct={goToEditProduct} isEditMode={true}\n                onClickDeleteModel={onClickDeleteModel} />\n        }\n    ];\n\n    return (\n        <MasterLayout>\n            <TopProgressBar />\n            <TabTitle title={placeholderText( 'suppliers.title' )} />\n            <ReactDataTable columns={columns} items={itemsValue} onChange={onChange} isLoading={isLoading}\n                ButtonValue={getFormattedMessage( 'supplier.create.title' )} buttonImport={true} goToImport={handleClose}\n                totalRows={totalRecord} importBtnTitle={'suppliers.import.title'}\n                to='#/app/suppliers/create' />\n            <DeleteSupplier onClickDeleteModel={onClickDeleteModel} deleteModel={deleteModel} onDelete={isDelete} />\n            {importSuppliers && <ImportSuppliersModel handleClose={handleClose} show={importSuppliers} />}\n        </MasterLayout>\n    )\n};\n\nconst mapStateToProps = ( state ) => {\n    const { suppliers, totalRecord, isLoading, allConfigData } = state;\n    return { suppliers, totalRecord, isLoading, allConfigData }\n};\n\nexport default connect( mapStateToProps, { fetchSuppliers } )( Suppliers );\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}