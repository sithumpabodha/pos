{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Button,Modal,Table}from\"react-bootstrap-v5\";import{currencySymbolHandling,getFormattedDate,getFormattedMessage,placeholderText}from\"../sharedMethod\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faPencil,faTrash}from\"@fortawesome/free-solid-svg-icons\";import{useDispatch}from\"react-redux\";import EditPaymentModal from\"../../components/sales/EditPaymentModal\";import{deleteSalePayment}from\"../../store/action/salePaymentAction\";import{fetchConfig}from\"../../store/action/configAction\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ShowPayment=props=>{const{onShowPaymentClick,isShowPaymentModel,allSalePayments,currencySymbol,setIsShowPaymentModel,createPaymentItem,allConfigData}=props;const[isEditModalOpen,setIsEditModalOpen]=useState(false);const[editSaleItem,setEditSaleItem]=useState({});const dispatch=useDispatch();useEffect(()=>{fetchConfig();},[]);const onEditClick=item=>{setIsEditModalOpen(true);setEditSaleItem(item);};const closeModal=()=>{setIsEditModalOpen(!isEditModalOpen);setIsShowPaymentModel(false);};const onDeletClick=paymentId=>{dispatch(deleteSalePayment(paymentId));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Modal,{show:isShowPaymentModel,onHide:onShowPaymentClick,size:\"lg\",keyboard:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:getFormattedMessage(\"globally.show.payment.label\")})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Table,{responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage(\"react-data-table.date.column.label\")}),/*#__PURE__*/_jsx(\"th\",{className:\"ps-3\",children:getFormattedMessage(\"globally.detail.reference\")}),/*#__PURE__*/_jsx(\"th\",{className:\"ps-3\",children:getFormattedMessage(\"expense.input.amount.label\")}),/*#__PURE__*/_jsx(\"th\",{className:\"ps-3\",children:getFormattedMessage(\"pos-sale.detail.Paid-bt.title\")}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage(\"react-data-table.action.column.label\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allSalePayments&&allSalePayments.length!==0&&allSalePayments.map(item=>{return/*#__PURE__*/_jsxs(\"tr\",{className:\"align-middle\",children:[/*#__PURE__*/_jsx(\"td\",{children:getFormattedDate(item===null||item===void 0?void 0:item.payment_date,allConfigData&&allConfigData)}),/*#__PURE__*/_jsx(\"td\",{children:item.reference?item.reference:\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{children:currencySymbolHandling(allConfigData,currencySymbol,item.amount)}),/*#__PURE__*/_jsxs(\"td\",{children:[item.payment_type===1&&\"Cash\",item.payment_type===2&&\"Cheque\",item.payment_type===3&&\"Bank Transfer\",item.payment_type===4&&\"Other\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{type:\"button\",title:placeholderText(\"globally.edit.tooltip.label\"),variant:\"light\",onClick:()=>onEditClick(item),className:\"text-success btn-sm me-1\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPencil})}),/*#__PURE__*/_jsx(Button,{type:\"button\",title:placeholderText(\"globally.delete.tooltip.label\"),variant:\"light\",onClick:()=>onDeletClick(item.id),className:\"btn-sm text-danger\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash})})]})]});})})]})})]}),/*#__PURE__*/_jsx(EditPaymentModal,{createPaymentItem:createPaymentItem,isEditModalOpen:isEditModalOpen,closeModal:closeModal,editSaleItem:editSaleItem})]});};export default ShowPayment;","map":{"version":3,"names":["React","useEffect","useState","Button","Modal","Table","currencySymbolHandling","getFormattedDate","getFormattedMessage","placeholderText","FontAwesomeIcon","faPencil","faTrash","useDispatch","EditPaymentModal","deleteSalePayment","fetchConfig","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ShowPayment","props","onShowPaymentClick","isShowPaymentModel","allSalePayments","currencySymbol","setIsShowPaymentModel","createPaymentItem","allConfigData","isEditModalOpen","setIsEditModalOpen","editSaleItem","setEditSaleItem","dispatch","onEditClick","item","closeModal","onDeletClick","paymentId","children","show","onHide","size","keyboard","Header","closeButton","Title","Body","responsive","className","length","map","payment_date","reference","amount","payment_type","type","title","variant","onClick","icon","id"],"sources":["C:/Users/Sithu/Music/react-frontend/src/shared/showPayment/ShowPayment.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Modal, Table } from \"react-bootstrap-v5\";\nimport {\n    currencySymbolHandling,\n    getFormattedDate,\n    getFormattedMessage,\n    placeholderText,\n} from \"../sharedMethod\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPencil, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { useDispatch } from \"react-redux\";\nimport EditPaymentModal from \"../../components/sales/EditPaymentModal\";\nimport { deleteSalePayment } from \"../../store/action/salePaymentAction\";\nimport { fetchConfig } from \"../../store/action/configAction\";\n\nconst ShowPayment = (props) => {\n    const {\n        onShowPaymentClick,\n        isShowPaymentModel,\n        allSalePayments,\n        currencySymbol,\n        setIsShowPaymentModel,\n        createPaymentItem,\n        allConfigData,\n    } = props;\n    const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n    const [editSaleItem, setEditSaleItem] = useState({});\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        fetchConfig();\n    }, []);\n\n    const onEditClick = (item) => {\n        setIsEditModalOpen(true);\n        setEditSaleItem(item);\n    };\n\n    const closeModal = () => {\n        setIsEditModalOpen(!isEditModalOpen);\n        setIsShowPaymentModel(false);\n    };\n\n    const onDeletClick = (paymentId) => {\n        dispatch(deleteSalePayment(paymentId));\n    };\n\n    return (\n        <>\n            <Modal\n                show={isShowPaymentModel}\n                onHide={onShowPaymentClick}\n                size=\"lg\"\n                keyboard={true}\n            >\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        {getFormattedMessage(\"globally.show.payment.label\")}\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Table responsive>\n                        <thead>\n                            <tr>\n                                <th>\n                                    {getFormattedMessage(\n                                        \"react-data-table.date.column.label\"\n                                    )}\n                                </th>\n                                <th className=\"ps-3\">\n                                    {getFormattedMessage(\n                                        \"globally.detail.reference\"\n                                    )}\n                                </th>\n                                <th className=\"ps-3\">\n                                    {getFormattedMessage(\n                                        \"expense.input.amount.label\"\n                                    )}\n                                </th>\n                                <th className=\"ps-3\">\n                                    {getFormattedMessage(\n                                        \"pos-sale.detail.Paid-bt.title\"\n                                    )}\n                                </th>\n                                <th>\n                                    {getFormattedMessage(\n                                        \"react-data-table.action.column.label\"\n                                    )}\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {allSalePayments &&\n                                allSalePayments.length !== 0 &&\n                                allSalePayments.map((item) => {\n                                    return (\n                                        <tr className=\"align-middle\">\n                                            <td>\n                                                {getFormattedDate(\n                                                    item?.payment_date,\n                                                    allConfigData &&\n                                                        allConfigData\n                                                )}\n                                            </td>\n                                            <td>\n                                                {item.reference\n                                                    ? item.reference\n                                                    : \"N/A\"}\n                                            </td>\n                                            <td>\n                                                {currencySymbolHandling(\n                                                    allConfigData,\n                                                    currencySymbol,\n                                                    item.amount\n                                                )}\n                                            </td>\n                                            <td>\n                                                {item.payment_type === 1 &&\n                                                    \"Cash\"}\n                                                {item.payment_type === 2 &&\n                                                    \"Cheque\"}\n                                                {item.payment_type === 3 &&\n                                                    \"Bank Transfer\"}\n                                                {item.payment_type === 4 &&\n                                                    \"Other\"}\n                                            </td>\n                                            <td>\n                                                <Button\n                                                    type=\"button\"\n                                                    title={placeholderText(\n                                                        \"globally.edit.tooltip.label\"\n                                                    )}\n                                                    variant=\"light\"\n                                                    onClick={() =>\n                                                        onEditClick(item)\n                                                    }\n                                                    className=\"text-success btn-sm me-1\"\n                                                >\n                                                    <FontAwesomeIcon\n                                                        icon={faPencil}\n                                                    />\n                                                </Button>\n                                                <Button\n                                                    type=\"button\"\n                                                    title={placeholderText(\n                                                        \"globally.delete.tooltip.label\"\n                                                    )}\n                                                    variant=\"light\"\n                                                    onClick={() =>\n                                                        onDeletClick(item.id)\n                                                    }\n                                                    className=\"btn-sm text-danger\"\n                                                >\n                                                    <FontAwesomeIcon\n                                                        icon={faTrash}\n                                                    />\n                                                </Button>\n                                            </td>\n                                        </tr>\n                                    );\n                                })}\n                        </tbody>\n                    </Table>\n                </Modal.Body>\n            </Modal>\n            <EditPaymentModal\n                createPaymentItem={createPaymentItem}\n                isEditModalOpen={isEditModalOpen}\n                closeModal={closeModal}\n                editSaleItem={editSaleItem}\n            />\n        </>\n    );\n};\n\nexport default ShowPayment;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}