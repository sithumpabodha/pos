{"ast":null,"code":"import React,{useEffect}from'react';import{connect}from'react-redux';import{useParams}from'react-router-dom';import{fetchWarehouses}from'../../store/action/warehouseAction';import HeaderTitle from'../header/HeaderTitle';import MasterLayout from'../MasterLayout';import ExpenseForm from'./ExpenseForm';import{fetchExpense}from'../../store/action/expenseAction';import{fetchExpenseCategories}from'../../store/action/expenseCategoryAction';import{getFormattedMessage}from'../../shared/sharedMethod';import TopProgressBar from\"../../shared/components/loaders/TopProgressBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const EditExpense=props=>{const{fetchExpense,expenses,warehouses,fetchExpenseCategories,expenseCategories,fetchWarehouses}=props;const{id}=useParams();useEffect(()=>{fetchExpense(id);fetchWarehouses();fetchExpenseCategories();},[]);const itemsValue=expenses&&expenses.length===1&&expenses.map(expense=>({date:expense.attributes.date,title:expense.attributes.title,warehouse_id:{value:expense.attributes.warehouse_id,label:expense.attributes.warehouse_name},expense_category_id:{value:expense.attributes.expense_category_id,label:expense.attributes.expense_category_name},amount:expense.attributes.amount,details:expense.attributes.details,id:expense.id}));return/*#__PURE__*/_jsxs(MasterLayout,{children:[/*#__PURE__*/_jsx(TopProgressBar,{}),/*#__PURE__*/_jsx(HeaderTitle,{title:getFormattedMessage('expense.edit.title'),to:\"/app/expenses\"}),expenses.length===1&&/*#__PURE__*/_jsx(ExpenseForm,{singleExpense:itemsValue,id:id,warehouses:warehouses,expenseCategories:expenseCategories})]});};const mapStateToProps=state=>{const{expenses,warehouses,expenseCategories}=state;return{expenses,warehouses,expenseCategories};};export default connect(mapStateToProps,{fetchExpense,fetchWarehouses,fetchExpenseCategories})(EditExpense);","map":{"version":3,"names":["React","useEffect","connect","useParams","fetchWarehouses","HeaderTitle","MasterLayout","ExpenseForm","fetchExpense","fetchExpenseCategories","getFormattedMessage","TopProgressBar","jsx","_jsx","jsxs","_jsxs","EditExpense","props","expenses","warehouses","expenseCategories","id","itemsValue","length","map","expense","date","attributes","title","warehouse_id","value","label","warehouse_name","expense_category_id","expense_category_name","amount","details","children","to","singleExpense","mapStateToProps","state"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/expense/EditExpense.js"],"sourcesContent":["import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport {useParams} from 'react-router-dom'\nimport {fetchWarehouses} from '../../store/action/warehouseAction';\nimport HeaderTitle from '../header/HeaderTitle';\nimport MasterLayout from '../MasterLayout';\nimport ExpenseForm from './ExpenseForm';\nimport {fetchExpense} from '../../store/action/expenseAction';\nimport {fetchExpenseCategories} from '../../store/action/expenseCategoryAction';\nimport {getFormattedMessage} from '../../shared/sharedMethod';\nimport TopProgressBar from \"../../shared/components/loaders/TopProgressBar\";\n\nconst EditExpense = (props) => {\n    const {fetchExpense, expenses, warehouses, fetchExpenseCategories, expenseCategories, fetchWarehouses} = props;\n    const {id} = useParams();\n\n    useEffect(() => {\n        fetchExpense(id);\n        fetchWarehouses();\n        fetchExpenseCategories();\n    }, []);\n\n    const itemsValue = expenses && expenses.length === 1 && expenses.map(expense => ({\n        date: expense.attributes.date,\n        title: expense.attributes.title,\n        warehouse_id: {\n            value: expense.attributes.warehouse_id,\n            label: expense.attributes.warehouse_name\n        },\n        expense_category_id: {\n            value: expense.attributes.expense_category_id,\n            label: expense.attributes.expense_category_name,\n        },\n        amount: expense.attributes.amount,\n        details: expense.attributes.details,\n        id: expense.id,\n    }));\n\n    return (\n        <MasterLayout>\n            <TopProgressBar/>\n            <HeaderTitle title={getFormattedMessage('expense.edit.title')} to='/app/expenses'/>\n            {expenses.length === 1 && <ExpenseForm singleExpense={itemsValue} id={id} warehouses={warehouses}\n                                                   expenseCategories={expenseCategories}/>}\n        </MasterLayout>\n    )\n};\n\nconst mapStateToProps = (state) => {\n    const {expenses, warehouses, expenseCategories} = state;\n    return {expenses, warehouses, expenseCategories}\n};\n\nexport default connect(mapStateToProps, {fetchExpense, fetchWarehouses, fetchExpenseCategories})(EditExpense);\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,OAAQC,OAAO,KAAO,aAAa,CACnC,OAAQC,SAAS,KAAO,kBAAkB,CAC1C,OAAQC,eAAe,KAAO,oCAAoC,CAClE,MAAO,CAAAC,WAAW,KAAM,uBAAuB,CAC/C,MAAO,CAAAC,YAAY,KAAM,iBAAiB,CAC1C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAAQC,YAAY,KAAO,kCAAkC,CAC7D,OAAQC,sBAAsB,KAAO,0CAA0C,CAC/E,OAAQC,mBAAmB,KAAO,2BAA2B,CAC7D,MAAO,CAAAC,cAAc,KAAM,gDAAgD,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5E,KAAM,CAAAC,WAAW,CAAIC,KAAK,EAAK,CAC3B,KAAM,CAACT,YAAY,CAAEU,QAAQ,CAAEC,UAAU,CAAEV,sBAAsB,CAAEW,iBAAiB,CAAEhB,eAAe,CAAC,CAAGa,KAAK,CAC9G,KAAM,CAACI,EAAE,CAAC,CAAGlB,SAAS,CAAC,CAAC,CAExBF,SAAS,CAAC,IAAM,CACZO,YAAY,CAACa,EAAE,CAAC,CAChBjB,eAAe,CAAC,CAAC,CACjBK,sBAAsB,CAAC,CAAC,CAC5B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAa,UAAU,CAAGJ,QAAQ,EAAIA,QAAQ,CAACK,MAAM,GAAK,CAAC,EAAIL,QAAQ,CAACM,GAAG,CAACC,OAAO,GAAK,CAC7EC,IAAI,CAAED,OAAO,CAACE,UAAU,CAACD,IAAI,CAC7BE,KAAK,CAAEH,OAAO,CAACE,UAAU,CAACC,KAAK,CAC/BC,YAAY,CAAE,CACVC,KAAK,CAAEL,OAAO,CAACE,UAAU,CAACE,YAAY,CACtCE,KAAK,CAAEN,OAAO,CAACE,UAAU,CAACK,cAC9B,CAAC,CACDC,mBAAmB,CAAE,CACjBH,KAAK,CAAEL,OAAO,CAACE,UAAU,CAACM,mBAAmB,CAC7CF,KAAK,CAAEN,OAAO,CAACE,UAAU,CAACO,qBAC9B,CAAC,CACDC,MAAM,CAAEV,OAAO,CAACE,UAAU,CAACQ,MAAM,CACjCC,OAAO,CAAEX,OAAO,CAACE,UAAU,CAACS,OAAO,CACnCf,EAAE,CAAEI,OAAO,CAACJ,EAChB,CAAC,CAAC,CAAC,CAEH,mBACIN,KAAA,CAACT,YAAY,EAAA+B,QAAA,eACTxB,IAAA,CAACF,cAAc,GAAC,CAAC,cACjBE,IAAA,CAACR,WAAW,EAACuB,KAAK,CAAElB,mBAAmB,CAAC,oBAAoB,CAAE,CAAC4B,EAAE,CAAC,eAAe,CAAC,CAAC,CAClFpB,QAAQ,CAACK,MAAM,GAAK,CAAC,eAAIV,IAAA,CAACN,WAAW,EAACgC,aAAa,CAAEjB,UAAW,CAACD,EAAE,CAAEA,EAAG,CAACF,UAAU,CAAEA,UAAW,CAC1DC,iBAAiB,CAAEA,iBAAkB,CAAC,CAAC,EACpE,CAAC,CAEvB,CAAC,CAED,KAAM,CAAAoB,eAAe,CAAIC,KAAK,EAAK,CAC/B,KAAM,CAACvB,QAAQ,CAAEC,UAAU,CAAEC,iBAAiB,CAAC,CAAGqB,KAAK,CACvD,MAAO,CAACvB,QAAQ,CAAEC,UAAU,CAAEC,iBAAiB,CAAC,CACpD,CAAC,CAED,cAAe,CAAAlB,OAAO,CAACsC,eAAe,CAAE,CAAChC,YAAY,CAAEJ,eAAe,CAAEK,sBAAsB,CAAC,CAAC,CAACO,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}