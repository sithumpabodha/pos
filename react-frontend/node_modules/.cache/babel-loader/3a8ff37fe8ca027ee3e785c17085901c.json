{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{connect}from'react-redux';import Form from'react-bootstrap/Form';import{getFormattedMessage,placeholderText}from'../../shared/sharedMethod';import ModelFooter from'../../shared/components/modelFooter';import'react-quill/dist/quill.snow.css';import{UpdateSmsTemplate}from\"../../store/action/smsTemplatesAction\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const SmsTemplateForm=props=>{const{id,singleSMSTemplate,UpdateSmsTemplate}=props;const navigate=useNavigate();const[smsTemplateValue,setsmsTemplateValue]=useState({name:singleSMSTemplate?singleSMSTemplate[0].name:'',content:singleSMSTemplate?singleSMSTemplate[0].content:''});const[errors,setErrors]=useState({name:'',content:\"\"});const disabled=singleSMSTemplate&&singleSMSTemplate[0].content===smsTemplateValue.content;const handleValidation=()=>{let errorss={};let isValid=false;if(!smsTemplateValue['name']){errorss['name']=getFormattedMessage('globally.input.name.validate.label');}else if(!smsTemplateValue['content']){errorss['content']=getFormattedMessage(\"sms-content.error.message\");}else if(smsTemplateValue['content'].trim().length>=300){errorss['content']=getFormattedMessage(\"sms-content-text.error.message\");}else{isValid=true;}setErrors(errorss);return isValid;};const onChangeInput=e=>{e.preventDefault();setsmsTemplateValue(inputs=>({...inputs,[e.target.name]:e.target.value}));setErrors('');};const onSubmit=event=>{event.preventDefault();const valid=handleValidation();if(singleSMSTemplate&&valid){if(!disabled){UpdateSmsTemplate(id,smsTemplateValue,navigate);}}};return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage('globally.input.name.label'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"required\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",readOnly:true,placeholder:placeholderText('globally.input.name.placeholder.label'),className:\"form-control disabled\",autoFocus:true,onChange:e=>onChangeInput(e),value:smsTemplateValue.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors['name']?errors['name']:null}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage('globally.input.content.label'),\": \"]}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"content\",rows:\"5\",placeholder:placeholderText('globally.input.content.label'),className:\"form-control\",onChange:e=>onChangeInput(e),value:smsTemplateValue.content}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors['content']?errors['content']:null})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3 \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"email-template-padding\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label text-decoration-underline\",children:[getFormattedMessage('sms-content-variables.title'),\": \"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-gray-600\",children:[/*#__PURE__*/_jsx(\"li\",{children:`{customer_name}`}),/*#__PURE__*/_jsx(\"li\",{children:`{sales_id}`}),/*#__PURE__*/_jsx(\"li\",{children:`{sales_date}`}),/*#__PURE__*/_jsx(\"li\",{children:`{sales_amount}`}),/*#__PURE__*/_jsx(\"li\",{children:`{paid_amount}`}),/*#__PURE__*/_jsx(\"li\",{children:`{due_amount}`})]})]})}),/*#__PURE__*/_jsx(ModelFooter,{onEditRecord:singleSMSTemplate,onSubmit:onSubmit,editDisabled:disabled,link:\"/app/sms-templates\",addDisabled:!smsTemplateValue.name})]})})})});};export default connect(null,{UpdateSmsTemplate})(SmsTemplateForm);","map":{"version":3,"names":["React","useState","useNavigate","connect","Form","getFormattedMessage","placeholderText","ModelFooter","UpdateSmsTemplate","jsxs","_jsxs","jsx","_jsx","SmsTemplateForm","props","id","singleSMSTemplate","navigate","smsTemplateValue","setsmsTemplateValue","name","content","errors","setErrors","disabled","handleValidation","errorss","isValid","trim","length","onChangeInput","e","preventDefault","inputs","target","value","onSubmit","event","valid","className","children","type","readOnly","placeholder","autoFocus","onChange","rows","onEditRecord","editDisabled","link","addDisabled"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/sms-templates/SmsTemplateForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Form from 'react-bootstrap/Form';\nimport { getFormattedMessage, placeholderText } from '../../shared/sharedMethod';\nimport ModelFooter from '../../shared/components/modelFooter';\nimport 'react-quill/dist/quill.snow.css';\nimport { UpdateSmsTemplate } from \"../../store/action/smsTemplatesAction\";\n\nconst SmsTemplateForm = ( props ) => {\n    const { id, singleSMSTemplate, UpdateSmsTemplate } = props;\n    const navigate = useNavigate();\n\n    const [ smsTemplateValue, setsmsTemplateValue ] = useState( {\n        name: singleSMSTemplate ? singleSMSTemplate[ 0 ].name : '',\n        content: singleSMSTemplate ? singleSMSTemplate[ 0 ].content : ''\n    } );\n\n    const [ errors, setErrors ] = useState( {\n        name: '',\n        content: \"\"\n    } );\n\n    const disabled = singleSMSTemplate && singleSMSTemplate[ 0 ].content === smsTemplateValue.content\n\n    const handleValidation = () => {\n        let errorss = {};\n        let isValid = false;\n        if ( !smsTemplateValue[ 'name' ] ) {\n            errorss[ 'name' ] = getFormattedMessage( 'globally.input.name.validate.label' );\n        } else if ( !smsTemplateValue[ 'content' ] ) {\n            errorss[ 'content' ] = getFormattedMessage( \"sms-content.error.message\" );\n        } else if ( smsTemplateValue[ 'content' ].trim().length >= 300 ) {\n            errorss[ 'content' ] = getFormattedMessage( \"sms-content-text.error.message\" );\n        } else {\n            isValid = true;\n        }\n        setErrors( errorss );\n        return isValid;\n    };\n\n    const onChangeInput = ( e ) => {\n        e.preventDefault();\n        setsmsTemplateValue( inputs => ( { ...inputs, [ e.target.name ]: e.target.value } ) )\n        setErrors( '' );\n    };\n\n    const onSubmit = ( event ) => {\n        event.preventDefault();\n        const valid = handleValidation();\n        if ( singleSMSTemplate && valid ) {\n            if ( !disabled ) {\n                UpdateSmsTemplate( id, smsTemplateValue, navigate );\n            }\n        }\n    };\n\n    return (\n        <div className='card'>\n            <div className='card-body'>\n                <Form>\n                    <div className='row'>\n                        <div className='col-md-6 mb-3'>\n                            <label className='form-label'>\n                                {getFormattedMessage( 'globally.input.name.label' )}:\n                            </label>\n                            <span className='required' />\n                            <input type='text' name='name'\n                                readOnly={true}\n                                placeholder={placeholderText( 'globally.input.name.placeholder.label' )}\n                                className='form-control disabled' autoFocus={true}\n                                onChange={( e ) => onChangeInput( e )}\n                                value={smsTemplateValue.name} />\n                            <span\n                                className='text-danger d-block fw-400 fs-small mt-2'>{errors[ 'name' ] ? errors[ 'name' ] : null}</span>\n\n                            <label className='form-label'>{getFormattedMessage( 'globally.input.content.label' )}: </label>\n                            <textarea type='text' name='content' rows=\"5\"\n                                placeholder={placeholderText( 'globally.input.content.label' )}\n                                className='form-control'\n                                onChange={( e ) => onChangeInput( e )}\n                                value={smsTemplateValue.content} />\n                            <span\n                                className='text-danger d-block fw-400 fs-small mt-2'>{errors[ 'content' ] ? errors[ 'content' ] : null}</span>\n\n                        </div>\n                        <div className='col-md-6 mb-3 '>\n                            <div className=\"email-template-padding\">\n                                <label\n                                    className='form-label text-decoration-underline'>{getFormattedMessage( 'sms-content-variables.title' )}\n                                    : </label>\n                                {/*<textarea name='content' className='form-control' rows='3'*/}\n                                {/*          placeholder={placeholderText('globally.input.content.label')}*/}\n                                {/*          onChange={(e) => onChangeInput(e)}*/}\n                                {/*          value={smsTemplateValue.content || ''}/>*/}\n                                <ul className=\"text-gray-600\">\n                                    <li>\n                                        {`{customer_name}`}\n                                    </li>\n                                    <li>\n                                        {`{sales_id}`}\n                                    </li>\n                                    <li>\n                                        {`{sales_date}`}\n                                    </li>\n                                    <li>\n                                        {`{sales_amount}`}\n                                    </li>\n                                    <li>\n                                        {`{paid_amount}`}\n                                    </li>\n                                    <li>\n                                        {`{due_amount}`}\n                                    </li>\n                                </ul>\n                            </div>\n                            {/* <span\n                                className='text-danger d-block fw-400 fs-small mt-2'>{errors['content'] ? errors['content'] : null}</span> */}\n                        </div>\n                        <ModelFooter onEditRecord={singleSMSTemplate} onSubmit={onSubmit} editDisabled={disabled}\n                            link='/app/sms-templates' addDisabled={!smsTemplateValue.name} />\n                    </div>\n                </Form>\n            </div>\n        </div>\n    )\n};\n\nexport default connect( null, { UpdateSmsTemplate } )( SmsTemplateForm );\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}