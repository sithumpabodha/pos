{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{InputGroup}from\"react-bootstrap-v5\";import moment from\"moment\";import{connect,useDispatch}from\"react-redux\";import{fetchProductsByWarehouse}from\"../../store/action/productAction\";import ProductRowTable from\"../../shared/components/sales/ProductRowTable\";import{decimalValidate,getFormattedMessage,placeholderText,onFocusInput,getFormattedOptions}from\"../../shared/sharedMethod\";import ReactDatePicker from\"../../shared/datepicker/ReactDatePicker\";import ProductMainCalculation from\"../../components/sales/ProductMainCalculation\";import{calculateCartTotalAmount,calculateCartTotalTaxAmount}from\"../../shared/calculation/calculation\";import{prepareSaleProductArray}from\"../../shared/prepareArray/prepareSaleArray\";import ModelFooter from\"../../shared/components/modelFooter\";import{editSaleReturn}from\"../../store/action/salesReturnAction\";import{fetchFrontSetting}from\"../../store/action/frontSettingAction\";import{addToast}from\"../../store/action/toastAction\";import{toastType}from\"../../constants\";import{saleReturnStatusOptions}from\"../../constants\";import ReactSelect from\"../../shared/select/reactSelect\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const SaleReturnForm=props=>{const{addSaleData,editSaleReturn,id,singleSale,fetchProductsByWarehouse,fetchFrontSetting,frontSetting,allConfigData,isEdit}=props;const navigate=useNavigate();const dispatch=useDispatch();const[updateProducts,setUpdateProducts]=useState([]);const[quantity,setQuantity]=useState(1);const[newCost,setNewCost]=useState(\"\");const[newDiscount,setNewDiscount]=useState(\"\");const[newTax,setNewTax]=useState(\"\");const[subTotal,setSubTotal]=useState(\"\");const[newSaleUnit,setNewSaleUnit]=useState(\"\");const[saleReturnValue,setSaleReturnValue]=useState({date:new Date(),customer_id:\"\",warehouse_id:\"\",tax_rate:\"0.00\",tax_amount:\"0.00\",discount:\"0.00\",shipping:\"0.00\",grand_total:0.0,notes:\"\",received_amount:0,payment_type:1,paid_amount:0,status:\"\",sale_reference:\"\"});const[errors,setErrors]=useState({date:\"\",customer_id:\"\",warehouse_id:\"\",status:\"\"});useEffect(()=>{setUpdateProducts(updateProducts);},[updateProducts,quantity,newCost,newDiscount,newTax,subTotal,newSaleUnit]);useEffect(()=>{updateProducts.length>=1?dispatch({type:\"DISABLE_OPTION\",payload:true}):dispatch({type:\"DISABLE_OPTION\",payload:false});},[updateProducts]);useEffect(()=>{if(singleSale){setSaleReturnValue({date:singleSale?moment(singleSale.date).toDate():\"\",customer_id:singleSale?singleSale.customer_id:\"\",warehouse_id:singleSale?singleSale.warehouse_id:\"\",tax_rate:singleSale?singleSale.tax_rate.toFixed(2):\"0.00\",tax_amount:singleSale?singleSale.tax_amount.toFixed(2):\"0.00\",discount:singleSale?singleSale.discount.toFixed(2):\"0.00\",shipping:singleSale?singleSale.shipping.toFixed(2):\"0.00\",grand_total:Number(singleSale?singleSale.grand_total:\"0.00\"),status:singleSale?singleSale.status_id===1?{label:getFormattedMessage(\"status.filter.received.label\"),value:1}:{label:getFormattedMessage(\"status.filter.pending.label\"),value:2}:\"\",notes:singleSale?singleSale.note===null?\"\":singleSale.note:\"\",sale_id:singleSale?singleSale.sale_id:\"\",sale_reference:singleSale?singleSale.sale_reference:\"\"});}},[singleSale]);useEffect(()=>{fetchFrontSetting();},[]);useEffect(()=>{if(singleSale){setUpdateProducts(singleSale.sale_items);}},[]);useEffect(()=>{var _saleReturnValue$ware;saleReturnValue.warehouse_id.value&&fetchProductsByWarehouse(saleReturnValue===null||saleReturnValue===void 0?void 0:(_saleReturnValue$ware=saleReturnValue.warehouse_id)===null||_saleReturnValue$ware===void 0?void 0:_saleReturnValue$ware.value);},[saleReturnValue.warehouse_id.value]);const handleValidation=()=>{let error={};let isValid=false;const qtyCart=updateProducts.filter(a=>a.quantity===0);if(!saleReturnValue.date){error[\"date\"]=getFormattedMessage(\"globally.date.validate.label\");}else if(!saleReturnValue.warehouse_id){error[\"warehouse_id\"]=getFormattedMessage(\"product.input.warehouse.validate.label\");}else if(!saleReturnValue.customer_id){error[\"customer_id\"]=getFormattedMessage(\"sale.select.customer.validate.label\");}else if(qtyCart.length>0){dispatch(addToast({text:getFormattedMessage(\"globally.product-quantity.validate.message\"),type:toastType.ERROR}));}else if(updateProducts.length<1){dispatch(addToast({text:getFormattedMessage(\"purchase.product-list.validate.message\"),type:toastType.ERROR}));}else if(!saleReturnValue.status){error[\"status\"]=getFormattedMessage(\"globally.status.validate.label\");}else{isValid=true;}setErrors(error);return isValid;};const updatedQty=qty=>{setQuantity(qty);};const updateCost=cost=>{setNewCost(cost);};const updateDiscount=discount=>{setNewDiscount(discount);};const updateTax=tax=>{setNewTax(tax);};const updateSubTotal=subTotal=>{setSubTotal(subTotal);};const updateSaleUnit=saleUnit=>{setNewSaleUnit(saleUnit);};const handleCallback=date=>{setSaleReturnValue(previousState=>{return{...previousState,date:date};});setErrors(\"\");};const onChangeInput=e=>{e.preventDefault();const{value}=e.target;// check if value includes a decimal point\nif(value.match(/\\./g)){const[,decimal]=value.split(\".\");// restrict value to only 2 decimal places\nif((decimal===null||decimal===void 0?void 0:decimal.length)>2){// do nothing\nreturn;}}setSaleReturnValue(inputs=>({...inputs,[e.target.name]:value&&value}));};const onStatusChange=obj=>{setSaleReturnValue(inputs=>({...inputs,status:obj}));};const prepareFormData=prepareData=>{const formValue={date:moment(prepareData.date).toDate(),customer_id:prepareData.customer_id.value?prepareData.customer_id.value:prepareData.customer_id,warehouse_id:prepareData.warehouse_id.value?prepareData.warehouse_id.value:prepareData.warehouse_id,discount:prepareData.discount,tax_rate:prepareData.tax_rate,tax_amount:calculateCartTotalTaxAmount(updateProducts,saleReturnValue),sale_return_items:updateProducts,shipping:prepareData.shipping,grand_total:Number(calculateCartTotalAmount(updateProducts,saleReturnValue)),received_amount:0,payment_type:0,paid_amount:0,status:prepareData.status.value,note:prepareData.notes,sale_id:prepareData.sale_id,sale_reference:prepareData.sale_reference};return formValue;};const onSubmit=event=>{event.preventDefault();const valid=handleValidation();if(valid){if(singleSale.isCreateSaleReturn){addSaleData(prepareFormData(saleReturnValue),navigate);}else{editSaleReturn(id,prepareFormData(saleReturnValue),navigate);setSaleReturnValue(saleReturnValue);}}};const onNotesChangeInput=e=>{e.preventDefault();setSaleReturnValue(inputs=>({...inputs,notes:e.target.value}));};const onBlurInput=el=>{if(el.target.value===\"\"){if(el.target.name===\"shipping\"){setSaleReturnValue({...saleReturnValue,shipping:\"0.00\"});}if(el.target.name===\"discount\"){setSaleReturnValue({...saleReturnValue,discount:\"0.00\"});}if(el.target.name===\"tax_rate\"){setSaleReturnValue({...saleReturnValue,tax_rate:\"0.00\"});}}};const saleReturnStatusFilterOptions=getFormattedOptions(saleReturnStatusOptions);const saleReturnStatusDefaultValue=saleReturnStatusFilterOptions.map(option=>{return{value:option.id,label:option.name};});return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage(\"react-data-table.date.column.label\"),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"required\"}),/*#__PURE__*/_jsx(\"div\",{className:\"position-relative\",children:/*#__PURE__*/_jsx(ReactDatePicker,{onChangeDate:handleCallback,newStartDate:saleReturnValue.date})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors[\"date\"]?errors[\"date\"]:null})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-5\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Sale Reference\"}),/*#__PURE__*/_jsx(\"span\",{className:\"required\"}),/*#__PURE__*/_jsx(\"input\",{type:\"type\",name:\"title\",className:\"form-control\"// onChange={(e) => onChangeInput(e)}\n,readOnly:true,value:saleReturnValue.sale_reference}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors[\"title\"]?errors[\"title\"]:null})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-5\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage(\"purchase.select.status.label\"),\":\",\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"required\"}),/*#__PURE__*/_jsx(ReactSelect,{multiLanguageOption:saleReturnStatusFilterOptions,name:\"status\",value:saleReturnValue.status,isRequired:true,placeholder:placeholderText(\"purchase.select.status.placeholder.label\"),defaultValue:saleReturnStatusDefaultValue[0],onChange:onStatusChange}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors[\"status\"]?errors[\"status\"]:null})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-5\",children:/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:getFormattedMessage(\"product-list.lable\")})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage(\"purchase.order-item.table.label\"),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"required\"}),/*#__PURE__*/_jsx(ProductRowTable,{updateProducts:updateProducts,setUpdateProducts:setUpdateProducts,updatedQty:updatedQty,frontSetting:frontSetting,isSaleReturn:true,updateCost:updateCost,updateDiscount:updateDiscount,updateTax:updateTax,updateSubTotal:updateSubTotal,updateSaleUnit:updateSaleUnit})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(ProductMainCalculation,{inputValues:saleReturnValue,updateProducts:updateProducts,frontSetting:frontSetting,allConfigData:allConfigData})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-5\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage(\"purchase.input.order-tax.label\"),\":\",\" \"]}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"Dollar amount (with dot and two decimal places)\",className:\"form-control\",type:\"text\",name:\"tax_rate\",value:saleReturnValue.tax_rate,onBlur:event=>onBlurInput(event),onFocus:event=>onFocusInput(event),onKeyPress:event=>{decimalValidate(event);},onChange:e=>{onChangeInput(e);}}),/*#__PURE__*/_jsx(InputGroup.Text,{children:\"%\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-5\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage(\"purchase.order-item.table.discount.column.label\"),\":\",\" \"]}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"Dollar amount (with dot and two decimal places)\",className:\"form-control\",type:\"text\",name:\"discount\",value:saleReturnValue.discount,onBlur:event=>onBlurInput(event),onFocus:event=>onFocusInput(event),onKeyPress:event=>decimalValidate(event),onChange:e=>onChangeInput(e)}),/*#__PURE__*/_jsx(InputGroup.Text,{children:frontSetting.value&&frontSetting.value.currency_symbol})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-5\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage(\"purchase.input.shipping.label\"),\":\",\" \"]}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"Dollar amount (with dot and two decimal places)\",className:\"form-control\",type:\"text\",name:\"shipping\",value:saleReturnValue.shipping,onBlur:event=>onBlurInput(event),onFocus:event=>onFocusInput(event),onKeyPress:event=>decimalValidate(event),onChange:e=>onChangeInput(e)}),/*#__PURE__*/_jsx(InputGroup.Text,{children:frontSetting.value&&frontSetting.value.currency_symbol})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage(\"globally.input.notes.label\"),\":\",\" \"]}),/*#__PURE__*/_jsx(\"textarea\",{name:\"notes\",className:\"form-control\",onChange:e=>onNotesChangeInput(e),value:saleReturnValue.notes,placeholder:placeholderText(\"globally.input.notes.placeholder.label\")})]}),/*#__PURE__*/_jsx(ModelFooter,{onEditRecord:singleSale,onSubmit:onSubmit,link:(singleSale===null||singleSale===void 0?void 0:singleSale.isCreateSaleReturn)===true||isEdit===true?\"/app/sales\":\"/app/sale-return\"})]})})});};const mapStateToProps=state=>{const{purchaseProducts,products,frontSetting,allConfigData}=state;return{customProducts:prepareSaleProductArray(products),purchaseProducts,products,frontSetting,allConfigData};};export default connect(mapStateToProps,{editSaleReturn,fetchProductsByWarehouse,fetchFrontSetting})(SaleReturnForm);","map":{"version":3,"names":["React","useEffect","useState","useNavigate","InputGroup","moment","connect","useDispatch","fetchProductsByWarehouse","ProductRowTable","decimalValidate","getFormattedMessage","placeholderText","onFocusInput","getFormattedOptions","ReactDatePicker","ProductMainCalculation","calculateCartTotalAmount","calculateCartTotalTaxAmount","prepareSaleProductArray","ModelFooter","editSaleReturn","fetchFrontSetting","addToast","toastType","saleReturnStatusOptions","ReactSelect","jsxs","_jsxs","jsx","_jsx","SaleReturnForm","props","addSaleData","id","singleSale","frontSetting","allConfigData","isEdit","navigate","dispatch","updateProducts","setUpdateProducts","quantity","setQuantity","newCost","setNewCost","newDiscount","setNewDiscount","newTax","setNewTax","subTotal","setSubTotal","newSaleUnit","setNewSaleUnit","saleReturnValue","setSaleReturnValue","date","Date","customer_id","warehouse_id","tax_rate","tax_amount","discount","shipping","grand_total","notes","received_amount","payment_type","paid_amount","status","sale_reference","errors","setErrors","length","type","payload","toDate","toFixed","Number","status_id","label","value","note","sale_id","sale_items","_saleReturnValue$ware","handleValidation","error","isValid","qtyCart","filter","a","text","ERROR","updatedQty","qty","updateCost","cost","updateDiscount","updateTax","tax","updateSubTotal","updateSaleUnit","saleUnit","handleCallback","previousState","onChangeInput","e","preventDefault","target","match","decimal","split","inputs","name","onStatusChange","obj","prepareFormData","prepareData","formValue","sale_return_items","onSubmit","event","valid","isCreateSaleReturn","onNotesChangeInput","onBlurInput","el","saleReturnStatusFilterOptions","saleReturnStatusDefaultValue","map","option","className","children","onChangeDate","newStartDate","readOnly","multiLanguageOption","isRequired","placeholder","defaultValue","onChange","isSaleReturn","inputValues","onBlur","onFocus","onKeyPress","Text","currency_symbol","onEditRecord","link","mapStateToProps","state","purchaseProducts","products","customProducts"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/saleReturn/SaleReturnForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { InputGroup } from \"react-bootstrap-v5\";\nimport moment from \"moment\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { fetchProductsByWarehouse } from \"../../store/action/productAction\";\nimport ProductRowTable from \"../../shared/components/sales/ProductRowTable\";\nimport {\n    decimalValidate,\n    getFormattedMessage,\n    placeholderText,\n    onFocusInput,\n    getFormattedOptions,\n} from \"../../shared/sharedMethod\";\nimport ReactDatePicker from \"../../shared/datepicker/ReactDatePicker\";\nimport ProductMainCalculation from \"../../components/sales/ProductMainCalculation\";\nimport {\n    calculateCartTotalAmount,\n    calculateCartTotalTaxAmount,\n} from \"../../shared/calculation/calculation\";\nimport { prepareSaleProductArray } from \"../../shared/prepareArray/prepareSaleArray\";\nimport ModelFooter from \"../../shared/components/modelFooter\";\nimport { editSaleReturn } from \"../../store/action/salesReturnAction\";\nimport { fetchFrontSetting } from \"../../store/action/frontSettingAction\";\nimport { addToast } from \"../../store/action/toastAction\";\nimport { toastType } from \"../../constants\";\nimport { saleReturnStatusOptions } from \"../../constants\";\nimport ReactSelect from \"../../shared/select/reactSelect\";\n\nconst SaleReturnForm = (props) => {\n    const {\n        addSaleData,\n        editSaleReturn,\n        id,\n        singleSale,\n        fetchProductsByWarehouse,\n        fetchFrontSetting,\n        frontSetting,\n        allConfigData,\n        isEdit,\n    } = props;\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const [updateProducts, setUpdateProducts] = useState([]);\n    const [quantity, setQuantity] = useState(1);\n    const [newCost, setNewCost] = useState(\"\");\n    const [newDiscount, setNewDiscount] = useState(\"\");\n    const [newTax, setNewTax] = useState(\"\");\n    const [subTotal, setSubTotal] = useState(\"\");\n    const [newSaleUnit, setNewSaleUnit] = useState(\"\");\n\n    const [saleReturnValue, setSaleReturnValue] = useState({\n        date: new Date(),\n        customer_id: \"\",\n        warehouse_id: \"\",\n        tax_rate: \"0.00\",\n        tax_amount: \"0.00\",\n        discount: \"0.00\",\n        shipping: \"0.00\",\n        grand_total: 0.0,\n        notes: \"\",\n        received_amount: 0,\n        payment_type: 1,\n        paid_amount: 0,\n        status: \"\",\n        sale_reference: \"\",\n    });\n    const [errors, setErrors] = useState({\n        date: \"\",\n        customer_id: \"\",\n        warehouse_id: \"\",\n        status: \"\",\n    });\n\n    useEffect(() => {\n        setUpdateProducts(updateProducts);\n    }, [\n        updateProducts,\n        quantity,\n        newCost,\n        newDiscount,\n        newTax,\n        subTotal,\n        newSaleUnit,\n    ]);\n\n    useEffect(() => {\n        updateProducts.length >= 1\n            ? dispatch({ type: \"DISABLE_OPTION\", payload: true })\n            : dispatch({ type: \"DISABLE_OPTION\", payload: false });\n    }, [updateProducts]);\n\n    useEffect(() => {\n        if (singleSale) {\n            setSaleReturnValue({\n                date: singleSale ? moment(singleSale.date).toDate() : \"\",\n                customer_id: singleSale ? singleSale.customer_id : \"\",\n                warehouse_id: singleSale ? singleSale.warehouse_id : \"\",\n                tax_rate: singleSale ? singleSale.tax_rate.toFixed(2) : \"0.00\",\n                tax_amount: singleSale\n                    ? singleSale.tax_amount.toFixed(2)\n                    : \"0.00\",\n                discount: singleSale ? singleSale.discount.toFixed(2) : \"0.00\",\n                shipping: singleSale ? singleSale.shipping.toFixed(2) : \"0.00\",\n                grand_total: Number(\n                    singleSale ? singleSale.grand_total : \"0.00\"\n                ),\n                status: singleSale\n                    ? singleSale.status_id === 1\n                        ? {\n                              label: getFormattedMessage(\n                                  \"status.filter.received.label\"\n                              ),\n                              value: 1,\n                          }\n                        : {\n                              label: getFormattedMessage(\n                                  \"status.filter.pending.label\"\n                              ),\n                              value: 2,\n                          }\n                    : \"\",\n                notes: singleSale\n                    ? singleSale.note === null\n                        ? \"\"\n                        : singleSale.note\n                    : \"\",\n                sale_id: singleSale ? singleSale.sale_id : \"\",\n                sale_reference: singleSale ? singleSale.sale_reference : \"\",\n            });\n        }\n    }, [singleSale]);\n\n    useEffect(() => {\n        fetchFrontSetting();\n    }, []);\n\n    useEffect(() => {\n        if (singleSale) {\n            setUpdateProducts(singleSale.sale_items);\n        }\n    }, []);\n\n    useEffect(() => {\n        saleReturnValue.warehouse_id.value &&\n            fetchProductsByWarehouse(saleReturnValue?.warehouse_id?.value);\n    }, [saleReturnValue.warehouse_id.value]);\n\n    const handleValidation = () => {\n        let error = {};\n        let isValid = false;\n        const qtyCart = updateProducts.filter((a) => a.quantity === 0);\n\n        if (!saleReturnValue.date) {\n            error[\"date\"] = getFormattedMessage(\"globally.date.validate.label\");\n        } else if (!saleReturnValue.warehouse_id) {\n            error[\"warehouse_id\"] = getFormattedMessage(\n                \"product.input.warehouse.validate.label\"\n            );\n        } else if (!saleReturnValue.customer_id) {\n            error[\"customer_id\"] = getFormattedMessage(\n                \"sale.select.customer.validate.label\"\n            );\n        } else if (qtyCart.length > 0) {\n            dispatch(\n                addToast({\n                    text: getFormattedMessage(\n                        \"globally.product-quantity.validate.message\"\n                    ),\n                    type: toastType.ERROR,\n                })\n            );\n        } else if (updateProducts.length < 1) {\n            dispatch(\n                addToast({\n                    text: getFormattedMessage(\n                        \"purchase.product-list.validate.message\"\n                    ),\n                    type: toastType.ERROR,\n                })\n            );\n        } else if (!saleReturnValue.status) {\n            error[\"status\"] = getFormattedMessage(\n                \"globally.status.validate.label\"\n            );\n        } else {\n            isValid = true;\n        }\n        setErrors(error);\n        return isValid;\n    };\n\n    const updatedQty = (qty) => {\n        setQuantity(qty);\n    };\n\n    const updateCost = (cost) => {\n        setNewCost(cost);\n    };\n\n    const updateDiscount = (discount) => {\n        setNewDiscount(discount);\n    };\n\n    const updateTax = (tax) => {\n        setNewTax(tax);\n    };\n\n    const updateSubTotal = (subTotal) => {\n        setSubTotal(subTotal);\n    };\n\n    const updateSaleUnit = (saleUnit) => {\n        setNewSaleUnit(saleUnit);\n    };\n\n    const handleCallback = (date) => {\n        setSaleReturnValue((previousState) => {\n            return { ...previousState, date: date };\n        });\n        setErrors(\"\");\n    };\n\n    const onChangeInput = (e) => {\n        e.preventDefault();\n        const { value } = e.target;\n        // check if value includes a decimal point\n        if (value.match(/\\./g)) {\n            const [, decimal] = value.split(\".\");\n            // restrict value to only 2 decimal places\n            if (decimal?.length > 2) {\n                // do nothing\n                return;\n            }\n        }\n        setSaleReturnValue((inputs) => ({\n            ...inputs,\n            [e.target.name]: value && value,\n        }));\n    };\n\n    const onStatusChange = (obj) => {\n        setSaleReturnValue((inputs) => ({ ...inputs, status: obj }));\n    };\n\n    const prepareFormData = (prepareData) => {\n        const formValue = {\n            date: moment(prepareData.date).toDate(),\n            customer_id: prepareData.customer_id.value\n                ? prepareData.customer_id.value\n                : prepareData.customer_id,\n            warehouse_id: prepareData.warehouse_id.value\n                ? prepareData.warehouse_id.value\n                : prepareData.warehouse_id,\n            discount: prepareData.discount,\n            tax_rate: prepareData.tax_rate,\n            tax_amount: calculateCartTotalTaxAmount(\n                updateProducts,\n                saleReturnValue\n            ),\n            sale_return_items: updateProducts,\n            shipping: prepareData.shipping,\n            grand_total: Number(\n                calculateCartTotalAmount(updateProducts, saleReturnValue)\n            ),\n            received_amount: 0,\n            payment_type: 0,\n            paid_amount: 0,\n            status: prepareData.status.value,\n            note: prepareData.notes,\n            sale_id: prepareData.sale_id,\n            sale_reference: prepareData.sale_reference,\n        };\n        return formValue;\n    };\n\n    const onSubmit = (event) => {\n        event.preventDefault();\n        const valid = handleValidation();\n        if (valid) {\n            if (singleSale.isCreateSaleReturn) {\n                addSaleData(prepareFormData(saleReturnValue), navigate);\n            } else {\n                editSaleReturn(id, prepareFormData(saleReturnValue), navigate);\n                setSaleReturnValue(saleReturnValue);\n            }\n        }\n    };\n\n    const onNotesChangeInput = (e) => {\n        e.preventDefault();\n        setSaleReturnValue((inputs) => ({ ...inputs, notes: e.target.value }));\n    };\n\n    const onBlurInput = (el) => {\n        if (el.target.value === \"\") {\n            if (el.target.name === \"shipping\") {\n                setSaleReturnValue({ ...saleReturnValue, shipping: \"0.00\" });\n            }\n            if (el.target.name === \"discount\") {\n                setSaleReturnValue({ ...saleReturnValue, discount: \"0.00\" });\n            }\n            if (el.target.name === \"tax_rate\") {\n                setSaleReturnValue({ ...saleReturnValue, tax_rate: \"0.00\" });\n            }\n        }\n    };\n\n    const saleReturnStatusFilterOptions = getFormattedOptions(\n        saleReturnStatusOptions\n    );\n    const saleReturnStatusDefaultValue = saleReturnStatusFilterOptions.map(\n        (option) => {\n            return {\n                value: option.id,\n                label: option.name,\n            };\n        }\n    );\n\n    return (\n        <div className=\"card\">\n            <div className=\"card-body\">\n                {/*<Form>*/}\n                <div className=\"row\">\n                    <div className=\"col-md-4\">\n                        <label className=\"form-label\">\n                            {getFormattedMessage(\n                                \"react-data-table.date.column.label\"\n                            )}\n                            :\n                        </label>\n                        <span className=\"required\" />\n                        <div className=\"position-relative\">\n                            <ReactDatePicker\n                                onChangeDate={handleCallback}\n                                newStartDate={saleReturnValue.date}\n                            />\n                        </div>\n                        <span className=\"text-danger d-block fw-400 fs-small mt-2\">\n                            {errors[\"date\"] ? errors[\"date\"] : null}\n                        </span>\n                    </div>\n                    <div className=\"col-md-4 mb-5\">\n                        <label className=\"form-label\">\n                            {/*{getFormattedMessage('expense.input.title.label')}:*/}\n                            Sale Reference\n                        </label>\n                        <span className=\"required\" />\n                        <input\n                            type=\"type\"\n                            name=\"title\"\n                            className=\"form-control\"\n                            // onChange={(e) => onChangeInput(e)}\n                            readOnly={true}\n                            value={saleReturnValue.sale_reference}\n                        />\n                        <span className=\"text-danger d-block fw-400 fs-small mt-2\">\n                            {errors[\"title\"] ? errors[\"title\"] : null}\n                        </span>\n                    </div>\n                    <div className=\"col-md-4 mb-5\">\n                        <label className=\"form-label\">\n                            {getFormattedMessage(\n                                \"purchase.select.status.label\"\n                            )}\n                            :{\" \"}\n                        </label>\n                        <span className=\"required\" />\n                        <ReactSelect\n                            multiLanguageOption={saleReturnStatusFilterOptions}\n                            name=\"status\"\n                            value={saleReturnValue.status}\n                            isRequired\n                            placeholder={placeholderText(\n                                \"purchase.select.status.placeholder.label\"\n                            )}\n                            defaultValue={saleReturnStatusDefaultValue[0]}\n                            onChange={onStatusChange}\n                        />\n                        <span className=\"text-danger d-block fw-400 fs-small mt-2\">\n                            {errors[\"status\"] ? errors[\"status\"] : null}\n                        </span>\n                    </div>\n                    <div className=\"mb-5\">\n                        <label className=\"form-label\">\n                            {/*{getFormattedMessage('product.title')}:*/}\n                            {getFormattedMessage(\"product-list.lable\")}\n                        </label>\n                        {/* <span className='required'/> */}\n                        {/*<ProductSearch values={saleReturnValue} products={products}*/}\n                        {/*               handleValidation={handleValidation}*/}\n                        {/*               updateProducts={updateProducts}*/}\n                        {/*               setUpdateProducts={setUpdateProducts} customProducts={customProducts}/>*/}\n                    </div>\n                    <div>\n                        <label className=\"form-label\">\n                            {getFormattedMessage(\n                                \"purchase.order-item.table.label\"\n                            )}\n                            :\n                        </label>\n                        <span className=\"required\" />\n                        <ProductRowTable\n                            updateProducts={updateProducts}\n                            setUpdateProducts={setUpdateProducts}\n                            updatedQty={updatedQty}\n                            frontSetting={frontSetting}\n                            isSaleReturn={true}\n                            updateCost={updateCost}\n                            updateDiscount={updateDiscount}\n                            updateTax={updateTax}\n                            updateSubTotal={updateSubTotal}\n                            updateSaleUnit={updateSaleUnit}\n                        />\n                    </div>\n                    <div className=\"col-12\">\n                        <ProductMainCalculation\n                            inputValues={saleReturnValue}\n                            updateProducts={updateProducts}\n                            frontSetting={frontSetting}\n                            allConfigData={allConfigData}\n                        />\n                    </div>\n                    <div className=\"col-md-4 mb-5\">\n                        <label className=\"form-label\">\n                            {getFormattedMessage(\n                                \"purchase.input.order-tax.label\"\n                            )}\n                            :{\" \"}\n                        </label>\n                        <InputGroup>\n                            <input\n                                aria-label=\"Dollar amount (with dot and two decimal places)\"\n                                className=\"form-control\"\n                                type=\"text\"\n                                name=\"tax_rate\"\n                                value={saleReturnValue.tax_rate}\n                                onBlur={(event) => onBlurInput(event)}\n                                onFocus={(event) => onFocusInput(event)}\n                                onKeyPress={(event) => {\n                                    decimalValidate(event);\n                                }}\n                                onChange={(e) => {\n                                    onChangeInput(e);\n                                }}\n                            />\n                            <InputGroup.Text>%</InputGroup.Text>\n                        </InputGroup>\n                    </div>\n                    <div className=\"col-md-4 mb-5\">\n                        <label className=\"form-label\">\n                            {getFormattedMessage(\n                                \"purchase.order-item.table.discount.column.label\"\n                            )}\n                            :{\" \"}\n                        </label>\n                        <InputGroup>\n                            <input\n                                aria-label=\"Dollar amount (with dot and two decimal places)\"\n                                className=\"form-control\"\n                                type=\"text\"\n                                name=\"discount\"\n                                value={saleReturnValue.discount}\n                                onBlur={(event) => onBlurInput(event)}\n                                onFocus={(event) => onFocusInput(event)}\n                                onKeyPress={(event) => decimalValidate(event)}\n                                onChange={(e) => onChangeInput(e)}\n                            />\n                            <InputGroup.Text>\n                                {frontSetting.value &&\n                                    frontSetting.value.currency_symbol}\n                            </InputGroup.Text>\n                        </InputGroup>\n                    </div>\n                    <div className=\"col-md-4 mb-5\">\n                        <label className=\"form-label\">\n                            {getFormattedMessage(\n                                \"purchase.input.shipping.label\"\n                            )}\n                            :{\" \"}\n                        </label>\n                        <InputGroup>\n                            <input\n                                aria-label=\"Dollar amount (with dot and two decimal places)\"\n                                className=\"form-control\"\n                                type=\"text\"\n                                name=\"shipping\"\n                                value={saleReturnValue.shipping}\n                                onBlur={(event) => onBlurInput(event)}\n                                onFocus={(event) => onFocusInput(event)}\n                                onKeyPress={(event) => decimalValidate(event)}\n                                onChange={(e) => onChangeInput(e)}\n                            />\n                            <InputGroup.Text>\n                                {frontSetting.value &&\n                                    frontSetting.value.currency_symbol}\n                            </InputGroup.Text>\n                        </InputGroup>\n                    </div>\n                    <div className=\"mb-5\">\n                        <label className=\"form-label\">\n                            {getFormattedMessage(\"globally.input.notes.label\")}:{\" \"}\n                        </label>\n                        <textarea\n                            name=\"notes\"\n                            className=\"form-control\"\n                            onChange={(e) => onNotesChangeInput(e)}\n                            value={saleReturnValue.notes}\n                            placeholder={placeholderText(\n                                \"globally.input.notes.placeholder.label\"\n                            )}\n                        />\n                    </div>\n                    <ModelFooter\n                        onEditRecord={singleSale}\n                        onSubmit={onSubmit}\n                        link={\n                            singleSale?.isCreateSaleReturn === true ||\n                            isEdit === true\n                                ? \"/app/sales\"\n                                : \"/app/sale-return\"\n                        }\n                    />\n                </div>\n                {/*</Form>*/}\n            </div>\n        </div>\n    );\n};\n\nconst mapStateToProps = (state) => {\n    const { purchaseProducts, products, frontSetting, allConfigData } = state;\n    return {\n        customProducts: prepareSaleProductArray(products),\n        purchaseProducts,\n        products,\n        frontSetting,\n        allConfigData,\n    };\n};\n\nexport default connect(mapStateToProps, {\n    editSaleReturn,\n    fetchProductsByWarehouse,\n    fetchFrontSetting,\n})(SaleReturnForm);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}