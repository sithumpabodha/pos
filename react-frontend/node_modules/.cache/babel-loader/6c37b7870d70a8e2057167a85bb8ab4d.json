{"ast":null,"code":"import React from\"react\";import{Route,Navigate,Routes}from\"react-router-dom\";//import \"../../pos/src/assets/sass/style.react.scss\";\nimport{Tokens}from\"./constants\";import{ProtectedRoute}from\"./shared/sharedMethod\";import{route}from\"./routes\";import TopProgressBar from\"./shared/components/loaders/TopProgressBar\";import{useSelector}from\"react-redux\";import'./assets/sass/style.react.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AdminApp(props){const{config}=props;const token=localStorage.getItem(Tokens.ADMIN);const{allConfigData}=useSelector(state=>state);const prepareRoutes=config=>{const permissions=config;let filterRoutes=[];route.forEach(route=>{if(permissions&&permissions.indexOf(route.permission)!==-1||route.permission===\"\"){filterRoutes.push(route);}});return filterRoutes;};if(config.length===0&&token!==null){return/*#__PURE__*/_jsx(TopProgressBar,{});}const routes=config&&prepareRoutes(config);return/*#__PURE__*/_jsxs(Routes,{children:[routes.map((route,index)=>{return route.ele?/*#__PURE__*/_jsx(Route,{exact:true,path:route.path,element:token!==null?/*#__PURE__*/_jsx(ProtectedRoute,{allConfigData:allConfigData,route:route.path,children:route.ele}):/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/login\"})},index):null;}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/\"})})]});}export default AdminApp;","map":{"version":3,"names":["React","Route","Navigate","Routes","Tokens","ProtectedRoute","route","TopProgressBar","useSelector","jsx","_jsx","jsxs","_jsxs","AdminApp","props","config","token","localStorage","getItem","ADMIN","allConfigData","state","prepareRoutes","permissions","filterRoutes","forEach","indexOf","permission","push","length","routes","children","map","index","ele","exact","path","element","replace","to"],"sources":["C:/Users/Sithu/Music/react-frontend/src/AdminApp.js"],"sourcesContent":["import React from \"react\";\nimport { Route, Navigate, Routes } from \"react-router-dom\";\n//import \"../../pos/src/assets/sass/style.react.scss\";\nimport { Tokens } from \"./constants\";\nimport { ProtectedRoute } from \"./shared/sharedMethod\";\nimport { route } from \"./routes\";\nimport TopProgressBar from \"./shared/components/loaders/TopProgressBar\";\nimport { useSelector } from \"react-redux\";\nimport './assets/sass/style.react.scss';\n\nfunction AdminApp(props) {\n    const { config } = props;\n    const token = localStorage.getItem(Tokens.ADMIN);\n    const { allConfigData } = useSelector((state) => state);\n\n    const prepareRoutes = (config) => {\n        const permissions = config;\n        let filterRoutes = [];\n        route.forEach((route) => {\n            if (\n                (permissions && permissions.indexOf(route.permission) !== -1) ||\n                route.permission === \"\"\n            ) {\n                filterRoutes.push(route);\n            }\n        });\n        return filterRoutes;\n    };\n\n    if (config.length === 0 && token !== null) {\n        return <TopProgressBar />;\n    }\n\n    const routes = config && prepareRoutes(config);\n\n    return (\n        <Routes>\n            {routes.map((route, index) => {\n                return route.ele ? (\n                    <Route\n                        key={index}\n                        exact={true}\n                        path={route.path}\n                        element={\n                            token !== null ? (\n                                <ProtectedRoute\n                                    allConfigData={allConfigData}\n                                    route={route.path}\n                                >\n                                    {route.ele}\n                                </ProtectedRoute>\n                            ) : (\n                                <Navigate replace to={\"/login\"} />\n                            )\n                        }\n                    />\n                ) : null;\n            })}\n            <Route path=\"*\" element={<Navigate replace to={\"/\"} />} />\n        </Routes>\n    );\n}\n\nexport default AdminApp;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,kBAAkB,CAC1D;AACA,OAASC,MAAM,KAAQ,aAAa,CACpC,OAASC,cAAc,KAAQ,uBAAuB,CACtD,OAASC,KAAK,KAAQ,UAAU,CAChC,MAAO,CAAAC,cAAc,KAAM,4CAA4C,CACvE,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,QAAQA,CAACC,KAAK,CAAE,CACrB,KAAM,CAAEC,MAAO,CAAC,CAAGD,KAAK,CACxB,KAAM,CAAAE,KAAK,CAAGC,YAAY,CAACC,OAAO,CAACd,MAAM,CAACe,KAAK,CAAC,CAChD,KAAM,CAAEC,aAAc,CAAC,CAAGZ,WAAW,CAAEa,KAAK,EAAKA,KAAK,CAAC,CAEvD,KAAM,CAAAC,aAAa,CAAIP,MAAM,EAAK,CAC9B,KAAM,CAAAQ,WAAW,CAAGR,MAAM,CAC1B,GAAI,CAAAS,YAAY,CAAG,EAAE,CACrBlB,KAAK,CAACmB,OAAO,CAAEnB,KAAK,EAAK,CACrB,GACKiB,WAAW,EAAIA,WAAW,CAACG,OAAO,CAACpB,KAAK,CAACqB,UAAU,CAAC,GAAK,CAAC,CAAC,EAC5DrB,KAAK,CAACqB,UAAU,GAAK,EAAE,CACzB,CACEH,YAAY,CAACI,IAAI,CAACtB,KAAK,CAAC,CAC5B,CACJ,CAAC,CAAC,CACF,MAAO,CAAAkB,YAAY,CACvB,CAAC,CAED,GAAIT,MAAM,CAACc,MAAM,GAAK,CAAC,EAAIb,KAAK,GAAK,IAAI,CAAE,CACvC,mBAAON,IAAA,CAACH,cAAc,GAAE,CAAC,CAC7B,CAEA,KAAM,CAAAuB,MAAM,CAAGf,MAAM,EAAIO,aAAa,CAACP,MAAM,CAAC,CAE9C,mBACIH,KAAA,CAACT,MAAM,EAAA4B,QAAA,EACFD,MAAM,CAACE,GAAG,CAAC,CAAC1B,KAAK,CAAE2B,KAAK,GAAK,CAC1B,MAAO,CAAA3B,KAAK,CAAC4B,GAAG,cACZxB,IAAA,CAACT,KAAK,EAEFkC,KAAK,CAAE,IAAK,CACZC,IAAI,CAAE9B,KAAK,CAAC8B,IAAK,CACjBC,OAAO,CACHrB,KAAK,GAAK,IAAI,cACVN,IAAA,CAACL,cAAc,EACXe,aAAa,CAAEA,aAAc,CAC7Bd,KAAK,CAAEA,KAAK,CAAC8B,IAAK,CAAAL,QAAA,CAEjBzB,KAAK,CAAC4B,GAAG,CACE,CAAC,cAEjBxB,IAAA,CAACR,QAAQ,EAACoC,OAAO,MAACC,EAAE,CAAE,QAAS,CAAE,CAExC,EAdIN,KAeR,CAAC,CACF,IAAI,CACZ,CAAC,CAAC,cACFvB,IAAA,CAACT,KAAK,EAACmC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAE3B,IAAA,CAACR,QAAQ,EAACoC,OAAO,MAACC,EAAE,CAAE,GAAI,CAAE,CAAE,CAAE,CAAC,EACtD,CAAC,CAEjB,CAEA,cAAe,CAAA1B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}