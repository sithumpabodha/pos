{"ast":null,"code":"import React,{useEffect,useState}from'react';import{decimalValidate,getFormattedMessage}from'../../shared/sharedMethod';import{useDispatch}from'react-redux';import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTrash}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const PrintTable=props=>{const{setUpdateProducts,updateProducts,printBarcodeValue}=props;const[qty,setQty]=useState(10);const dispatch=useDispatch();const[productId,setProductId]=useState(0);const handleChange=(e,singleProduct)=>{setQty(e.target.value);setProductId(singleProduct);dispatch({type:\"UPDATE_PRINT_QTY\",payload:e.target.value});};const onDeleteCartItem=id=>{setUpdateProducts(updateProducts=>updateProducts.filter(item=>item.id!==id));};useEffect(()=>{let findProduct=updateProducts.find(items=>items.id===productId);setUpdateProducts(updateProducts=>updateProducts.map(item=>item.id===(findProduct===null||findProduct===void 0?void 0:findProduct.id)?{...item,quantity:Number(qty)}:item));},[qty]);return/*#__PURE__*/_jsx(\"tbody\",{children:printBarcodeValue.warehouse_id&&updateProducts&&updateProducts.length>=1?updateProducts.map((singleProduct,index)=>{return/*#__PURE__*/_jsxs(\"tr\",{className:\"align-middle\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"ps-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"fs-6 mb-1\",children:singleProduct.code}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-light-success\",children:/*#__PURE__*/_jsx(\"span\",{children:singleProduct.name})})})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"Product Quantity\",className:\"form-control width-320\",onKeyPress:event=>decimalValidate(event),value:singleProduct.quantity,onChange:e=>handleChange(e,singleProduct.id)})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-start\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn px-4 text-danger fs-3\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash,onClick:()=>onDeleteCartItem(singleProduct.id)})})})]},index);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:8,className:\"fs-5 px-3 py-6 custom-text-center\",children:getFormattedMessage('sale.product.table.no-data.label')})})});};export default PrintTable;","map":{"version":3,"names":["React","useEffect","useState","decimalValidate","getFormattedMessage","useDispatch","FontAwesomeIcon","faTrash","jsx","_jsx","jsxs","_jsxs","PrintTable","props","setUpdateProducts","updateProducts","printBarcodeValue","qty","setQty","dispatch","productId","setProductId","handleChange","e","singleProduct","target","value","type","payload","onDeleteCartItem","id","filter","item","findProduct","find","items","map","quantity","Number","children","warehouse_id","length","index","className","code","name","onKeyPress","event","onChange","icon","onClick","colSpan"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/printBarcode/PrintTable.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { decimalValidate, getFormattedMessage } from '../../shared/sharedMethod';\nimport { useDispatch } from 'react-redux';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\n\nconst PrintTable = ( props ) => {\n    const { setUpdateProducts, updateProducts, printBarcodeValue } = props;\n    const [ qty, setQty ] = useState( 10 )\n    const dispatch = useDispatch()\n    const [ productId, setProductId ] = useState( 0 )\n\n    const handleChange = ( e, singleProduct ) => {\n        setQty( e.target.value );\n        setProductId( singleProduct )\n        dispatch( { type: \"UPDATE_PRINT_QTY\", payload: e.target.value } )\n    };\n\n    const onDeleteCartItem = ( id ) => {\n        setUpdateProducts( updateProducts => updateProducts.filter( ( item ) => item.id !== id ) );\n    };\n\n    useEffect( () => {\n        let findProduct = updateProducts.find( items => items.id === productId )\n        setUpdateProducts( updateProducts => updateProducts.map( item => item.id === findProduct?.id\n            ? { ...item, quantity: Number( qty ) }\n            : item,\n        ) )\n    }, [ qty ] )\n\n    return (\n        <tbody>\n            {printBarcodeValue.warehouse_id && updateProducts && updateProducts.length >= 1 ? updateProducts.map( ( singleProduct, index ) => {\n                return (\n                    <tr key={index} className='align-middle'>\n                        <td className='ps-3'>\n                            <h4 className='fs-6 mb-1'>{singleProduct.code}</h4>\n                            <div className='d-flex align-items-center'>\n                                <span className='badge bg-light-success'>\n                                    <span>{singleProduct.name}</span>\n                                </span>\n                            </div>\n                        </td>\n                        <td>\n                            <input aria-label='Product Quantity' className='form-control width-320'\n                                onKeyPress={( event ) => decimalValidate( event )} value={singleProduct.quantity}\n                                onChange={( e ) => handleChange( e, singleProduct.id )}\n                            />\n                        </td>\n                        <td className='text-start'>\n                            <button className='btn px-4 text-danger fs-3'>\n                                <FontAwesomeIcon icon={faTrash} onClick={() => onDeleteCartItem( singleProduct.id )} />\n                            </button>\n                        </td>\n                    </tr> )\n            } ) :\n                <tr>\n                    <td colSpan={8} className='fs-5 px-3 py-6 custom-text-center'>\n                        {getFormattedMessage( 'sale.product.table.no-data.label' )}\n                    </td>\n                </tr>}\n        </tbody> )\n\n};\nexport default PrintTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}