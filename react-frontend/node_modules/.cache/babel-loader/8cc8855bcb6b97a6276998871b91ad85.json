{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Row,Tab,Tabs}from'react-bootstrap';import MasterLayout from'../../MasterLayout';import TabTitle from'../../../shared/tab-title/TabTitle';import{getFormattedMessage,placeholderText}from'../../../shared/sharedMethod';import{useParams}from'react-router-dom';import HeaderTitle from'../../header/HeaderTitle';import{useDispatch,useSelector}from'react-redux';import TopProgressBar from\"../../../shared/components/loaders/TopProgressBar\";import Widget from\"../../../shared/Widget/Widget\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faArrowLeft,faArrowRight,faCartPlus}from\"@fortawesome/free-solid-svg-icons\";import{fetchFrontSetting}from\"../../../store/action/frontSettingAction\";import SalesTab from'./customer-tab/SalesTab';import QuotationsTeb from'./customer-tab/QuotationsTeb';import SaleReturnTabs from'./customer-tab/SaleReturnTabs';import SalePayment from'./customer-tab/SalePayment';import{fetchCustomerReportWidget}from'../../../store/action/customerReportWidgetAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CustomerReportDetails=props=>{const[key,setKey]=useState('sale');const{id}=useParams();const dispatch=useDispatch();const{frontSetting,customerReportWidgetData,allConfigData}=useSelector(state=>state);const currencySymbol=frontSetting&&frontSetting.value&&frontSetting.value.currency_symbol;useEffect(()=>{id&&dispatch(fetchCustomerReportWidget(id));dispatch(fetchFrontSetting());},[]);return/*#__PURE__*/_jsxs(MasterLayout,{children:[/*#__PURE__*/_jsx(TopProgressBar,{}),/*#__PURE__*/_jsx(HeaderTitle,{title:getFormattedMessage('customer.report.details.title'),to:\"/app/report/customers\"}),/*#__PURE__*/_jsx(TabTitle,{title:placeholderText('customer.report.details.title')}),/*#__PURE__*/_jsxs(Row,{className:\"g-4 justify-content-center\",children:[/*#__PURE__*/_jsx(Widget,{title:getFormattedMessage('sale.title'),className:\"bg-success\",iconClass:\"bg-green-300\",icon:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCartPlus,className:\"fs-1-xl text-white\"}),currency:'',value:customerReportWidgetData!==null&&customerReportWidgetData!==void 0&&customerReportWidgetData.totalSale?parseFloat(customerReportWidgetData===null||customerReportWidgetData===void 0?void 0:customerReportWidgetData.totalSale).toFixed(2):'0.00'}),/*#__PURE__*/_jsx(Widget,{title:getFormattedMessage('pos-total-amount.title'),className:\"bg-info\",iconClass:\"bg-blue-300\",allConfigData:allConfigData,icon:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowRight,className:\"fs-1-xl text-white\"}),currency:currencySymbol,value:customerReportWidgetData!==null&&customerReportWidgetData!==void 0&&customerReportWidgetData.totalAmount?parseFloat(customerReportWidgetData===null||customerReportWidgetData===void 0?void 0:customerReportWidgetData.totalAmount).toFixed(2):'0.00'}),/*#__PURE__*/_jsx(Widget,{title:getFormattedMessage('sale-paid.total.amount.title'),className:\"bg-warning\",iconClass:\"bg-yellow-300\",allConfigData:allConfigData,icon:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowLeft,className:\"fs-1-xl text-white\"}),currency:currencySymbol,value:customerReportWidgetData!==null&&customerReportWidgetData!==void 0&&customerReportWidgetData.totalPaid?parseFloat(customerReportWidgetData===null||customerReportWidgetData===void 0?void 0:customerReportWidgetData.totalPaid).toFixed(2):'0.00'}),/*#__PURE__*/_jsx(Widget,{title:getFormattedMessage('sale-Due.total.amount.title'),className:\"bg-info\",iconClass:\"bg-blue-300\",allConfigData:allConfigData,icon:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowRight,className:\"fs-1-xl text-white\"}),currency:currencySymbol,value:customerReportWidgetData!==null&&customerReportWidgetData!==void 0&&customerReportWidgetData.totalSalesDue?parseFloat(customerReportWidgetData===null||customerReportWidgetData===void 0?void 0:customerReportWidgetData.totalSalesDue).toFixed(2):'0.00'})]}),/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"sale\",id:\"uncontrolled-tab-example\",onSelect:k=>setKey(k),className:\"mt-7 mb-5\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"sale\",title:getFormattedMessage('sale.title'),tabClassName:\"position-relative mb-3 me-7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 mx-auto\",children:key==='sale'&&/*#__PURE__*/_jsx(SalesTab,{allConfigData:allConfigData,customerId:id})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"Sale-return\",title:getFormattedMessage('dashboard.salesReturn.title'),tabClassName:\"position-relative mb-3 me-7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 mx-auto\",children:key==='Sale-return'&&/*#__PURE__*/_jsx(SaleReturnTabs,{allConfigData:allConfigData,customerId:id})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"Quotations\",title:getFormattedMessage('quotations.title'),tabClassName:\"position-relative mb-3 me-7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 mx-auto\",children:key==='Quotations'&&/*#__PURE__*/_jsx(QuotationsTeb,{allConfigData:allConfigData,customerId:id})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"Sale-payment\",title:getFormattedMessage(\"sale.payment.report.title\"),tabClassName:\"position-relative mb-3 me-7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 mx-auto\",children:key==='Sale-payment'&&/*#__PURE__*/_jsx(SalePayment,{allConfigData:allConfigData,customerId:id})})})]})]});};export default CustomerReportDetails;","map":{"version":3,"names":["React","useEffect","useState","Row","Tab","Tabs","MasterLayout","TabTitle","getFormattedMessage","placeholderText","useParams","HeaderTitle","useDispatch","useSelector","TopProgressBar","Widget","FontAwesomeIcon","faArrowLeft","faArrowRight","faCartPlus","fetchFrontSetting","SalesTab","QuotationsTeb","SaleReturnTabs","SalePayment","fetchCustomerReportWidget","jsx","_jsx","jsxs","_jsxs","CustomerReportDetails","props","key","setKey","id","dispatch","frontSetting","customerReportWidgetData","allConfigData","state","currencySymbol","value","currency_symbol","children","title","to","className","iconClass","icon","currency","totalSale","parseFloat","toFixed","totalAmount","totalPaid","totalSalesDue","defaultActiveKey","onSelect","k","eventKey","tabClassName","customerId"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/report/customer-report/CustomerReportDetails.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Row, Tab, Tabs} from 'react-bootstrap';\nimport MasterLayout from '../../MasterLayout';\nimport TabTitle from '../../../shared/tab-title/TabTitle';\nimport {getFormattedMessage, placeholderText} from '../../../shared/sharedMethod';\nimport {useParams} from 'react-router-dom';\nimport HeaderTitle from '../../header/HeaderTitle';\nimport {useDispatch, useSelector} from 'react-redux';\nimport TopProgressBar from \"../../../shared/components/loaders/TopProgressBar\";\nimport Widget from \"../../../shared/Widget/Widget\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faArrowLeft, faArrowRight, faCartPlus} from \"@fortawesome/free-solid-svg-icons\";\nimport {fetchFrontSetting} from \"../../../store/action/frontSettingAction\";\nimport SalesTab from './customer-tab/SalesTab';\nimport QuotationsTeb from './customer-tab/QuotationsTeb';\nimport SaleReturnTabs from './customer-tab/SaleReturnTabs';\nimport SalePayment from './customer-tab/SalePayment';\nimport { fetchCustomerReportWidget } from '../../../store/action/customerReportWidgetAction';\n\nconst CustomerReportDetails = (props) => {\n    const [key, setKey] = useState('sale');\n    const {id} = useParams();\n    const dispatch = useDispatch()\n    const {frontSetting, customerReportWidgetData, allConfigData} = useSelector(state => state)\n    const currencySymbol = frontSetting && frontSetting.value && frontSetting.value.currency_symbol\n\n    useEffect(() => {\n        id && dispatch(fetchCustomerReportWidget(id))\n        dispatch(fetchFrontSetting())\n    }, [])\n\n    return (\n        <MasterLayout>\n            <TopProgressBar/>\n            <HeaderTitle title={getFormattedMessage('customer.report.details.title')} to='/app/report/customers'/>\n            <TabTitle title={placeholderText('customer.report.details.title')}/>\n            <Row className='g-4 justify-content-center'>\n                <Widget title={getFormattedMessage('sale.title')}\n                        className='bg-success' iconClass='bg-green-300'\n                        icon={<FontAwesomeIcon icon={faCartPlus} className='fs-1-xl text-white'/>}   currency={''}\n                        value={customerReportWidgetData?.totalSale ? parseFloat(customerReportWidgetData?.totalSale).toFixed(2) : '0.00'}/>\n                <Widget title={getFormattedMessage('pos-total-amount.title')}\n                        className='bg-info' iconClass='bg-blue-300' allConfigData={allConfigData}\n                        icon={<FontAwesomeIcon icon={faArrowRight} className='fs-1-xl text-white'/>}\n                        currency={currencySymbol}\n                        value={customerReportWidgetData?.totalAmount ? parseFloat(customerReportWidgetData?.totalAmount).toFixed(2) : '0.00'}/>\n                <Widget title={getFormattedMessage('sale-paid.total.amount.title')}\n                        className='bg-warning' iconClass='bg-yellow-300' allConfigData={allConfigData}\n                        icon={<FontAwesomeIcon icon={faArrowLeft} className='fs-1-xl text-white'/>}\n                        currency={currencySymbol}\n                        value={customerReportWidgetData?.totalPaid ? parseFloat(customerReportWidgetData?.totalPaid).toFixed(2) : '0.00'}/>\n                <Widget title={getFormattedMessage('sale-Due.total.amount.title')}\n                        className='bg-info' iconClass='bg-blue-300' allConfigData={allConfigData}\n                        icon={<FontAwesomeIcon icon={faArrowRight} className='fs-1-xl text-white'/>}\n                        currency={currencySymbol}\n                        value={customerReportWidgetData?.totalSalesDue ? parseFloat(customerReportWidgetData?.totalSalesDue).toFixed(2) : '0.00'}/>\n            </Row>\n            <Tabs defaultActiveKey='sale' id='uncontrolled-tab-example' onSelect={(k) => setKey(k)}\n                  className='mt-7 mb-5'>\n                <Tab eventKey='sale' title={getFormattedMessage('sale.title')}\n                     tabClassName='position-relative mb-3 me-7'>\n                    <div className='w-100 mx-auto'>\n                        {key === 'sale' && <SalesTab allConfigData={allConfigData} customerId={id}/>}\n                    </div>\n                </Tab>\n                <Tab eventKey='Sale-return' title={getFormattedMessage('dashboard.salesReturn.title')}\n                     tabClassName='position-relative mb-3 me-7'>\n                    <div className='w-100 mx-auto'>\n                        {key === 'Sale-return' && <SaleReturnTabs allConfigData={allConfigData} customerId={id}/>}\n                    </div>\n                </Tab>\n                <Tab eventKey='Quotations' title={getFormattedMessage('quotations.title')}\n                     tabClassName='position-relative mb-3 me-7'>\n                    <div className='w-100 mx-auto'>\n                        {key === 'Quotations' && <QuotationsTeb allConfigData={allConfigData} customerId={id}/>}\n                    </div>\n                </Tab>\n                <Tab eventKey='Sale-payment' title={getFormattedMessage(\"sale.payment.report.title\")}\n                     tabClassName='position-relative mb-3 me-7'>\n                    <div className='w-100 mx-auto'>\n                        {key === 'Sale-payment' && <SalePayment allConfigData={allConfigData} customerId={id}/>}\n                    </div>\n                </Tab>\n            </Tabs>\n        </MasterLayout>\n    )\n}\n\nexport default CustomerReportDetails;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,OAAQC,GAAG,CAAEC,GAAG,CAAEC,IAAI,KAAO,iBAAiB,CAC9C,MAAO,CAAAC,YAAY,KAAM,oBAAoB,CAC7C,MAAO,CAAAC,QAAQ,KAAM,oCAAoC,CACzD,OAAQC,mBAAmB,CAAEC,eAAe,KAAO,8BAA8B,CACjF,OAAQC,SAAS,KAAO,kBAAkB,CAC1C,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,OAAQC,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,MAAO,CAAAC,cAAc,KAAM,mDAAmD,CAC9E,MAAO,CAAAC,MAAM,KAAM,+BAA+B,CAClD,OAAQC,eAAe,KAAO,gCAAgC,CAC9D,OAAQC,WAAW,CAAEC,YAAY,CAAEC,UAAU,KAAO,mCAAmC,CACvF,OAAQC,iBAAiB,KAAO,0CAA0C,CAC1E,MAAO,CAAAC,QAAQ,KAAM,yBAAyB,CAC9C,MAAO,CAAAC,aAAa,KAAM,8BAA8B,CACxD,MAAO,CAAAC,cAAc,KAAM,+BAA+B,CAC1D,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CACpD,OAASC,yBAAyB,KAAQ,kDAAkD,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7F,KAAM,CAAAC,qBAAqB,CAAIC,KAAK,EAAK,CACrC,KAAM,CAACC,GAAG,CAAEC,MAAM,CAAC,CAAG/B,QAAQ,CAAC,MAAM,CAAC,CACtC,KAAM,CAACgC,EAAE,CAAC,CAAGxB,SAAS,CAAC,CAAC,CACxB,KAAM,CAAAyB,QAAQ,CAAGvB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACwB,YAAY,CAAEC,wBAAwB,CAAEC,aAAa,CAAC,CAAGzB,WAAW,CAAC0B,KAAK,EAAIA,KAAK,CAAC,CAC3F,KAAM,CAAAC,cAAc,CAAGJ,YAAY,EAAIA,YAAY,CAACK,KAAK,EAAIL,YAAY,CAACK,KAAK,CAACC,eAAe,CAE/FzC,SAAS,CAAC,IAAM,CACZiC,EAAE,EAAIC,QAAQ,CAACV,yBAAyB,CAACS,EAAE,CAAC,CAAC,CAC7CC,QAAQ,CAACf,iBAAiB,CAAC,CAAC,CAAC,CACjC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIS,KAAA,CAACvB,YAAY,EAAAqC,QAAA,eACThB,IAAA,CAACb,cAAc,GAAC,CAAC,cACjBa,IAAA,CAAChB,WAAW,EAACiC,KAAK,CAAEpC,mBAAmB,CAAC,+BAA+B,CAAE,CAACqC,EAAE,CAAC,uBAAuB,CAAC,CAAC,cACtGlB,IAAA,CAACpB,QAAQ,EAACqC,KAAK,CAAEnC,eAAe,CAAC,+BAA+B,CAAE,CAAC,CAAC,cACpEoB,KAAA,CAAC1B,GAAG,EAAC2C,SAAS,CAAC,4BAA4B,CAAAH,QAAA,eACvChB,IAAA,CAACZ,MAAM,EAAC6B,KAAK,CAAEpC,mBAAmB,CAAC,YAAY,CAAE,CACzCsC,SAAS,CAAC,YAAY,CAACC,SAAS,CAAC,cAAc,CAC/CC,IAAI,cAAErB,IAAA,CAACX,eAAe,EAACgC,IAAI,CAAE7B,UAAW,CAAC2B,SAAS,CAAC,oBAAoB,CAAC,CAAE,CAAGG,QAAQ,CAAE,EAAG,CAC1FR,KAAK,CAAEJ,wBAAwB,SAAxBA,wBAAwB,WAAxBA,wBAAwB,CAAEa,SAAS,CAAGC,UAAU,CAACd,wBAAwB,SAAxBA,wBAAwB,iBAAxBA,wBAAwB,CAAEa,SAAS,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,CAAG,MAAO,CAAC,CAAC,cAC3HzB,IAAA,CAACZ,MAAM,EAAC6B,KAAK,CAAEpC,mBAAmB,CAAC,wBAAwB,CAAE,CACrDsC,SAAS,CAAC,SAAS,CAACC,SAAS,CAAC,aAAa,CAACT,aAAa,CAAEA,aAAc,CACzEU,IAAI,cAAErB,IAAA,CAACX,eAAe,EAACgC,IAAI,CAAE9B,YAAa,CAAC4B,SAAS,CAAC,oBAAoB,CAAC,CAAE,CAC5EG,QAAQ,CAAET,cAAe,CACzBC,KAAK,CAAEJ,wBAAwB,SAAxBA,wBAAwB,WAAxBA,wBAAwB,CAAEgB,WAAW,CAAGF,UAAU,CAACd,wBAAwB,SAAxBA,wBAAwB,iBAAxBA,wBAAwB,CAAEgB,WAAW,CAAC,CAACD,OAAO,CAAC,CAAC,CAAC,CAAG,MAAO,CAAC,CAAC,cAC/HzB,IAAA,CAACZ,MAAM,EAAC6B,KAAK,CAAEpC,mBAAmB,CAAC,8BAA8B,CAAE,CAC3DsC,SAAS,CAAC,YAAY,CAACC,SAAS,CAAC,eAAe,CAACT,aAAa,CAAEA,aAAc,CAC9EU,IAAI,cAAErB,IAAA,CAACX,eAAe,EAACgC,IAAI,CAAE/B,WAAY,CAAC6B,SAAS,CAAC,oBAAoB,CAAC,CAAE,CAC3EG,QAAQ,CAAET,cAAe,CACzBC,KAAK,CAAEJ,wBAAwB,SAAxBA,wBAAwB,WAAxBA,wBAAwB,CAAEiB,SAAS,CAAGH,UAAU,CAACd,wBAAwB,SAAxBA,wBAAwB,iBAAxBA,wBAAwB,CAAEiB,SAAS,CAAC,CAACF,OAAO,CAAC,CAAC,CAAC,CAAG,MAAO,CAAC,CAAC,cAC3HzB,IAAA,CAACZ,MAAM,EAAC6B,KAAK,CAAEpC,mBAAmB,CAAC,6BAA6B,CAAE,CAC1DsC,SAAS,CAAC,SAAS,CAACC,SAAS,CAAC,aAAa,CAACT,aAAa,CAAEA,aAAc,CACzEU,IAAI,cAAErB,IAAA,CAACX,eAAe,EAACgC,IAAI,CAAE9B,YAAa,CAAC4B,SAAS,CAAC,oBAAoB,CAAC,CAAE,CAC5EG,QAAQ,CAAET,cAAe,CACzBC,KAAK,CAAEJ,wBAAwB,SAAxBA,wBAAwB,WAAxBA,wBAAwB,CAAEkB,aAAa,CAAGJ,UAAU,CAACd,wBAAwB,SAAxBA,wBAAwB,iBAAxBA,wBAAwB,CAAEkB,aAAa,CAAC,CAACH,OAAO,CAAC,CAAC,CAAC,CAAG,MAAO,CAAC,CAAC,EAClI,CAAC,cACNvB,KAAA,CAACxB,IAAI,EAACmD,gBAAgB,CAAC,MAAM,CAACtB,EAAE,CAAC,0BAA0B,CAACuB,QAAQ,CAAGC,CAAC,EAAKzB,MAAM,CAACyB,CAAC,CAAE,CACjFZ,SAAS,CAAC,WAAW,CAAAH,QAAA,eACvBhB,IAAA,CAACvB,GAAG,EAACuD,QAAQ,CAAC,MAAM,CAACf,KAAK,CAAEpC,mBAAmB,CAAC,YAAY,CAAE,CACzDoD,YAAY,CAAC,6BAA6B,CAAAjB,QAAA,cAC3ChB,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAH,QAAA,CACzBX,GAAG,GAAK,MAAM,eAAIL,IAAA,CAACN,QAAQ,EAACiB,aAAa,CAAEA,aAAc,CAACuB,UAAU,CAAE3B,EAAG,CAAC,CAAC,CAC3E,CAAC,CACL,CAAC,cACNP,IAAA,CAACvB,GAAG,EAACuD,QAAQ,CAAC,aAAa,CAACf,KAAK,CAAEpC,mBAAmB,CAAC,6BAA6B,CAAE,CACjFoD,YAAY,CAAC,6BAA6B,CAAAjB,QAAA,cAC3ChB,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAH,QAAA,CACzBX,GAAG,GAAK,aAAa,eAAIL,IAAA,CAACJ,cAAc,EAACe,aAAa,CAAEA,aAAc,CAACuB,UAAU,CAAE3B,EAAG,CAAC,CAAC,CACxF,CAAC,CACL,CAAC,cACNP,IAAA,CAACvB,GAAG,EAACuD,QAAQ,CAAC,YAAY,CAACf,KAAK,CAAEpC,mBAAmB,CAAC,kBAAkB,CAAE,CACrEoD,YAAY,CAAC,6BAA6B,CAAAjB,QAAA,cAC3ChB,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAH,QAAA,CACzBX,GAAG,GAAK,YAAY,eAAIL,IAAA,CAACL,aAAa,EAACgB,aAAa,CAAEA,aAAc,CAACuB,UAAU,CAAE3B,EAAG,CAAC,CAAC,CACtF,CAAC,CACL,CAAC,cACNP,IAAA,CAACvB,GAAG,EAACuD,QAAQ,CAAC,cAAc,CAACf,KAAK,CAAEpC,mBAAmB,CAAC,2BAA2B,CAAE,CAChFoD,YAAY,CAAC,6BAA6B,CAAAjB,QAAA,cAC3ChB,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAH,QAAA,CACzBX,GAAG,GAAK,cAAc,eAAIL,IAAA,CAACH,WAAW,EAACc,aAAa,CAAEA,aAAc,CAACuB,UAAU,CAAE3B,EAAG,CAAC,CAAC,CACtF,CAAC,CACL,CAAC,EACJ,CAAC,EACG,CAAC,CAEvB,CAAC,CAED,cAAe,CAAAJ,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module"}