{"ast":null,"code":"import React,{useEffect}from\"react\";import{connect}from\"react-redux\";import Modal from\"react-bootstrap/Modal\";import{fetchFrontSetting}from\"../../store/action/frontSettingAction\";import{Table}from\"reactstrap\";import{fetchTransferDetails}from\"../../store/action/transferDetailsAction\";import{currencySymbolHandling,getFormattedDate,getFormattedMessage}from\"../../shared/sharedMethod\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TransferDetails=props=>{var _transferDetails$attr,_transferDetails$attr2,_transferDetails$attr3,_transferDetails$attr4,_transferDetails$attr5,_transferDetails$attr6,_transferDetails$attr7,_transferDetails$attr8,_transferDetails$attr9;const{onDetails,lgShow,setLgShow,fetchFrontSetting,frontSetting,transferDetails,fetchTransferDetails,allConfigData}=props;useEffect(()=>{fetchFrontSetting();},[]);const currencySymbol=frontSetting&&frontSetting.value&&frontSetting.value.currency_symbol;useEffect(()=>{if(onDetails!==null){fetchTransferDetails(onDetails);}},[onDetails]);const onsetLgShow=()=>{setLgShow(false);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Modal,{className:\"tranfer_model\",size:\"lg\",\"aria-labelledby\":\"example-custom-modal-styling-title\",show:lgShow,onHide:()=>onsetLgShow(),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-lg\",children:getFormattedMessage(\"transfer.details.title\")})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(Table,{bordered:true,hover:true,className:\"overflow-auto w-100\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:getFormattedMessage(\"react-data-table.date.column.label\")}),/*#__PURE__*/_jsx(\"td\",{children:transferDetails&&transferDetails.attributes&&getFormattedDate(transferDetails.attributes.date,allConfigData)})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:getFormattedMessage(\"globally.detail.reference\")}),/*#__PURE__*/_jsx(\"td\",{children:transferDetails&&transferDetails.attributes&&transferDetails.attributes.reference_code})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:getFormattedMessage(\"transfer.from-warehouse.title\")}),/*#__PURE__*/_jsx(\"td\",{children:transferDetails===null||transferDetails===void 0?void 0:(_transferDetails$attr=transferDetails.attributes)===null||_transferDetails$attr===void 0?void 0:(_transferDetails$attr2=_transferDetails$attr.from_warehouse)===null||_transferDetails$attr2===void 0?void 0:_transferDetails$attr2.name})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:getFormattedMessage(\"transfer.to-warehouse.title\")}),/*#__PURE__*/_jsx(\"td\",{children:transferDetails===null||transferDetails===void 0?void 0:(_transferDetails$attr3=transferDetails.attributes)===null||_transferDetails$attr3===void 0?void 0:(_transferDetails$attr4=_transferDetails$attr3.to_warehouse)===null||_transferDetails$attr4===void 0?void 0:_transferDetails$attr4.name})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:getFormattedMessage(\"globally.detail.grand.total\")}),/*#__PURE__*/_jsx(\"td\",{children:currencySymbolHandling(allConfigData,currencySymbol,transferDetails===null||transferDetails===void 0?void 0:(_transferDetails$attr5=transferDetails.attributes)===null||_transferDetails$attr5===void 0?void 0:_transferDetails$attr5.grand_total)})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:getFormattedMessage(\"globally.detail.status\")}),/*#__PURE__*/_jsx(\"td\",{children:(transferDetails===null||transferDetails===void 0?void 0:(_transferDetails$attr6=transferDetails.attributes)===null||_transferDetails$attr6===void 0?void 0:_transferDetails$attr6.status)===1&&\"Completed\"||(transferDetails===null||transferDetails===void 0?void 0:(_transferDetails$attr7=transferDetails.attributes)===null||_transferDetails$attr7===void 0?void 0:_transferDetails$attr7.status)===2&&\"Sent\"||(transferDetails===null||transferDetails===void 0?void 0:(_transferDetails$attr8=transferDetails.attributes)===null||_transferDetails$attr8===void 0?void 0:_transferDetails$attr8.status)===3&&\"Pending\"})]})]})}),/*#__PURE__*/_jsxs(Table,{bordered:true,hover:true,className:\"overflow-auto\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage(\"pos-product.title\")}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage(\"product.product-details.code-product.label\")}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage(\"dashboard.stockAlert.quantity.label\")}),/*#__PURE__*/_jsx(\"th\",{children:getFormattedMessage(\"pos-sub-total.title\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:transferDetails&&transferDetails.attributes&&((_transferDetails$attr9=transferDetails.attributes)===null||_transferDetails$attr9===void 0?void 0:_transferDetails$attr9.transfer_items.map((item,index)=>{return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.product.name}),/*#__PURE__*/_jsx(\"td\",{children:item.product.code}),/*#__PURE__*/_jsx(\"td\",{children:item.quantity}),/*#__PURE__*/_jsx(\"td\",{children:currencySymbolHandling(allConfigData,currencySymbol,item.sub_total)})]},index);}))})]})]})]})});};const mapStateToProps=state=>{const{transferDetails,isLoading,frontSetting,allConfigData}=state;return{transferDetails,isLoading,frontSetting,allConfigData};};export default connect(mapStateToProps,{fetchFrontSetting,fetchTransferDetails})(TransferDetails);","map":{"version":3,"names":["React","useEffect","connect","Modal","fetchFrontSetting","Table","fetchTransferDetails","currencySymbolHandling","getFormattedDate","getFormattedMessage","jsx","_jsx","jsxs","_jsxs","TransferDetails","props","_transferDetails$attr","_transferDetails$attr2","_transferDetails$attr3","_transferDetails$attr4","_transferDetails$attr5","_transferDetails$attr6","_transferDetails$attr7","_transferDetails$attr8","_transferDetails$attr9","onDetails","lgShow","setLgShow","frontSetting","transferDetails","allConfigData","currencySymbol","value","currency_symbol","onsetLgShow","children","className","size","show","onHide","Header","closeButton","Title","id","Body","bordered","hover","attributes","date","reference_code","from_warehouse","name","to_warehouse","grand_total","status","transfer_items","map","item","index","product","code","quantity","sub_total","mapStateToProps","state","isLoading"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/transfers/TransferDetails.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { fetchFrontSetting } from \"../../store/action/frontSettingAction\";\nimport { Table } from \"reactstrap\";\nimport { fetchTransferDetails } from \"../../store/action/transferDetailsAction\";\nimport {\n    currencySymbolHandling,\n    getFormattedDate,\n    getFormattedMessage,\n} from \"../../shared/sharedMethod\";\n\nconst TransferDetails = (props) => {\n    const {\n        onDetails,\n        lgShow,\n        setLgShow,\n        fetchFrontSetting,\n        frontSetting,\n        transferDetails,\n        fetchTransferDetails,\n        allConfigData,\n    } = props;\n\n    useEffect(() => {\n        fetchFrontSetting();\n    }, []);\n\n    const currencySymbol =\n        frontSetting &&\n        frontSetting.value &&\n        frontSetting.value.currency_symbol;\n\n    useEffect(() => {\n        if (onDetails !== null) {\n            fetchTransferDetails(onDetails);\n        }\n    }, [onDetails]);\n\n    const onsetLgShow = () => {\n        setLgShow(false);\n    };\n\n    return (\n        <div>\n            <Modal\n                className=\"tranfer_model\"\n                size=\"lg\"\n                aria-labelledby=\"example-custom-modal-styling-title\"\n                show={lgShow}\n                onHide={() => onsetLgShow()}\n            >\n                <Modal.Header closeButton>\n                    <Modal.Title id=\"example-modal-sizes-title-lg\">\n                        {getFormattedMessage(\"transfer.details.title\")}\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Table bordered hover className=\"overflow-auto w-100\">\n                        <tbody>\n                            <tr>\n                                <td>\n                                    {getFormattedMessage(\n                                        \"react-data-table.date.column.label\"\n                                    )}\n                                </td>\n                                <td>\n                                    {transferDetails &&\n                                        transferDetails.attributes &&\n                                        getFormattedDate(\n                                            transferDetails.attributes.date,\n                                            allConfigData\n                                        )}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    {getFormattedMessage(\n                                        \"globally.detail.reference\"\n                                    )}\n                                </td>\n                                <td>\n                                    {transferDetails &&\n                                        transferDetails.attributes &&\n                                        transferDetails.attributes\n                                            .reference_code}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    {getFormattedMessage(\n                                        \"transfer.from-warehouse.title\"\n                                    )}\n                                </td>\n                                <td>\n                                    {\n                                        transferDetails?.attributes\n                                            ?.from_warehouse?.name\n                                    }\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    {getFormattedMessage(\n                                        \"transfer.to-warehouse.title\"\n                                    )}\n                                </td>\n                                <td>\n                                    {\n                                        transferDetails?.attributes\n                                            ?.to_warehouse?.name\n                                    }\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    {getFormattedMessage(\n                                        \"globally.detail.grand.total\"\n                                    )}\n                                </td>\n                                <td>\n                                    {currencySymbolHandling(\n                                        allConfigData,\n                                        currencySymbol,\n                                        transferDetails?.attributes?.grand_total\n                                    )}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    {getFormattedMessage(\n                                        \"globally.detail.status\"\n                                    )}\n                                </td>\n                                <td>\n                                    {(transferDetails?.attributes?.status ===\n                                        1 &&\n                                        \"Completed\") ||\n                                        (transferDetails?.attributes?.status ===\n                                            2 &&\n                                            \"Sent\") ||\n                                        (transferDetails?.attributes?.status ===\n                                            3 &&\n                                            \"Pending\")}\n                                </td>\n                            </tr>\n                        </tbody>\n                    </Table>\n\n                    <Table bordered hover className=\"overflow-auto\">\n                        <thead>\n                            <tr>\n                                <th>\n                                    {getFormattedMessage(\"pos-product.title\")}\n                                </th>\n                                <th>\n                                    {getFormattedMessage(\n                                        \"product.product-details.code-product.label\"\n                                    )}\n                                </th>\n                                <th>\n                                    {getFormattedMessage(\n                                        \"dashboard.stockAlert.quantity.label\"\n                                    )}\n                                </th>\n                                <th>\n                                    {getFormattedMessage(\"pos-sub-total.title\")}\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {transferDetails &&\n                                transferDetails.attributes &&\n                                transferDetails.attributes?.transfer_items.map(\n                                    (item, index) => {\n                                        return (\n                                            <tr key={index}>\n                                                <td>{item.product.name}</td>\n                                                <td>{item.product.code}</td>\n                                                <td>{item.quantity}</td>\n                                                <td>\n                                                    {currencySymbolHandling(\n                                                        allConfigData,\n                                                        currencySymbol,\n                                                        item.sub_total\n                                                    )}\n                                                </td>\n                                            </tr>\n                                        );\n                                    }\n                                )}\n                        </tbody>\n                    </Table>\n                </Modal.Body>\n            </Modal>\n        </div>\n    );\n};\n\nconst mapStateToProps = (state) => {\n    const { transferDetails, isLoading, frontSetting, allConfigData } = state;\n    return { transferDetails, isLoading, frontSetting, allConfigData };\n};\n\nexport default connect(mapStateToProps, {\n    fetchFrontSetting,\n    fetchTransferDetails,\n})(TransferDetails);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}