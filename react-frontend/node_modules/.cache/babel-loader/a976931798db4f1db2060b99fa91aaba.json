{"ast":null,"code":"import apiConfig from\"../../config/apiConfig\";import{apiBaseURL,saleReturnActionType,toastType}from\"../../constants\";import{addToast}from\"./toastAction\";import{addInToTotalRecord,removeFromTotalRecord,setTotalRecord}from\"./totalRecordAction\";import{setLoading}from\"./loadingAction\";import requestParam from\"../../shared/requestParam\";import{getFormattedMessage}from\"../../shared/sharedMethod\";import{setSavingButton}from\"./saveButtonAction\";export const fetchSalesReturn=function(){let filter=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let isLoading=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return async dispatch=>{if(isLoading){dispatch(setLoading(true));}const admin=true;let url=apiBaseURL.SALE_RETURN;if(!_.isEmpty(filter)&&(filter.page||filter.pageSize||filter.search||filter.order_By||filter.created_at)){url+=requestParam(filter,admin,null,null,url);}await apiConfig.get(url).then(response=>{dispatch({type:saleReturnActionType.FETCH_SALES_RETURN,payload:response.data.data});dispatch(setTotalRecord(response.data.meta.total!==undefined&&response.data.meta.total>=0?response.data.meta.total:response.data.data.total));if(isLoading){dispatch(setLoading(false));}}).catch(_ref=>{let{response}=_ref;dispatch(addToast({text:response.data.message,type:toastType.ERROR}));});};};export const fetchSaleReturn=function(saleId,isSaleReturnFromSale){let isLoading=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;return async dispatch=>{if(isLoading){dispatch(setLoading(true));}await apiConfig.get(!isSaleReturnFromSale?apiBaseURL.SALE_RETURN+\"/\"+saleId+\"/edit\":apiBaseURL.EDIT_SALE_FROM_SALE+\"/\"+saleId).then(response=>{dispatch({type:saleReturnActionType.FETCH_SALE_RETURN,payload:response.data.data});if(isLoading){dispatch(setLoading(false));}}).catch(_ref2=>{let{response}=_ref2;dispatch(addToast({text:response.data.message,type:toastType.ERROR}));});};};export const addSaleReturn=(sale,navigate)=>async dispatch=>{dispatch(setSavingButton(true));await apiConfig.post(apiBaseURL.SALE_RETURN,sale).then(response=>{dispatch({type:saleReturnActionType.ADD_SALE_RETURN,payload:response.data.data});dispatch(addToast({text:getFormattedMessage(\"sale-return.success.create.message\")}));dispatch(addInToTotalRecord(1));navigate(\"/app/sale-return\");dispatch(setSavingButton(false));}).catch(_ref3=>{let{response}=_ref3;dispatch(setSavingButton(false));dispatch(addToast({text:response.data.message,type:toastType.ERROR}));});};export const editSaleReturn=(saleId,sale,navigate)=>async dispatch=>{dispatch(setSavingButton(true));await apiConfig.patch(apiBaseURL.SALE_RETURN+\"/\"+saleId,sale).then(response=>{dispatch(addToast({text:getFormattedMessage(\"sale-return.success.edit.message\")}));navigate(\"/app/sale-return\");dispatch({type:saleReturnActionType.EDIT_SALE_RETURN,payload:response.data.data});dispatch(setSavingButton(false));}).catch(_ref4=>{let{response}=_ref4;dispatch(setSavingButton(false));dispatch(addToast({text:response.data.message,type:toastType.ERROR}));});};export const deleteSaleReturn=userId=>async dispatch=>{await apiConfig.delete(apiBaseURL.SALE_RETURN+\"/\"+userId).then(()=>{dispatch(removeFromTotalRecord(1));dispatch({type:saleReturnActionType.DELETE_SALE_RETURN,payload:userId});dispatch(addToast({text:getFormattedMessage(\"sale-return.success.delete.message\")}));}).catch(_ref5=>{let{response}=_ref5;dispatch(addToast({text:response.data.message,type:toastType.ERROR}));});};","map":{"version":3,"names":["apiConfig","apiBaseURL","saleReturnActionType","toastType","addToast","addInToTotalRecord","removeFromTotalRecord","setTotalRecord","setLoading","requestParam","getFormattedMessage","setSavingButton","fetchSalesReturn","filter","arguments","length","undefined","isLoading","dispatch","admin","url","SALE_RETURN","_","isEmpty","page","pageSize","search","order_By","created_at","get","then","response","type","FETCH_SALES_RETURN","payload","data","meta","total","catch","_ref","text","message","ERROR","fetchSaleReturn","saleId","isSaleReturnFromSale","EDIT_SALE_FROM_SALE","FETCH_SALE_RETURN","_ref2","addSaleReturn","sale","navigate","post","ADD_SALE_RETURN","_ref3","editSaleReturn","patch","EDIT_SALE_RETURN","_ref4","deleteSaleReturn","userId","delete","DELETE_SALE_RETURN","_ref5"],"sources":["C:/Users/Sithu/Music/react-frontend/src/store/action/salesReturnAction.js"],"sourcesContent":["import apiConfig from \"../../config/apiConfig\";\nimport { apiBaseURL, saleReturnActionType, toastType } from \"../../constants\";\nimport { addToast } from \"./toastAction\";\nimport {\n    addInToTotalRecord,\n    removeFromTotalRecord,\n    setTotalRecord,\n} from \"./totalRecordAction\";\nimport { setLoading } from \"./loadingAction\";\nimport requestParam from \"../../shared/requestParam\";\nimport { getFormattedMessage } from \"../../shared/sharedMethod\";\nimport { setSavingButton } from \"./saveButtonAction\";\n\nexport const fetchSalesReturn =\n    (filter = {}, isLoading = true) =>\n    async (dispatch) => {\n        if (isLoading) {\n            dispatch(setLoading(true));\n        }\n        const admin = true;\n        let url = apiBaseURL.SALE_RETURN;\n        if (\n            !_.isEmpty(filter) &&\n            (filter.page ||\n                filter.pageSize ||\n                filter.search ||\n                filter.order_By ||\n                filter.created_at)\n        ) {\n            url += requestParam(filter, admin, null, null, url);\n        }\n        await apiConfig\n            .get(url)\n            .then((response) => {\n                dispatch({\n                    type: saleReturnActionType.FETCH_SALES_RETURN,\n                    payload: response.data.data,\n                });\n                dispatch(\n                    setTotalRecord(\n                        response.data.meta.total !== undefined &&\n                            response.data.meta.total >= 0\n                            ? response.data.meta.total\n                            : response.data.data.total\n                    )\n                );\n                if (isLoading) {\n                    dispatch(setLoading(false));\n                }\n            })\n            .catch(({ response }) => {\n                dispatch(\n                    addToast({\n                        text: response.data.message,\n                        type: toastType.ERROR,\n                    })\n                );\n            });\n    };\n\nexport const fetchSaleReturn =\n    (saleId, isSaleReturnFromSale, isLoading = true) =>\n    async (dispatch) => {\n        if (isLoading) {\n            dispatch(setLoading(true));\n        }\n        await apiConfig\n            .get(\n                !isSaleReturnFromSale\n                    ? apiBaseURL.SALE_RETURN + \"/\" + saleId + \"/edit\"\n                    : apiBaseURL.EDIT_SALE_FROM_SALE + \"/\" + saleId\n            )\n            .then((response) => {\n                dispatch({\n                    type: saleReturnActionType.FETCH_SALE_RETURN,\n                    payload: response.data.data,\n                });\n                if (isLoading) {\n                    dispatch(setLoading(false));\n                }\n            })\n            .catch(({ response }) => {\n                dispatch(\n                    addToast({\n                        text: response.data.message,\n                        type: toastType.ERROR,\n                    })\n                );\n            });\n    };\n\nexport const addSaleReturn = (sale, navigate) => async (dispatch) => {\n    dispatch(setSavingButton(true));\n    await apiConfig\n        .post(apiBaseURL.SALE_RETURN, sale)\n        .then((response) => {\n            dispatch({\n                type: saleReturnActionType.ADD_SALE_RETURN,\n                payload: response.data.data,\n            });\n            dispatch(\n                addToast({\n                    text: getFormattedMessage(\n                        \"sale-return.success.create.message\"\n                    ),\n                })\n            );\n            dispatch(addInToTotalRecord(1));\n            navigate(\"/app/sale-return\");\n            dispatch(setSavingButton(false));\n        })\n        .catch(({ response }) => {\n            dispatch(setSavingButton(false));\n            dispatch(\n                addToast({ text: response.data.message, type: toastType.ERROR })\n            );\n        });\n};\n\nexport const editSaleReturn = (saleId, sale, navigate) => async (dispatch) => {\n    dispatch(setSavingButton(true));\n    await apiConfig\n        .patch(apiBaseURL.SALE_RETURN + \"/\" + saleId, sale)\n        .then((response) => {\n            dispatch(\n                addToast({\n                    text: getFormattedMessage(\n                        \"sale-return.success.edit.message\"\n                    ),\n                })\n            );\n            navigate(\"/app/sale-return\");\n            dispatch({\n                type: saleReturnActionType.EDIT_SALE_RETURN,\n                payload: response.data.data,\n            });\n            dispatch(setSavingButton(false));\n        })\n        .catch(({ response }) => {\n            dispatch(setSavingButton(false));\n            dispatch(\n                addToast({ text: response.data.message, type: toastType.ERROR })\n            );\n        });\n};\n\nexport const deleteSaleReturn = (userId) => async (dispatch) => {\n    await apiConfig\n        .delete(apiBaseURL.SALE_RETURN + \"/\" + userId)\n        .then(() => {\n            dispatch(removeFromTotalRecord(1));\n            dispatch({\n                type: saleReturnActionType.DELETE_SALE_RETURN,\n                payload: userId,\n            });\n            dispatch(\n                addToast({\n                    text: getFormattedMessage(\n                        \"sale-return.success.delete.message\"\n                    ),\n                })\n            );\n        })\n        .catch(({ response }) => {\n            dispatch(\n                addToast({ text: response.data.message, type: toastType.ERROR })\n            );\n        });\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}