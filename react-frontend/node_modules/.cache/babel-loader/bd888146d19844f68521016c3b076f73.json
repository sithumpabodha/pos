{"ast":null,"code":"import React,{useState}from'react';import{connect}from'react-redux';import moment from'moment';import MasterLayout from'../MasterLayout';import{fetchUnits}from'../../store/action/unitsAction';import ReactDataTable from'../../shared/table/ReactDataTable';import DeleteUnits from'./DeleteUnits';import CreateUnits from'./CreateUnits';import EditUnits from'./EditUnits';import TabTitle from'../../shared/tab-title/TabTitle';import{getFormattedDate,getFormattedMessage,placeholderText}from'../../shared/sharedMethod';import ActionButton from'../../shared/action-buttons/ActionButton';import TopProgressBar from\"../../shared/components/loaders/TopProgressBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Units=props=>{const{fetchUnits,units,totalRecord,isLoading,allConfigData}=props;const[deleteModel,setDeleteModel]=useState(false);const[isDelete,setIsDelete]=useState(null);const[editModel,setEditModel]=useState(false);const[unit,setUnit]=useState();const handleClose=item=>{setEditModel(!editModel);setUnit(item);};const onClickDeleteModel=function(){let isDelete=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;setDeleteModel(!deleteModel);setIsDelete(isDelete);};const onChange=filter=>{fetchUnits(filter,true);};const itemsValue=units.length>=0&&units.map(unit=>{var _unit$attributes$base,_unit$attributes$base2;return{date:getFormattedDate(unit.attributes.created_at,allConfigData&&allConfigData),time:moment(unit.attributes.created_at).format('LT'),name:unit.attributes.name,short_name:unit.attributes.short_name,base_unit:(_unit$attributes$base=unit.attributes.base_unit_name)!==null&&_unit$attributes$base!==void 0&&_unit$attributes$base.name?(_unit$attributes$base2=unit.attributes.base_unit_name)===null||_unit$attributes$base2===void 0?void 0:_unit$attributes$base2.name:'N/A',id:unit.id};});const columns=[{name:getFormattedMessage('globally.input.name.label'),selector:row=>row.name,sortField:'name',sortable:true},{name:getFormattedMessage('unit.modal.input.short-name.label'),sortField:'short_name',sortable:true,cell:row=>{return/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-light-info\",children:/*#__PURE__*/_jsx(\"span\",{children:row.short_name})});}},{name:getFormattedMessage('unit.modal.input.base-unit.label'),sortField:'base_unit',sortable:true,cell:row=>{return row.base_unit&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-light-success\",children:/*#__PURE__*/_jsx(\"span\",{children:row.base_unit})});}},{name:getFormattedMessage('globally.react-table.column.created-date.label'),selector:row=>row.date,sortField:'created_at',sortable:true,cell:row=>{return/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-light-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:row.time}),/*#__PURE__*/_jsx(\"div\",{children:row.date})]});}},{name:getFormattedMessage('react-data-table.action.column.label'),right:true,ignoreRowClick:true,allowOverflow:true,button:true,cell:row=>/*#__PURE__*/_jsx(ActionButton,{item:row,goToEditProduct:handleClose,isEditMode:true,onClickDeleteModel:onClickDeleteModel})}];return/*#__PURE__*/_jsxs(MasterLayout,{children:[/*#__PURE__*/_jsx(TopProgressBar,{}),/*#__PURE__*/_jsx(TabTitle,{title:placeholderText('units.title')}),/*#__PURE__*/_jsx(ReactDataTable,{columns:columns,items:itemsValue,onChange:onChange,isLoading:isLoading,AddButton:/*#__PURE__*/_jsx(CreateUnits,{}),title:getFormattedMessage('unit.modal.input.base-unit.label'),totalRows:totalRecord,isShowFilterField:true,isUnitFilter:true}),/*#__PURE__*/_jsx(EditUnits,{handleClose:handleClose,show:editModel,unit:unit}),/*#__PURE__*/_jsx(DeleteUnits,{onClickDeleteModel:onClickDeleteModel,deleteModel:deleteModel,onDelete:isDelete})]});};const mapStateToProps=state=>{const{units,totalRecord,isLoading,allConfigData}=state;return{units,totalRecord,isLoading,allConfigData};};export default connect(mapStateToProps,{fetchUnits})(Units);","map":{"version":3,"names":["React","useState","connect","moment","MasterLayout","fetchUnits","ReactDataTable","DeleteUnits","CreateUnits","EditUnits","TabTitle","getFormattedDate","getFormattedMessage","placeholderText","ActionButton","TopProgressBar","jsx","_jsx","jsxs","_jsxs","Units","props","units","totalRecord","isLoading","allConfigData","deleteModel","setDeleteModel","isDelete","setIsDelete","editModel","setEditModel","unit","setUnit","handleClose","item","onClickDeleteModel","arguments","length","undefined","onChange","filter","itemsValue","map","_unit$attributes$base","_unit$attributes$base2","date","attributes","created_at","time","format","name","short_name","base_unit","base_unit_name","id","columns","selector","row","sortField","sortable","cell","className","children","right","ignoreRowClick","allowOverflow","button","goToEditProduct","isEditMode","title","items","AddButton","totalRows","isShowFilterField","isUnitFilter","show","onDelete","mapStateToProps","state"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/units/Units.js"],"sourcesContent":["import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport moment from 'moment';\nimport MasterLayout from '../MasterLayout';\nimport {fetchUnits} from '../../store/action/unitsAction';\nimport ReactDataTable from '../../shared/table/ReactDataTable';\nimport DeleteUnits from './DeleteUnits';\nimport CreateUnits from './CreateUnits';\nimport EditUnits from './EditUnits';\nimport TabTitle from '../../shared/tab-title/TabTitle';\nimport {getFormattedDate, getFormattedMessage, placeholderText} from '../../shared/sharedMethod';\nimport ActionButton from '../../shared/action-buttons/ActionButton';\nimport TopProgressBar from \"../../shared/components/loaders/TopProgressBar\";\n\nconst Units = (props) => {\n    const {fetchUnits, units, totalRecord, isLoading, allConfigData} = props;\n    const [deleteModel, setDeleteModel] = useState(false);\n    const [isDelete, setIsDelete] = useState(null);\n    const [editModel, setEditModel] = useState(false);\n    const [unit, setUnit] = useState();\n\n    const handleClose = (item) => {\n        setEditModel(!editModel);\n        setUnit(item);\n    };\n\n    const onClickDeleteModel = (isDelete = null) => {\n        setDeleteModel(!deleteModel);\n        setIsDelete(isDelete);\n    };\n\n    const onChange = (filter) => {\n        fetchUnits(filter, true);\n    };\n\n    const itemsValue = units.length >= 0 && units.map(unit => {\n        return (\n            {\n                date: getFormattedDate(unit.attributes.created_at, allConfigData && allConfigData),\n                time: moment(unit.attributes.created_at).format('LT'),\n                name: unit.attributes.name,\n                short_name: unit.attributes.short_name,\n                base_unit: unit.attributes.base_unit_name?.name ? unit.attributes.base_unit_name?.name : 'N/A',\n                id: unit.id\n            }\n        )\n    });\n\n    const columns = [\n        {\n            name: getFormattedMessage('globally.input.name.label'),\n            selector: row => row.name,\n            sortField: 'name',\n            sortable: true,\n        },\n        {\n            name: getFormattedMessage('unit.modal.input.short-name.label'),\n            sortField: 'short_name',\n            sortable: true,\n            cell: row => {\n                return <span className='badge bg-light-info'>\n                            <span>{row.short_name}</span>\n                        </span>\n            }\n        },\n        {\n            name: getFormattedMessage('unit.modal.input.base-unit.label'),\n            sortField: 'base_unit',\n            sortable: true,\n            cell: row => {\n                return (\n                    row.base_unit  &&\n                    <span className='badge bg-light-success'>\n                        <span>{row.base_unit}</span>\n                    </span>\n                )\n            }\n        },\n        {\n            name: getFormattedMessage('globally.react-table.column.created-date.label'),\n            selector: row => row.date,\n            sortField: 'created_at',\n            sortable: true,\n            cell: row => {\n                return (\n                    <span className='badge bg-light-info'>\n                        <div className='mb-1'>{row.time}</div>\n                        <div>{row.date}</div>\n                    </span>\n                )\n            }\n        },\n        {\n            name: getFormattedMessage('react-data-table.action.column.label'),\n            right: true,\n            ignoreRowClick: true,\n            allowOverflow: true,\n            button: true,\n            cell: row => <ActionButton item={row} goToEditProduct={handleClose} isEditMode={true}\n                                       onClickDeleteModel={onClickDeleteModel}/>\n        }\n    ];\n\n    return (\n        <MasterLayout>\n            <TopProgressBar />\n            <TabTitle title={placeholderText('units.title')}/>\n            <ReactDataTable columns={columns} items={itemsValue} onChange={onChange} isLoading={isLoading}\n                            AddButton={<CreateUnits/>} title={getFormattedMessage('unit.modal.input.base-unit.label')}\n                            totalRows={totalRecord} isShowFilterField isUnitFilter/>\n            <EditUnits handleClose={handleClose} show={editModel} unit={unit}/>\n            <DeleteUnits onClickDeleteModel={onClickDeleteModel} deleteModel={deleteModel}\n                         onDelete={isDelete}/>\n        </MasterLayout>\n    )\n};\n\nconst mapStateToProps = (state) => {\n    const {units, totalRecord, isLoading, allConfigData} = state;\n    return {units, totalRecord, isLoading, allConfigData}\n};\n\nexport default connect(mapStateToProps, {fetchUnits})(Units);\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}