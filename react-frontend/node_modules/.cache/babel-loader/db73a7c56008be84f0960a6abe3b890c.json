{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import MasterLayout from'../MasterLayout';import TopProgressBar from'../../shared/components/loaders/TopProgressBar';import TabTitle from'../../shared/tab-title/TabTitle';import ReactDataTable from'../../shared/table/ReactDataTable';import{getFormattedMessage,placeholderText}from'../../shared/sharedMethod';import CreateVariation from'./CreateVariation';import{fetchVariations}from'../../store/action/variationAction';import ActionButton from'../../shared/action-buttons/ActionButton';import EditVariation from'./EditVariation';import DeleteVariation from'./DeleteVariation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Variation=props=>{const dispatch=useDispatch();const{variations,isLoading,totalRecord}=useSelector(state=>state);const[editModel,setEditModel]=useState(false);const[deleteModel,setDeleteModel]=useState(false);const[isDelete,setIsDelete]=useState(null);const[variation,setVariation]=useState();useEffect(()=>{dispatch(fetchVariations());},[]);const handleClose=item=>{setEditModel(!editModel);setVariation(item);};const onClickDeleteModel=function(){let isDelete=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;setDeleteModel(!deleteModel);setIsDelete(isDelete);};const onChange=filter=>{dispatch(fetchVariations(filter,true));};const itemsValue=variations.length>=0&&variations.map(variation=>({name:variation.attributes.name,id:variation.id,variation_types:variation.attributes.variation_types}));const columns=[{name:placeholderText('variation.name'),selector:row=>row.name,sortField:'name',sortable:true},{name:placeholderText('variation.variation_types'),selector:row=>row.variation_types.map(type=>type.name).join(' , ')},{name:getFormattedMessage('react-data-table.action.column.label'),right:true,ignoreRowClick:true,allowOverflow:true,button:true,cell:row=>/*#__PURE__*/_jsx(ActionButton,{item:row,goToEditProduct:handleClose,isEditMode:true,onClickDeleteModel:onClickDeleteModel})}];return/*#__PURE__*/_jsxs(MasterLayout,{children:[/*#__PURE__*/_jsx(TopProgressBar,{}),/*#__PURE__*/_jsx(TabTitle,{title:placeholderText('variations.title')}),/*#__PURE__*/_jsx(ReactDataTable,{columns:columns,items:itemsValue,onChange:onChange,isLoading:isLoading,AddButton:/*#__PURE__*/_jsx(CreateVariation,{}),totalRows:totalRecord}),/*#__PURE__*/_jsx(EditVariation,{handleClose:handleClose,show:editModel,variation:variation}),/*#__PURE__*/_jsx(DeleteVariation,{onClickDeleteModel:onClickDeleteModel,deleteModel:deleteModel,onDelete:isDelete})]});};export default Variation;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","MasterLayout","TopProgressBar","TabTitle","ReactDataTable","getFormattedMessage","placeholderText","CreateVariation","fetchVariations","ActionButton","EditVariation","DeleteVariation","jsx","_jsx","jsxs","_jsxs","Variation","props","dispatch","variations","isLoading","totalRecord","state","editModel","setEditModel","deleteModel","setDeleteModel","isDelete","setIsDelete","variation","setVariation","handleClose","item","onClickDeleteModel","arguments","length","undefined","onChange","filter","itemsValue","map","name","attributes","id","variation_types","columns","selector","row","sortField","sortable","type","join","right","ignoreRowClick","allowOverflow","button","cell","goToEditProduct","isEditMode","children","title","items","AddButton","totalRows","show","onDelete"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/variation/Variation.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport MasterLayout from '../MasterLayout';\nimport TopProgressBar from '../../shared/components/loaders/TopProgressBar';\nimport TabTitle from '../../shared/tab-title/TabTitle';\nimport ReactDataTable from '../../shared/table/ReactDataTable';\nimport { getFormattedMessage, placeholderText } from '../../shared/sharedMethod';\nimport CreateVariation from './CreateVariation';\nimport { fetchVariations } from '../../store/action/variationAction';\nimport ActionButton from '../../shared/action-buttons/ActionButton';\nimport EditVariation from './EditVariation';\nimport DeleteVariation from './DeleteVariation';\n\n\nconst Variation = (props) => {\n\n    const dispatch = useDispatch();\n    const { variations, isLoading, totalRecord } = useSelector(state => state);\n    const [editModel, setEditModel] = useState(false);\n    const [deleteModel, setDeleteModel] = useState(false);\n    const [isDelete, setIsDelete] = useState(null);\n    const [variation, setVariation] = useState();\n\n    useEffect(() => {\n        dispatch(fetchVariations());\n    }, []);\n\n    const handleClose = (item) => {\n        setEditModel(!editModel)\n        setVariation(item);\n    };\n\n    const onClickDeleteModel = (isDelete = null) => {\n        setDeleteModel(!deleteModel);\n        setIsDelete(isDelete);\n    };\n\n    const onChange = (filter) => {\n        dispatch(fetchVariations(filter, true));\n    };\n\n\n    const itemsValue = variations.length >= 0 && variations.map(variation => ({\n        name: variation.attributes.name,\n        id: variation.id,\n        variation_types: variation.attributes.variation_types,\n    }));\n\n    const columns = [\n        {\n            name: placeholderText('variation.name'),\n            selector: row => row.name,\n            sortField: 'name',\n            sortable: true,\n        },\n        {\n            name: placeholderText('variation.variation_types'),\n            selector: row => row.variation_types.map(type => type.name).join(' , '),\n        },\n        {\n            name: getFormattedMessage('react-data-table.action.column.label'),\n            right: true,\n            ignoreRowClick: true,\n            allowOverflow: true,\n            button: true,\n            cell: row => <ActionButton item={row} goToEditProduct={handleClose} isEditMode={true}\n                onClickDeleteModel={onClickDeleteModel} />\n        }\n    ]\n\n    return (\n        <MasterLayout>\n            <TopProgressBar />\n            <TabTitle title={placeholderText('variations.title')} />\n            <ReactDataTable columns={columns} items={itemsValue} onChange={onChange} isLoading={isLoading}\n                AddButton={<CreateVariation />}\n                totalRows={totalRecord} />\n            <EditVariation handleClose={handleClose} show={editModel} variation={variation} />\n            <DeleteVariation onClickDeleteModel={onClickDeleteModel} deleteModel={deleteModel}\n                onDelete={isDelete} />\n        </MasterLayout>\n    )\n\n}\nexport default Variation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}