{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{connect}from'react-redux';import Form from'react-bootstrap/Form';import{getFormattedMessage,placeholderText}from'../../shared/sharedMethod';import ModelFooter from'../../shared/components/modelFooter';import ReactQuill from\"react-quill\";import'react-quill/dist/quill.snow.css';import{UpdateEmailTemplate}from\"../../store/action/emailTemplatesAction\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const EmailTemplateForm=props=>{const{id,singleEmailTemplate,UpdateEmailTemplate}=props;const navigate=useNavigate();const[emailTemplateValue,setEmailTemplateValue]=useState({name:singleEmailTemplate?singleEmailTemplate[0].name:'',content:singleEmailTemplate?singleEmailTemplate[0].content:''});const[errors,setErrors]=useState({name:'',content:\"\"});const disabled=singleEmailTemplate&&singleEmailTemplate[0].content===emailTemplateValue.content;const handleValidation=()=>{let errorss={};let isValid=false;if(!emailTemplateValue['name']){errorss['name']=getFormattedMessage('globally.input.name.validate.label');}else if(!emailTemplateValue['content']){errorss['content']=\"content must be required\";}else{isValid=true;}setErrors(errorss);return isValid;};const onChangeInput=e=>{e.preventDefault();setEmailTemplateValue(inputs=>({...inputs,[e.target.name]:e.target.value}));setErrors('');};const onSubmit=event=>{event.preventDefault();const valid=handleValidation();if(singleEmailTemplate&&valid){if(!disabled){UpdateEmailTemplate(id,emailTemplateValue,navigate);}}};const formats=[\"header\",\"bold\",\"italic\",\"underline\",\"strike\",\"blockquote\",\"list\",\"bullet\",\"indent\",\"link\"];const handleContentChange=(content,delta,source,editor)=>{setEmailTemplateValue(inputs=>({...inputs,content:content}));};return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage('globally.input.name.label'),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"required\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",readOnly:true,placeholder:placeholderText('globally.input.name.placeholder.label'),className:\"form-control disabled\",autoFocus:true,onChange:e=>onChangeInput(e),value:emailTemplateValue.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors['name']?errors['name']:null}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[getFormattedMessage('globally.input.content.label'),\": \"]}),/*#__PURE__*/_jsx(ReactQuill,{theme:\"snow\",formats:formats,value:emailTemplateValue.content,onChange:handleContentChange}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors['content']?errors['content']:null})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email-template-padding\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label text-decoration-underline\",children:[getFormattedMessage('email-content-variables.title'),\": \"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-gray-600\",children:[/*#__PURE__*/_jsx(\"li\",{children:`{customer_name}`}),/*#__PURE__*/_jsx(\"li\",{children:`{sales_id}`}),/*#__PURE__*/_jsx(\"li\",{children:`{sales_date}`}),/*#__PURE__*/_jsx(\"li\",{children:`{sales_amount}`}),/*#__PURE__*/_jsx(\"li\",{children:`{paid_amount}`}),/*#__PURE__*/_jsx(\"li\",{children:`{due_amount}`}),/*#__PURE__*/_jsx(\"li\",{children:`{app_name}`})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger d-block fw-400 fs-small mt-2\",children:errors['content']?errors['content']:null})]}),/*#__PURE__*/_jsx(ModelFooter,{onEditRecord:singleEmailTemplate,onSubmit:onSubmit,editDisabled:disabled,link:\"/app/email-templates\",addDisabled:!emailTemplateValue.name})]})})})});};export default connect(null,{UpdateEmailTemplate})(EmailTemplateForm);","map":{"version":3,"names":["React","useState","useNavigate","connect","Form","getFormattedMessage","placeholderText","ModelFooter","ReactQuill","UpdateEmailTemplate","jsxs","_jsxs","jsx","_jsx","EmailTemplateForm","props","id","singleEmailTemplate","navigate","emailTemplateValue","setEmailTemplateValue","name","content","errors","setErrors","disabled","handleValidation","errorss","isValid","onChangeInput","e","preventDefault","inputs","target","value","onSubmit","event","valid","formats","handleContentChange","delta","source","editor","className","children","type","readOnly","placeholder","autoFocus","onChange","theme","onEditRecord","editDisabled","link","addDisabled"],"sources":["C:/Users/Sithu/Music/react-frontend/src/components/Email-templates/EmailTemplateForm.js"],"sourcesContent":["import React, {useState} from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport Form from 'react-bootstrap/Form';\nimport {getFormattedMessage, placeholderText} from '../../shared/sharedMethod';\nimport ModelFooter from '../../shared/components/modelFooter';\nimport ReactQuill from \"react-quill\";\nimport 'react-quill/dist/quill.snow.css';\nimport {UpdateEmailTemplate} from \"../../store/action/emailTemplatesAction\";\n\nconst EmailTemplateForm = (props) => {\n    const {id, singleEmailTemplate, UpdateEmailTemplate} = props;\n    const navigate = useNavigate();\n\n    const [emailTemplateValue, setEmailTemplateValue] = useState({\n        name: singleEmailTemplate ? singleEmailTemplate[0].name : '',\n        content: singleEmailTemplate ? singleEmailTemplate[0].content : ''\n    });\n\n    const [errors, setErrors] = useState({\n        name: '',\n        content: \"\"\n    });\n\n    const disabled = singleEmailTemplate && singleEmailTemplate[0].content === emailTemplateValue.content\n\n    const handleValidation = () => {\n        let errorss = {};\n        let isValid = false;\n        if (!emailTemplateValue['name']) {\n            errorss['name'] = getFormattedMessage('globally.input.name.validate.label');\n        } else if (!emailTemplateValue['content']) {\n            errorss['content'] = \"content must be required\";\n        } else {\n            isValid = true;\n        }\n        setErrors(errorss);\n        return isValid;\n    };\n\n    const onChangeInput = (e) => {\n        e.preventDefault();\n        setEmailTemplateValue(inputs => ({...inputs, [e.target.name]: e.target.value}))\n        setErrors('');\n    };\n\n    const onSubmit = (event) => {\n        event.preventDefault();\n        const valid = handleValidation();\n        if (singleEmailTemplate && valid) {\n            if (!disabled) {\n                UpdateEmailTemplate(id, emailTemplateValue, navigate);\n            }\n        }\n    };\n\n    const formats = [\n        \"header\",\n        \"bold\",\n        \"italic\",\n        \"underline\",\n        \"strike\",\n        \"blockquote\",\n        \"list\",\n        \"bullet\",\n        \"indent\",\n        \"link\",\n    ];\n\n    const handleContentChange = (content, delta, source, editor) => {\n        setEmailTemplateValue(inputs => ({...inputs, content: content}))\n    }\n\n    return (\n        <div className='card'>\n            <div className='card-body'>\n                <Form>\n                    <div className='row'>\n                        <div className='col-md-6 mb-3'>\n                            <label className='form-label'>\n                                {getFormattedMessage('globally.input.name.label')}:\n                            </label>\n                            <span className='required'/>\n                            <input type='text' name='name'\n                                   readOnly={true}\n                                   placeholder={placeholderText('globally.input.name.placeholder.label')}\n                                   className='form-control disabled' autoFocus={true}\n                                   onChange={(e) => onChangeInput(e)}\n                                   value={emailTemplateValue.name}/>\n                            <span\n                                className='text-danger d-block fw-400 fs-small mt-2'>{errors['name'] ? errors['name'] : null}</span>\n\n                            <label\n                                className='form-label'>{getFormattedMessage('globally.input.content.label')}: </label>\n                            <ReactQuill theme=\"snow\" formats={formats} value={emailTemplateValue.content}\n                                        onChange={handleContentChange}/>\n                            <span\n                                className='text-danger d-block fw-400 fs-small mt-2'>{errors['content'] ? errors['content'] : null}</span>\n\n                        </div>\n                        <div className='col-md-6 mb-3 '>\n                            <div className=\"email-template-padding\">\n                                <label\n                                    className='form-label text-decoration-underline'>{getFormattedMessage('email-content-variables.title')}\n                                    : </label>\n                                {/*<textarea name='content' className='form-control' rows='3'*/}\n                                {/*          placeholder={placeholderText('globally.input.content.label')}*/}\n                                {/*          onChange={(e) => onChangeInput(e)}*/}\n                                {/*          value={emailTemplateValue.content || ''}/>*/}\n                                <ul className=\"text-gray-600\">\n                                    <li>\n                                        {`{customer_name}`}\n                                    </li>\n                                    <li>\n                                        {`{sales_id}`}\n                                    </li>\n                                    <li>\n                                        {`{sales_date}`}\n                                    </li>\n                                    <li>\n                                        {`{sales_amount}`}\n                                    </li>\n                                    <li>\n                                        {`{paid_amount}`}\n                                    </li>\n                                    <li>\n                                        {`{due_amount}`}\n                                    </li>\n                                    <li>\n                                        {`{app_name}`}\n                                    </li>\n                                </ul>\n                            </div>\n                            <span\n                                className='text-danger d-block fw-400 fs-small mt-2'>{errors['content'] ? errors['content'] : null}</span>\n                        </div>\n                        <ModelFooter onEditRecord={singleEmailTemplate} onSubmit={onSubmit} editDisabled={disabled}\n                                     link='/app/email-templates' addDisabled={!emailTemplateValue.name}/>\n                    </div>\n                </Form>\n            </div>\n        </div>\n    )\n};\n\nexport default connect(null, {UpdateEmailTemplate})(EmailTemplateForm);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}