{"ast":null,"code":"import apiConfig from'../../config/apiConfig';import{apiBaseURL,toastType,profileActionType,Tokens}from'../../constants';import{addToast}from'./toastAction';import{getFormattedMessage}from'../../shared/sharedMethod';export const fetchProfile=()=>async dispatch=>{apiConfig.get(apiBaseURL.EDIT_PROFILE).then(response=>{dispatch({type:profileActionType.FETCH_PROFILE,payload:response.data.data});}).catch(_ref=>{let{response}=_ref;dispatch(addToast({text:response.data.message,type:toastType.ERROR}));});};export const updateProfile=(profile,navigate)=>async dispatch=>{apiConfig.post(apiBaseURL.UPDATE_PROFILE,profile).then(response=>{dispatch({type:profileActionType.UPDATE_PROFILE,payload:response.data.data});localStorage.setItem(Tokens.USER_IMAGE_URL,response.data.data.attributes.image);localStorage.setItem(Tokens.UPDATED_EMAIL,response.data.data.attributes.email);localStorage.setItem(Tokens.UPDATED_FIRST_NAME,response.data.data.attributes.first_name);localStorage.setItem(Tokens.UPDATED_LAST_NAME,response.data.data.attributes.last_name);dispatch(addToast({text:getFormattedMessage('update-profile.success.update.message')}));navigate('/dashboard');}).catch(_ref2=>{let{response}=_ref2;dispatch(addToast({text:response.data.message,type:toastType.ERROR}));});};","map":{"version":3,"names":["apiConfig","apiBaseURL","toastType","profileActionType","Tokens","addToast","getFormattedMessage","fetchProfile","dispatch","get","EDIT_PROFILE","then","response","type","FETCH_PROFILE","payload","data","catch","_ref","text","message","ERROR","updateProfile","profile","navigate","post","UPDATE_PROFILE","localStorage","setItem","USER_IMAGE_URL","attributes","image","UPDATED_EMAIL","email","UPDATED_FIRST_NAME","first_name","UPDATED_LAST_NAME","last_name","_ref2"],"sources":["C:/Users/Sithu/Music/react-frontend/src/store/action/updateProfileAction.js"],"sourcesContent":["import apiConfig from '../../config/apiConfig';\nimport {apiBaseURL, toastType, profileActionType, Tokens} from '../../constants';\nimport {addToast} from './toastAction'\nimport {getFormattedMessage} from '../../shared/sharedMethod';\n\nexport const fetchProfile = () => async (dispatch) => {\n    apiConfig.get(apiBaseURL.EDIT_PROFILE)\n        .then((response) => {\n            dispatch({type: profileActionType.FETCH_PROFILE, payload: response.data.data})\n        })\n        .catch(({response}) => {\n            dispatch(addToast(\n                {text: response.data.message, type: toastType.ERROR}));\n        });\n};\n\nexport const updateProfile = (profile, navigate) => async (dispatch) => {\n    apiConfig.post(apiBaseURL.UPDATE_PROFILE, profile)\n        .then((response) => {\n            dispatch({type: profileActionType.UPDATE_PROFILE, payload: response.data.data});\n            localStorage.setItem(Tokens.USER_IMAGE_URL, response.data.data.attributes.image)\n            localStorage.setItem(Tokens.UPDATED_EMAIL, response.data.data.attributes.email)\n            localStorage.setItem(Tokens.UPDATED_FIRST_NAME, response.data.data.attributes.first_name)\n            localStorage.setItem(Tokens.UPDATED_LAST_NAME, response.data.data.attributes.last_name)\n            dispatch(addToast({text: getFormattedMessage('update-profile.success.update.message')}));\n            navigate('/dashboard')\n        })\n        .catch(({response}) => {\n            dispatch(addToast(\n                {text: response.data.message, type: toastType.ERROR}));\n        });\n};\n"],"mappings":"AAAA,MAAO,CAAAA,SAAS,KAAM,wBAAwB,CAC9C,OAAQC,UAAU,CAAEC,SAAS,CAAEC,iBAAiB,CAAEC,MAAM,KAAO,iBAAiB,CAChF,OAAQC,QAAQ,KAAO,eAAe,CACtC,OAAQC,mBAAmB,KAAO,2BAA2B,CAE7D,MAAO,MAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,KAAO,CAAAC,QAAQ,EAAK,CAClDR,SAAS,CAACS,GAAG,CAACR,UAAU,CAACS,YAAY,CAAC,CACjCC,IAAI,CAAEC,QAAQ,EAAK,CAChBJ,QAAQ,CAAC,CAACK,IAAI,CAAEV,iBAAiB,CAACW,aAAa,CAAEC,OAAO,CAAEH,QAAQ,CAACI,IAAI,CAACA,IAAI,CAAC,CAAC,CAClF,CAAC,CAAC,CACDC,KAAK,CAACC,IAAA,EAAgB,IAAf,CAACN,QAAQ,CAAC,CAAAM,IAAA,CACdV,QAAQ,CAACH,QAAQ,CACb,CAACc,IAAI,CAAEP,QAAQ,CAACI,IAAI,CAACI,OAAO,CAAEP,IAAI,CAAEX,SAAS,CAACmB,KAAK,CAAC,CAAC,CAAC,CAC9D,CAAC,CAAC,CACV,CAAC,CAED,MAAO,MAAM,CAAAC,aAAa,CAAGA,CAACC,OAAO,CAAEC,QAAQ,GAAK,KAAO,CAAAhB,QAAQ,EAAK,CACpER,SAAS,CAACyB,IAAI,CAACxB,UAAU,CAACyB,cAAc,CAAEH,OAAO,CAAC,CAC7CZ,IAAI,CAAEC,QAAQ,EAAK,CAChBJ,QAAQ,CAAC,CAACK,IAAI,CAAEV,iBAAiB,CAACuB,cAAc,CAAEX,OAAO,CAAEH,QAAQ,CAACI,IAAI,CAACA,IAAI,CAAC,CAAC,CAC/EW,YAAY,CAACC,OAAO,CAACxB,MAAM,CAACyB,cAAc,CAAEjB,QAAQ,CAACI,IAAI,CAACA,IAAI,CAACc,UAAU,CAACC,KAAK,CAAC,CAChFJ,YAAY,CAACC,OAAO,CAACxB,MAAM,CAAC4B,aAAa,CAAEpB,QAAQ,CAACI,IAAI,CAACA,IAAI,CAACc,UAAU,CAACG,KAAK,CAAC,CAC/EN,YAAY,CAACC,OAAO,CAACxB,MAAM,CAAC8B,kBAAkB,CAAEtB,QAAQ,CAACI,IAAI,CAACA,IAAI,CAACc,UAAU,CAACK,UAAU,CAAC,CACzFR,YAAY,CAACC,OAAO,CAACxB,MAAM,CAACgC,iBAAiB,CAAExB,QAAQ,CAACI,IAAI,CAACA,IAAI,CAACc,UAAU,CAACO,SAAS,CAAC,CACvF7B,QAAQ,CAACH,QAAQ,CAAC,CAACc,IAAI,CAAEb,mBAAmB,CAAC,uCAAuC,CAAC,CAAC,CAAC,CAAC,CACxFkB,QAAQ,CAAC,YAAY,CAAC,CAC1B,CAAC,CAAC,CACDP,KAAK,CAACqB,KAAA,EAAgB,IAAf,CAAC1B,QAAQ,CAAC,CAAA0B,KAAA,CACd9B,QAAQ,CAACH,QAAQ,CACb,CAACc,IAAI,CAAEP,QAAQ,CAACI,IAAI,CAACI,OAAO,CAAEP,IAAI,CAAEX,SAAS,CAACmB,KAAK,CAAC,CAAC,CAAC,CAC9D,CAAC,CAAC,CACV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}